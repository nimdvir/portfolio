(function(){var __webpack_modules__={322:function(e,t){"use strict";t.A={CUSTOM_DEPART_EVENT:"trinityDepartFireEvent"}},523:function(e,t,r){var n,o,i,a,s;n=r(9919),o=r(1987).utf8,i=r(7634),a=r(1987).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,f=-1732584194,p=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var y=s._ff,h=s._gg,m=s._hh,v=s._ii;for(d=0;d<r.length;d+=16){var b=c,g=l,_=f,w=p;c=y(c,l,f,p,r[d+0],7,-680876936),p=y(p,c,l,f,r[d+1],12,-389564586),f=y(f,p,c,l,r[d+2],17,606105819),l=y(l,f,p,c,r[d+3],22,-1044525330),c=y(c,l,f,p,r[d+4],7,-176418897),p=y(p,c,l,f,r[d+5],12,1200080426),f=y(f,p,c,l,r[d+6],17,-1473231341),l=y(l,f,p,c,r[d+7],22,-45705983),c=y(c,l,f,p,r[d+8],7,1770035416),p=y(p,c,l,f,r[d+9],12,-1958414417),f=y(f,p,c,l,r[d+10],17,-42063),l=y(l,f,p,c,r[d+11],22,-1990404162),c=y(c,l,f,p,r[d+12],7,1804603682),p=y(p,c,l,f,r[d+13],12,-40341101),f=y(f,p,c,l,r[d+14],17,-1502002290),c=h(c,l=y(l,f,p,c,r[d+15],22,1236535329),f,p,r[d+1],5,-165796510),p=h(p,c,l,f,r[d+6],9,-1069501632),f=h(f,p,c,l,r[d+11],14,643717713),l=h(l,f,p,c,r[d+0],20,-373897302),c=h(c,l,f,p,r[d+5],5,-701558691),p=h(p,c,l,f,r[d+10],9,38016083),f=h(f,p,c,l,r[d+15],14,-660478335),l=h(l,f,p,c,r[d+4],20,-405537848),c=h(c,l,f,p,r[d+9],5,568446438),p=h(p,c,l,f,r[d+14],9,-1019803690),f=h(f,p,c,l,r[d+3],14,-187363961),l=h(l,f,p,c,r[d+8],20,1163531501),c=h(c,l,f,p,r[d+13],5,-1444681467),p=h(p,c,l,f,r[d+2],9,-51403784),f=h(f,p,c,l,r[d+7],14,1735328473),c=m(c,l=h(l,f,p,c,r[d+12],20,-1926607734),f,p,r[d+5],4,-378558),p=m(p,c,l,f,r[d+8],11,-2022574463),f=m(f,p,c,l,r[d+11],16,1839030562),l=m(l,f,p,c,r[d+14],23,-35309556),c=m(c,l,f,p,r[d+1],4,-1530992060),p=m(p,c,l,f,r[d+4],11,1272893353),f=m(f,p,c,l,r[d+7],16,-155497632),l=m(l,f,p,c,r[d+10],23,-1094730640),c=m(c,l,f,p,r[d+13],4,681279174),p=m(p,c,l,f,r[d+0],11,-358537222),f=m(f,p,c,l,r[d+3],16,-722521979),l=m(l,f,p,c,r[d+6],23,76029189),c=m(c,l,f,p,r[d+9],4,-640364487),p=m(p,c,l,f,r[d+12],11,-421815835),f=m(f,p,c,l,r[d+15],16,530742520),c=v(c,l=m(l,f,p,c,r[d+2],23,-995338651),f,p,r[d+0],6,-198630844),p=v(p,c,l,f,r[d+7],10,1126891415),f=v(f,p,c,l,r[d+14],15,-1416354905),l=v(l,f,p,c,r[d+5],21,-57434055),c=v(c,l,f,p,r[d+12],6,1700485571),p=v(p,c,l,f,r[d+3],10,-1894986606),f=v(f,p,c,l,r[d+10],15,-1051523),l=v(l,f,p,c,r[d+1],21,-2054922799),c=v(c,l,f,p,r[d+8],6,1873313359),p=v(p,c,l,f,r[d+15],10,-30611744),f=v(f,p,c,l,r[d+6],15,-1560198380),l=v(l,f,p,c,r[d+13],21,1309151649),c=v(c,l,f,p,r[d+4],6,-145523070),p=v(p,c,l,f,r[d+11],10,-1120210379),f=v(f,p,c,l,r[d+2],15,718787259),l=v(l,f,p,c,r[d+9],21,-343485551),c=c+b>>>0,l=l+g>>>0,f=f+_>>>0,p=p+w>>>0}return n.endian([c,l,f,p])})._ff=function(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._gg=function(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._hh=function(e,t,r,n,o,i,a){var s=e+(t^r^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._ii=function(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},736:function(e,t,r){e.exports=function(e){function t(e){let r,o,i,a=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(8e3),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},859:function(e,t){"use strict";t.A={addStyles:function(e){var t=e.cssContent,r=e.styleId,n=e.appendTo,o=void 0===n?document.head:n,i=document.querySelector("#".concat(r));i?i.textContent=t:((i=document.createElement("style")).id=r,i.textContent=t,o.appendChild(i))},createCSSTag:function(e){var t=document.createElement("style");return t.type="text/css",t.innerHTML=e,t},createDOMNode:function(e){var t=e.htmlString,r=e.tagName,n=void 0===r?"div":r,o=e.classes,i=e.isReturnFirstElement,a=e.playerId,s=document.createElement(n);return t&&(s.innerHTML=t),i&&(s=s.firstElementChild),o&&(s.className=o.join(" ")),a&&s.setAttribute("data-player-id",a),s},injectScript:function(e){var t=e.url,r=e.isAsync,n=void 0!==r&&r,o=e.parentTag,i=void 0===o?"head":o,a=e.addCORS,s=void 0===a||a,u=document.createElement("script");return u.type="text/javascript",s&&u.setAttribute("crossorigin","anonymous"),u.src=t,u.async=n,document.getElementsByTagName(i)[0].appendChild(u),u},injectStyle:function(e){var t=e.styles,r=e.playerId,n=e.id,o=e.parentTag,i=void 0===o?"head":o,a=e.doc,s=void 0===a?document:a;r=r||Date.now().toString(),n=n||Date.now().toString();var u="trinity-style-".concat(r,"-").concat(n),c=document.getElementById(u);if(c)c.innerHTML=t;else{var l=document.createElement("style");l.innerHTML=t,l.id=u;var f=s;i&&(f=s.getElementsByTagName(i)[0]),f.appendChild(l)}}}},1113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1601:function(e){"use strict";e.exports=function(e){return e[1]}},1638:function(e,t){"use strict";t.A={injectorImp:"injectorImp",req:"req",imp:"imp",playerReady:"playerReady",contentReady:"contentReady",timeMeasurements:"timeMeasurements",cookieSyncCompleted:"cookieSyncCompleted",playClicked:"playClicked",tryPlayClickedGoogleTranslateText:"tryPlayClickedGoogleTranslateText",pauseClicked:"pauseClicked",adPauseClicked:"adPauseClicked",beforeAdRollPauseClicked:"beforeAdRollPauseClicked",sergioReq:"sergioReq",errorSergio:"errorSergio",resumed:"resumed",adResumed:"adResumed",beforeAdRollResumed:"beforeAdRollResumed",beforeAdRollLoading:"beforeAdRollLoading",adLoading:"adLoading",contentStartedLoading:"contentStartedLoading",beforeAdRollLoaded:"beforeAdRollLoaded",onAdLoaded:"onAdLoaded",audioLoaded:"audioLoaded",beforeAdRollStarted:"beforeAdRollStarted",onAdStarted:"onAdStarted",contentStarted:"contentStarted",afterSubscriptionLockedAudioStarted:"afterSubscriptionLockedAudioStarted",afterSubscriptionLockedAudioCompleted:"afterSubscriptionLockedAudioCompleted",adOpp:"adOpp",onNoAd:"onNoAd",errorAd:"errorAd",tr:"tr",onFirstQuartile:"onFirstQuartile",onAdFirstQuartile:"onAdFirstQuartile",onMidPoint:"onMidPoint",onAdMidPoint:"onAdMidPoint",onThirdQuartile:"onThirdQuartile",onAdThirdQuartile:"onAdThirdQuartile",beforeAdRollComplete:"beforeAdRollComplete",onAdComplete:"onAdComplete",onComplete:"onComplete",scrubbing:"scrubbing",seekBeforePlayClicked:"seekBeforePlayClicked",userScrollEvent:"userScrollEvent",clickLink:"clickLink",clickLockedLink:"clickLockedLink",setPlaybackRate:"setPlaybackRate",adSetPlaybackRateClicked:"adSetPlaybackRateClicked",setTranslationLanguage:"setTranslationLanguage",clickTranslationIcon:"clickTranslationIcon",performance:"performance",heartBeat:"heartBeat",swipeNext:"swipeNext",swipePrevious:"swipePrevious",skip:"skip",exitedView:"exitedView",enteredView:"enteredView",leavePage:"leavePage",fetchMetaAlert:"fetchMetaAlert",fetchMetaTookMs:"fetchMetaTookMs",emptyMAPlaylist:"emptyMAPlaylist",rewind:"rewind",forward:"forward",adRewindClicked:"adRewindClicked",adForwardClicked:"adForwardClicked",shareClick:"shareClick",shareDone:"shareDone",shareNotAvailable:"shareNotAvailable",appearanceChanged:"appearanceChanged",error:"error",apiUsed:"apiUsed",reportIssueClicked:"reportIssueClicked",giveFeedbackClicked:"giveFeedbackClicked",needHelpClicked:"needHelpClicked",displayOverlayReturnToPlayer:"displayOverlayReturnToPlayer",poweredByTagMissed:"poweredByTagMissed",blockedByRenderCondition:"blockedByRenderCondition",FABClosed:"FABClosed",FABDragged:"FABDragged"}},1987:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},2367:function(e,t,r){"use strict";r.d(t,{A:function(){return m}});var n=r(2732),o=r(1638);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function f(e,t,r){return t=d(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var h={enteredView:o.A.enteredView,exitedView:o.A.exitedView,FABShow:"FAB-show",FABHide:"FAB-hide",translateTo:"translateTo"},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,n&&c(r.prototype,n),o&&c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.A),v=s(s({},n.A.PRIVATE_MESSAGES),{generateAudio:"generateAudio",FABShow:"FAB-show",FABHide:"FAB-hide",FABResponse:"FAB-response",enteredView:"enteredView",exitedView:"exitedView",playerInView:"playerInView",playerOutOfView:"playerOutOfView",subscribeToScrollData:"subscribeToScrollData",unsubscribeToScrollData:"unsubscribeToScrollData",setPlayerMode:"setPlayerMode",isModalOpen:"isModalOpen",isTranslationSelected:"isTranslationSelected",iconPlayerButton:"iconPlayerButton",maArticle:"maArticle",hidePlayer:"hide",poweredByClicked:"poweredByClicked",extraPoweredByClicked:"extraPoweredByClicked",subscriptionLockedClicked:"subscriptionLockedClicked",brpLogoClicked:"brpLogoClicked",brpSloganClicked:"brpSloganClicked",badgeClicked:"badgeClicked",reportIssueClicked:"reportIssueClicked",giveFeedbackClicked:"giveFeedbackClicked",shareOpen:"shareOpen",sendDepart:"sendDepart"}),b=s(s({},n.A.PUBLIC_MESSAGES),h);m.privateMessages=v,m.publicMessages=b,m.prototype.privateMessages=v,m.prototype.publicMessages=b,m.prototype.PUBLIC_MESSAGE_TYPE=n.A.PUBLIC_MESSAGE_TYPE,m.prototype.PRIVATE_MESSAGE_TYPE=n.A.PRIVATE_MESSAGE_TYPE},2384:function(e,t){"use strict";function r(){var e,t,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function s(r,o,i,a){var s=o&&o.prototype instanceof c?o:c,l=Object.create(s.prototype);return n(l,"_invoke",function(r,n,o){var i,a,s,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,a=0,s=e,p.n=r,u}};function d(r,n){for(a=r,s=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(a=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,a=0))}if(o||r>1)return u;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),a=l,s=y;(t=a<2?e:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(f=p.n<0)?s:r.call(n,p))!==u)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:f}}}(r,i,a),!0),l}var u={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][i]?t(t([][i]())):(n(t={},i,(function(){return this})),t),d=f.prototype=c.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,n(d,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,a,"GeneratorFunction"),n(d),n(d,a,"Generator"),n(d,i,(function(){return this})),n(d,"toString",(function(){return"[object Generator]"})),(r=function(){return{w:s,m:y}})()}function n(e,t,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}n=function(e,t,r,o){function a(t,r){n(e,t,(function(e){return this._invoke(t,r,e)}))}t?i?i(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,o)}function o(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}t.A={load:function(e){var t=this;return i(r().m((function n(){var o,i,a,s,u,c,l,f,p,d,y,h,m,v;return r().w((function(r){for(;;)switch(r.p=r.n){case 0:return o=e.fn,i=e.moduleName,a=e.depart,s=e.retries,u=void 0===s?5:s,c=e.sleep,l=void 0===c?1e3:c,f=e.retry,p=void 0===f?0:f,r.p=1,r.n=2,o();case 2:return y=r.v,p&&a.trackError(a.EVENTS.error,"Module load: Was able to load module: ".concat(i,". Network: ").concat(JSON.stringify(null===(d=a.constDepartData)||void 0===d?void 0:d.connection_details),". Retries: ").concat(p)),r.a(2,y);case 3:if(r.p=3,v=r.v,!(p>=u)){r.n=4;break}throw a.trackError(a.EVENTS.error,"Module load: Error to load module: ".concat(i,". Network: ").concat(JSON.stringify(null===(m=a.constDepartData)||void 0===m?void 0:m.connection_details),". Retries: ").concat(p,". Error: ").concat(v.stack||v)),Error(v);case 4:return++p,a.trackError(a.EVENTS.error,"Module load: Unable to load module: ".concat(i,". Network: ").concat(JSON.stringify(null===(h=a.constDepartData)||void 0===h?void 0:h.connection_details),". Error: ").concat(v.stack||v,". Retrying (").concat(p,"). Sleep for ").concat(l," ms...")),r.n=5,t._sleep(l);case 5:return r.n=6,t.load({fn:o,moduleName:i,depart:a,retries:u,sleep:l,retry:p});case 6:return r.a(2,r.v)}}),n,null,[[1,3]])})))()},_sleep:function(e){return i(r().m((function t(){return r().w((function(t){for(;;)if(0===t.n)return t.a(2,new Promise((function(t){setTimeout(t,e)})))}),t)})))()}}},2607:function(e,t,r){"use strict";r.d(t,{A:function(){return v}});var n=r(2732),o=r(4314),i=r(1638),a=r(2972),s=r(322);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var m=[i.A.error,i.A.errorSergio],v=function(){function e(t){var r,a,s=t.commonData,u=void 0===s?{}:s,c=t.publicMessages,l=void 0===c?{}:c,f=t.host,p=void 0===f?"depart.trinitymedia.ai":f,d=t.logPrefix,y=void 0===d?"TRINITY":d,h=t.topic,m=void 0===h?"audio":h,v=t.enableTestMode,b=t.disabledDepartEvents,g=void 0===b?[]:b,_=t.isFireCustomEvent,w=t.isSendVAST,S=void 0!==w&&w;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.EVENTS=i.A,this.publicMessages=l,this.logPrefix=y,this.trackURL="https://".concat(p,"/api/collect"),this.topic=m,this.enableTestMode=v,this.disabledDepartEvents=g,this.playerMode=u.playerMode||"default",this.isFireCustomEvent=_,this.isSendVAST=S,this.constDepartData={},this.commonData=u,this.commonData.revenueConfig={pubShare:this.commonData.pubShare},this.contentData={},this.constDepartData.imp_id=this.commonData.imp_id,this.constDepartData.content_type=this.commonData.contentMode,this.constDepartData.campaign_id=Number(this.commonData.unitId),this.constDepartData.top_domain=o.A.removeSubDomainsFromHost(this.commonData.topDomain||window.location.hostname).toLowerCase(),this.constDepartData.partner_name=this.commonData.partnerName,this.constDepartData.platform=this.commonData.platform,this.constDepartData.integration_type=this.commonData.integrationType,this.constDepartData.seller_id=Number(this.commonData.publisherId),this.constDepartData.unit_theme_id=Number(this.commonData.themeId),null!==(r=this.commonData)&&void 0!==r&&r.brandedPlayerOptions&&(this.constDepartData.branded_demand_id=Number(this.commonData.brandedPlayerOptions.demandId),this.constDepartData.unit_theme_id=Number(this.commonData.brandedPlayerOptions.themeId)),this.constDepartData.user_data=this.commonData.userData,this.constDepartData.user_id=this.commonData.uuid,this.constDepartData.geo=this.commonData.geo,this.constDepartData.region=this.commonData.state,this.constDepartData.city=this.commonData.city,this.constDepartData.referrer=document.referrer||window.location.href,this.constDepartData.url=this.commonData.pageURL,this.constDepartData.server=this.commonData.server,this.constDepartData.server_region=this.commonData.server_region,this.constDepartData.server_env=this.commonData.server_env,this.constDepartData.ip=this.commonData.ip,this.constDepartData.user_agent=window.navigator.userAgent,this.constDepartData.device_type=o.A.isMobile()?"mobile":"desktop",this.constDepartData.user_agent_data=this.commonData.userAgentData||{},this.constDepartData.connection_details=o.A.networkInfo,this.isBot=this.constDepartData.user_agent_data.is_bot,this.constDepartData.ab_test=Number(null===(a=this.commonData.paramsObject)||void 0===a?void 0:a.testId),this.commonData.departIntValues&&(this.commonData.departIntValues.int1&&(this.constDepartData.int1=this.commonData.departIntValues.int1),this.commonData.departIntValues.int2&&(this.constDepartData.int2=this.commonData.departIntValues.int2),this.commonData.departIntValues.int3&&(this.constDepartData.int3=this.commonData.departIntValues.int3),this.commonData.departIntValues.int4&&(this.constDepartData.int4=this.commonData.departIntValues.int4),this.commonData.departIntValues.int5&&(this.constDepartData.int5=this.commonData.departIntValues.int5)),this.commonData.departStrValues&&(this.commonData.departStrValues.str1&&(this.constDepartData.str1=this.commonData.departStrValues.str1),this.commonData.departStrValues.str2&&(this.constDepartData.str2=this.commonData.departStrValues.str2),this.commonData.departStrValues.str3&&(this.constDepartData.str3=this.commonData.departStrValues.str3),this.commonData.departStrValues.str4&&(this.constDepartData.str4=this.commonData.departStrValues.str4),this.commonData.departStrValues.str5&&(this.constDepartData.str5=this.commonData.departStrValues.str5)),this.constDepartData.unit_type=this.commonData.unitType,this.constDepartData.player_version=this.commonData.version,this.constDepartData.sdk_data=this.commonData.SDKData,this.language=this.commonData.language,this.updatePublisherSections([]),this.isBot&&(this.constDepartData.int3=Number(this.isRequestFromCache())),this.postMessageHelper=new n.A(this.commonData.playerId)}return t=e,r=[{key:"updatePublisherSections",value:function(e){this.constDepartData.sections=e}},{key:"prepareData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){var r=p(p({kind:e},this.constDepartData),{},{content_id:this.contenId,content_asset_hash:this.contentAssetHash,content_hash:this.contentHash,language:this.language,ms_from_imp:parseInt(Date.now()-this.commonData.ts,10),multiple_article:this.getMultipleArticles(),click_prediction:this.clickPredictionData,player_mode:this.playerMode},t);return this.dataNormalization(r)}console.error(this.logPrefix,"Depart kind is not defined")}},{key:"trackErrorAd",value:function(t){var r,n=e.prepare.adData({adPlacement:this.adPlacement},{});return r="string"==typeof t?p(p({},n),{},{error:t}):p(p({},n),t),this.trackError(e.EVENTS.errorAd,r)}},{key:"trackError",value:function(t,r){try{var n=e.prepare.errorMessage(r);if(!o.A.isErrorUnique(n.text_value))return;return this._logErrorToConsole(t,n),this.track(t,n)}catch(r){var i=r.stack||r;this._logErrorToConsole(t,i),this.track(e.EVENTS.error,{text_value:i})}}},{key:"trackContent",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=p(p({},e.prepare.contentData(this.contentData)),r);return this.track(t,n)}catch(t){this.trackError(e.EVENTS.error,t)}}},{key:"trackAd",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{r.adPlacement||(r.adPlacement=this.adPlacement);var i=p(p({},e.prepare.adData(r,n)),o);return this.track(t,i)}catch(t){this.trackError(e.EVENTS.error,t)}}},{key:"track",value:function(t,r,n){try{var i=p(p({},this.prepareData(t,r)),e.prepare.contentData(this.contentData));return this.isFireCustomEvent&&o.A.fireDepartCustomEvent(t,i),this.sendDataPost(i,n),i}catch(e){this.lastResort(e)}}},{key:"lastResort",value:function(t){if(!this.isBot){var r={kind:e.EVENTS.error,url:this.commonData.pageURL||null,imp_id:this.commonData.imp_id,text_value:"LastResort: ".concat(t.stack||t)};this.sendDataPost(r)}}},{key:"sendDataPost",value:function(t,r){if(this.sendPostMessage(t,r),this._isEventAllowedToSend(t.kind)&&!this._isSkipBots(t.kind)){var n=new URLSearchParams;if(n.set("t",this.topic),this.enableTestMode){n.set("_index",++e.counter);for(var o=0,a=Object.entries(t);o<a.length;o++){var s=c(a[o],2),l=s[0],f=s[1],d=f;"object"===u(f)&&(d=JSON.stringify(f)),n.set(l,d)}var y="".concat(this.trackURL,"?").concat(n.toString());return fetch(y,{method:"POST"}).catch(console.error)}var h="".concat(this.trackURL,"?").concat(n.toString()),m=JSON.stringify(p(p({},t),{},{t:this.topic}));if(t.kind===i.A.leavePage&&navigator.sendBeacon)return navigator.sendBeacon(h,m);fetch(h,{method:"POST",mode:this.enableTestMode?void 0:"no-cors",headers:{"Content-Type":"application/json"},body:m}).catch((function(){}))}}},{key:"dataNormalization",value:function(e){return e.revenue&&(e.revenue=Number(Number(e.revenue).toFixed(4))),e.publisher_revenue&&(e.publisher_revenue=Number(Number(e.publisher_revenue).toFixed(4))),e.demand_id&&(e.demand_id=Number(e.demand_id)),o.A.clearEmptyValues(e)}},{key:"getMultipleArticles",value:function(){return{content_number:this.articleCounter||1,algo:this.commonData.multipleArticlesAlg}}},{key:"setArticleCounter",value:function(e){this.articleCounter=Number(e)}},{key:"setContentData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.contentData=o.A.clearEmptyValues(p(p({},this.contentData),e)),this.contentData.duration){var t=Number(e.duration);this.contentData.duration=Number.isInteger(t)?t:Number(t.toFixed(2))}this.contentData.content_hash&&this.setContentHash(this.contentData.content_hash),this.contentData.content_asset_hash&&this.setContentAssetHash(this.contentData.content_asset_hash)}},{key:"setClickPredictionData",value:function(e){this.clickPredictionData=e}},{key:"_logErrorToConsole",value:function(e,t){m.includes(e)&&console.error(this.logPrefix,t)}},{key:"_isSkipBots",value:function(e){return this.isBot&&(e.startsWith("error")||e===i.A.tr)}},{key:"_isEventAllowedToSend",value:function(e){return!this.disabledDepartEvents.includes(e)}},{key:"sendPostMessage",value:function(e,t){var r=e.kind;if(this.publicMessages[r]){var n=t||e.text_value;try{n=JSON.parse(e.text_value)}catch(e){}n=this._appendAdditionalInfo(n),this.postMessageHelper.sendToParent({action:r,message:n,isPublic:!0})}}},{key:"_appendAdditionalInfo",value:function(e){return this.commonData.abtest&&(e||(e={}),e.abtest=this.commonData.abtest),e}},{key:"setPlayerMode",value:function(e){this.playerMode=e}},{key:"setAdPlacement",value:function(e){this.adPlacement=e}},{key:"setContentId",value:function(e){this.contenId=e}},{key:"setContentAssetHash",value:function(e){this.contentAssetHash=e}},{key:"setContentHash",value:function(e){this.contentHash=e}},{key:"setLanguage",value:function(e){this.language=e}},{key:"updateUserData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.constDepartData.user_data=p(p({},this.constDepartData.user_data),e)}},{key:"isRequestFromCache",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tsDiffMinutes,t=60*(void 0===e?15:e)*1e3;return Date.now()-this.commonData.tsServer>t}}],r&&y(t.prototype,r),a&&y(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,a}();v.counter=0,v.EVENTS=i.A,v.prepare=a.A,v.CUSTOM_DEPART_EVENT=s.A.CUSTOM_DEPART_EVENT},2732:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var n=r(5891),o=r(9855);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var a=n&&n.prototype instanceof c?n:c,l=Object.create(a.prototype);return s(l,"_invoke",function(r,n,o){var i,a,s,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,a=0,s=e,p.n=r,u}};function d(r,n){for(a=r,s=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(a=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,a=0))}if(o||r>1)return u;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),a=l,s=y;(t=a<2?e:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(f=p.n<0)?s:r.call(n,p))!==u)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),l}var u={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(s(t={},n,(function(){return this})),t),d=f.prototype=c.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,s(d,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(d),s(d,o,"Generator"),s(d,n,(function(){return this})),s(d,"toString",(function(){return"[object Generator]"})),(a=function(){return{w:i,m:y}})()}function s(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,t,r,n){function i(t,r){s(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},s(e,t,r,n)}function u(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f="TRINITY_TTS",p="__TRINITY_TTS__",d=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerId=t},t=[{key:"sendToParent",value:function(e){var t=e.action,r=e.message,n=e.isPublic?f:p;window.parent.postMessage({type:n,value:{action:t,message:r,playerId:this.playerId}},"*")}},{key:"sendToPlayer",value:function(e){var t=e.action,r=e.message,n=e.isPublic?f:p,o='.trinity-player-iframe-wrapper[data-player-id="'.concat(this.playerId,'"] .trinity-player, .trinity-pulse-iframe-wrapper[data-player-id="').concat(this.playerId,'"] .trinity-player'),i=document.querySelector(o);null!=i&&i.contentWindow&&i.contentWindow.postMessage({type:n,value:{action:t,message:r,playerId:this.playerId}},"*")}},{key:"listenForEvents",value:function(e){var t=this,r=e.isPublic,n=e.callback,o=r?f:p,i=function(){var e,r=(e=a().m((function e(r){var i,s,u,c,l,f;return a().w((function(e){for(;;)switch(e.n){case 0:if((null===(i=r.data)||void 0===i?void 0:i.type)===o){e.n=1;break}return e.a(2);case 1:if((null===(s=r.data)||void 0===s||null===(s=s.value)||void 0===s?void 0:s.playerId)===t.playerId){e.n=2;break}return e.a(2);case 2:return l=null===(u=r.data.value)||void 0===u?void 0:u.action,f=null===(c=r.data.value)||void 0===c?void 0:c.message,e.n=3,n({action:l,value:f});case 3:return e.a(2)}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,s,"next",e)}function s(e){u(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}();return window.addEventListener("message",i),function(){window.removeEventListener("message",i)}}}],t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();d.PUBLIC_MESSAGE_TYPE=f,d.PRIVATE_MESSAGE_TYPE=p,d.PRIVATE_MESSAGES=n.A,d.PUBLIC_MESSAGES=o.A},2972:function(e,t,r){"use strict";var n=r(4314),o=["error"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}t.A={adData:function(e,t){var r,o,i,a,s=n.A.clearEmptyValues({ad_type:e.adType,ad_size:e.adSize,ad_title:e.mediaTitle,media_file:e.mediaFile,vast_media_duration:e.vastMediaDuration,dsp_name:e.dspName,ad_system:e.adSystem,ad_placement:e.adPlacement,ad_slot:null==e?void 0:e.adSlotName,ad_slot_content_duration:null==e||null===(r=e.adSlot)||void 0===r?void 0:r.duration,ad_slot_auction_content_time:null==e||null===(o=e.adSlot)||void 0===o?void 0:o.currentTime,ad_slot_rollout_time:null==e||null===(i=e.adSlot)||void 0===i?void 0:i.rolloutTime,ad_slot_rollout_percentage:null==e||null===(a=e.adSlot)||void 0===a?void 0:a.rolloutPercentage,advertiser:e.advertiser,categories:e.categories,companion_showed:e.companionShowed,ad_config:e.adConfig,integration:e.integration,auction_number:e.auctionNumber,ad_number:e.adNumber});return n.A.clearEmptyValues({demand_id:Number(t.tagId||t.demandId),ad_data:s})},errorMessage:function(e){var t={};if(e instanceof Error)t.text_value=e?e.stack||e:"No error message";else if("object"===u(e)){var r=e.error;t=a(a({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,o)),{},{text_value:r?r.stack||r:e})}else t.text_value=e;return n.A.clearEmptyValues(t)},contentData:function(e){var t={title:n.A.removeEmojis(e.title),text_length:Number(e.text_length),duration:Number(e.duration),content_url:n.A.removeHash(e.content_url),content_hash:e.content_hash,content_asset_hash:e.content_asset_hash,canonical_url:e.canonical_url,canonical_hash:e.canonical_hash,preview_duration:e.preview_duration,preview_audio_id:e.preview_audio_id};return{content_data:n.A.clearEmptyValues(t)}},transformContentData:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:r.articleTitle,text_length:null!==(e=r.text)&&void 0!==e&&e.length?Number(null===(t=r.text)||void 0===t?void 0:t.length):void 0,duration:r.estimatedDuration?Number(r.estimatedDuration):void 0,content_url:n.A.removeHash(r.contentURL),content_hash:r.contentHash,content_asset_hash:r.contentAssetHash}}}},3026:function(e,t,r){"use strict";function n(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,i,a){var s=n&&n.prototype instanceof c?n:c,l=Object.create(s.prototype);return o(l,"_invoke",function(r,n,o){var i,a,s,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,a=0,s=e,p.n=r,u}};function d(r,n){for(a=r,s=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(a=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,a=0))}if(o||r>1)return u;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),a=l,s=y;(t=a<2?e:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(f=p.n<0)?s:r.call(n,p))!==u)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:f}}}(r,i,a),!0),l}var u={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][i]?t(t([][i]())):(o(t={},i,(function(){return this})),t),d=f.prototype=c.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,o(d,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,a,"GeneratorFunction"),o(d),o(d,a,"Generator"),o(d,i,(function(){return this})),o(d,"toString",(function(){return"[object Generator]"})),(n=function(){return{w:s,m:y}})()}function o(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}o=function(e,t,r,n){function a(t,r){o(e,t,(function(e){return this._invoke(t,r,e)}))}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},o(e,t,r,n)}function i(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}t.A=function(){var e,t=(e=n().m((function e(t){var o,i,a,s,u;return n().w((function(e){for(;;)switch(e.n){case 0:if(!crypto.subtle){e.n=2;break}return o=new TextEncoder,i=o.encode(t),e.n=1,crypto.subtle.digest("SHA-256",i);case 1:return a=e.v,s=Array.from(new Uint8Array(a)),e.a(2,s.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 2:return e.n=3,r.e(6475,"high").then(r.t.bind(r,6475,23));case 3:return u=e.v.default,e.a(2,u().update(t).digest("hex"))}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()},3135:function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.A={css:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this.doc=e;try{n=this.doc.querySelectorAll(t)}catch(r){console.error(r,e,t),o(r)}if(null!==(r=n)&&void 0!==r&&r.length)return this._removeDuplicatesFromArray(Array.from(n).map((function(e){return e.src||e.content||e.textContent||e.href})).filter((function(e){return"string"==typeof e})).map((function(e){return e.trim()})))},cssAttribute:function(e,t,r){if(this.doc=e,!t)return this.doc.getAttribute(r);var n=this.doc.querySelector(t);return n?n.getAttribute(r):void 0},json_ld:function json_ld(_ref){var _this$jsonld,jsonld=_ref.jsonld,selector=_ref.selector,filter=_ref.filter,_ref$onError=_ref.onError,onError=void 0===_ref$onError?function(){}:_ref$onError;if(this.jsonld=jsonld,null!==(_this$jsonld=this.jsonld)&&void 0!==_this$jsonld&&_this$jsonld.length)try{for(var i=0;i<this.jsonld.length;++i){var _this$jsonld$i;if(null===(_this$jsonld$i=this.jsonld[i])||void 0===_this$jsonld$i||!_this$jsonld$i.textContent)return;try{var jsonldObject=JSON.parse(this.jsonld[i].textContent);if(filter){var _jsonldObject$Graph,_found,found=void 0;if(null!==(_jsonldObject$Graph=jsonldObject["@graph"])&&void 0!==_jsonldObject$Graph&&_jsonldObject$Graph.length&&(found=jsonldObject["@graph"].filter((function(element){for(var filterKey in filter){var filterValue=filter[filterKey];if(Array.isArray(filterValue)||(filterValue=[filterValue]),filterValue.includes(element[filterKey])&&eval("element.".concat(selector)))return!0}}))),null===(_found=found)||void 0===_found||!_found.length)continue;jsonldObject=found[0]}var result=eval("jsonldObject.".concat(selector));if(!result)continue;if(Array.isArray(result)&&result.length)return result;if(!Array.isArray(result)&&result.length>1)return[result]}catch(e){}}}catch(e){console.error(e),onError(e)}},_removeDuplicatesFromArray:function(e){if(e)return Array.from(new Set(Array.from(e)))}}},3854:function(e,t,r){"use strict";r.r(t),t.default={fabInitialTitle:"Listen now",initialTitle:"Listen to this article now",playingTitle:"Playing article",sponsoredContentTitle:"Article will start after this message",prerollTitle:"Article will start after the ad",iprerollTitle:"Article will resume after the ad",icustom_positionTitle:"Article will resume after the ad",midrollTitle:"Article will resume after the ad",timebasedTitle:"Article will resume after the ad",postrollTitle:"Playing ad",loading:"Loading...",playerLoadingTitle:"We're loading your content, stay tuned!",playerLoadingTitleMobile:"We're loading your content ...",nextArticle:"Next:",min:"min",listen:"listen",minute:"minute",minutes:"minutes",playingMultipleArticles:"Playing:",googleTranslateTopDomainMsg:"Google translated text is not supported",subscriptionLocked:"Subscribe to listen",badgeTooltip:"We support Ukraine. For more information click here",shareMessage:"I've listened to this article and thought you could enjoy it too",support:{buttonText:"Need help?",contentText:"Computer-generated audio. Inconsistencies in pronunciation, sentiment and tone may occur",reportIssueText:"Report an issue",reportIssueURL:"https://docs.google.com/forms/d/e/1FAIpQLSffSYNzAGIeyNCk8WiJafO0ffFK-V0SD7Mo0oCfGGwpjTw97g/viewform?entry.1213907639=[URL]",giveFeedbackText:"Give feedback",giveFeedbackURL:"https://docs.google.com/forms/d/e/1FAIpQLSeVnAEgrp-S6zu305g002WMmprYM07yT1d6_17NouNWi0phlw/viewform?entry.1998520194=[URL]"},displayOverlayReturnToPlayer:"Show audio player"}},3917:function(e,t,r){"use strict";r.r(t),t.default={initialTitle:"Escuchar este artículo ahora",playingTitle:"Escuchando artículo",sponsoredContentTitle:"El artículo comenzará después de este mensaje",prerollTitle:"El artículo comenzará después del anuncio",midrollTitle:"El artículo se reanudará después del anuncio",postrollTitle:"Reproduciendo anuncio",loading:"Cargando...",playerLoadingTitle:"Cargando el contenido",playerLoadingTitleMobile:"Cargando el contenido",nextArticle:"A continuación:",playingMultipleArticles:"Reproduciendo:",googleTranslateTopDomainMsg:"El texto traducido por Google no es compatible",subscriptionLocked:"Suscríbete para escuchar",displayOverlayReturnToPlayer:"Mostrar reproductor de audio"}},4314:function(e,t,r){"use strict";var n=r(7394),o=r(322);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g,u=["www"],c=function(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)return{effectiveType:e.effectiveType,rtt:e.rtt,downlink:e.downlink}}(),l=[];t.A={isMobile:function(){return window.navigator.userAgent.toLowerCase().includes("mobi")},networkInfo:c,clearEmptyValues:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];(null===e[n]||void 0===e[n]||Number.isNaN(e[n]))&&delete e[n]}return e},removeSubDomainsFromHost:function(e){return n.A.removeSubDomainsFromHost(e,u)},isErrorUnique:function(e){return!l.includes(e)&&(l.push(e),!0)},fireDepartCustomEvent:function(e,t){var r=new CustomEvent(o.A.CUSTOM_DEPART_EVENT,{detail:{kind:e,data:t}});window.dispatchEvent(r)},removeEmojis:function(e){return(e=e||"").replace(s,"")},trimURLProperty:function(e){var t=e.url,r=e.properties;if(t){var n,o=new URL(t,window.location.href),a=o.searchParams,s=i(r);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=u.props,l=u.maxCharacters;Array.isArray(c)||(c=[c]);var f,p=i(c);try{for(p.s();!(f=p.n()).done;){var d=f.value,y=a.get(d);if(y){var h=y.slice(0,l);a.set(d,"".concat(h,"(trimmed)..."))}}}catch(e){p.e(e)}finally{p.f()}}}catch(e){s.e(e)}finally{s.f()}return o.toString()}},removeHash:function(e){if(e)return e.split("#")[0]},_resetLoggedErrors:function(){l.length=0}}},5056:function(e,t,r){"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},5072:function(e){"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],s=0;s<e.length;s++){var u=e[s],c=n.base?u[0]+n.base:u[0],l=i[c]||0,f="".concat(c," ").concat(l);i[c]=l+1;var p=r(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var y=o(d,n);n.byIndex=s,t.splice(s,0,{identifier:f,updater:y,references:1})}a.push(f)}return a}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);t[s].references--}for(var u=n(e,o),c=0;c<i.length;c++){var l=r(i[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=u}}},5111:function(e,t,r){"use strict";r.d(t,{A:function(){return st}});var n=r(7833),o=r.n(n),i=r(3135);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.doc,n=t.jsonld,o=t.type,i=t.selector,a=t.log;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=r,this.jsonld=n,this.type=o,this.selector=i,this.log=a}return t=e,r=[{key:"getMeta",value:function(){console.info("Please implement this method")}},{key:"_getOverride",value:function(t,r){if(t&&r){if(i.A[t])return t===e.TYPE.CSS?i.A.css(this.doc,r):t===e.TYPE.JSON_LD?i.A.json_ld({jsonld:this.jsonld,selector:r}):void 0;this.log("Can't find ".concat(t," parser type"))}}},{key:"_getFirstNotEmpty",value:function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}([this._getOverride(this.type,this.selector)].concat(s(e)));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n)return Array.isArray(n)?n.join(", ").trim():n.trim()}}catch(e){r.e(e)}finally{r.f()}}},{key:"_getValidDate",value:function(e){try{return new Date(e),e}catch(e){}}}],r&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();p.TYPE={CSS:"css",JSON_LD:"json_ld"};var d=p;function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}function v(e,t,r){return t=g(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.json_ld({jsonld:this.jsonld,selector:"articleSection"}),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"articleSection"})])}}])&&h(r.prototype,n),o&&h(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function T(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}function k(e,t,r){return t=A(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.json_ld({jsonld:this.jsonld,selector:"author[0].name"}),i.A.json_ld({jsonld:this.jsonld,selector:"author.name"}),i.A.json_ld({jsonld:this.jsonld,selector:"author.name"}),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":"Person"},selector:"name"}),i.A.css(this.doc,'meta[name="author"]'),i.A.css(this.doc,'meta[property="author"]'),i.A.css(this.doc,'meta[property="article:author"]'),i.A.css(this.doc,'[itemprop="author"]')])}}])&&P(r.prototype,n),o&&P(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}function R(e,t,r){return t=L(t),function(e,t){if(t&&("object"==D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){var e=this._getFirstNotEmpty([i.A.json_ld({jsonld:this.jsonld,selector:"dateModified"}),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","WebPage","NewsArticle"]},selector:"dateModified"}),i.A.css(this.doc,'meta[property="article:modified_time"]')]);return this._getValidDate(e)}}])&&I(r.prototype,n),o&&I(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function V(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}function B(e,t,r){return t=Y(t),function(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,r||[],Y(e).constructor):t.apply(e,r))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){var e=this._getFirstNotEmpty([i.A.json_ld({jsonld:this.jsonld,selector:"datePublished"}),i.A.json_ld({jsonld:this.jsonld,selector:"dateCreated"}),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","WebPage","NewsArticle"]},selector:"datePublished"}),i.A.css(this.doc,'meta[property="article:published_time"]')]);return this._getValidDate(e)}}])&&U(r.prototype,n),o&&U(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function z(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}function K(e,t,r){return t=$(t),function(e,t){if(t&&("object"==Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J()?Reflect.construct(t,r||[],$(e).constructor):t.apply(e,r))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}var X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.css(this.doc,'meta[name="description"]'),i.A.json_ld({jsonld:this.jsonld,selector:"description"}),i.A.css(this.doc,'meta[property="og:description"]'),i.A.css(this.doc,'meta[name="twitter:description"]'),i.A.css(this.doc,'[itemprop="description"]'),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"description"})])}}])&&q(r.prototype,n),o&&q(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d),ee=r(7394);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function ne(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}function oe(e,t,r){return t=ae(t),function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ie()?Reflect.construct(t,r||[],ae(e).constructor):t.apply(e,r))}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){var e=this._getFirstNotEmpty([i.A.css(this.doc,'link[rel~=icon][sizes="196x196"]'),i.A.css(this.doc,'link[rel~=icon][sizes="192x192"]'),i.A.css(this.doc,'link[rel~=icon][sizes="128x128"]'),i.A.css(this.doc,'link[rel~=icon][sizes="96x96"]'),i.A.css(this.doc,'link[rel~=icon][sizes="64x64"]'),i.A.css(this.doc,'link[rel~=icon][sizes="32x32"]'),i.A.css(this.doc,'link[rel~=icon][sizes="16x16"]'),i.A.css(this.doc,"link[rel~=icon]"),i.A.css(this.doc,'link[rel*="apple-touch-icon"]'),i.A.css(this.doc,'meta[name*="msapplication-tileimage" i]')]);return ee.A.getFullURL(e)}}])&&re(r.prototype,n),o&&re(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fe(n.key),n)}}function fe(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}function pe(e,t,r){return t=ye(t),function(e,t){if(t&&("object"==ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,de()?Reflect.construct(t,r||[],ye(e).constructor):t.apply(e,r))}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}var me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){var e=this._getFirstNotEmpty([i.A.json_ld({jsonld:this.jsonld,selector:"image[0].url"}),i.A.json_ld({jsonld:this.jsonld,selector:"image.url"}),i.A.json_ld({jsonld:this.jsonld,selector:"image[0]"}),i.A.json_ld({jsonld:this.jsonld,selector:"image"}),i.A.css(this.doc,'meta[property="og:image"]'),i.A.css(this.doc,'meta[itemprop="image"]'),i.A.css(this.doc,'meta[name="twitter:image"]'),i.A.css(this.doc,'meta[property="og:image:secure_url"]'),i.A.css(this.doc,'meta[property="og:image:url"]'),i.A.css(this.doc,'meta[name="twitter:image:src"]'),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"image.url"}),i.A.css(this.doc,"img:not(#wpadminbar img, .wp-block-comments img)")]);return ee.A.getFullURL(e)}}])&&le(r.prototype,n),o&&le(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ge(n.key),n)}}function ge(e){var t=function(e,t){if("object"!=ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ve(t)?t:t+""}function _e(e,t,r){return t=Se(t),function(e,t){if(t&&("object"==ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,we()?Reflect.construct(t,r||[],Se(e).constructor):t.apply(e,r))}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}var Te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_e(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.cssAttribute(this.doc,"","lang"),i.A.css(this.doc,'meta[itemprop="og:locale"]'),i.A.css(this.doc,'meta[property="og:locale"]'),i.A.json_ld({jsonld:this.jsonld,selector:"inLanguage"}),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"inLanguage"})])}}])&&be(r.prototype,n),o&&be(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ae(n.key),n)}}function Ae(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}function Oe(e,t,r){return t=De(t),function(e,t){if(t&&("object"==ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,je()?Reflect.construct(t,r||[],De(e).constructor):t.apply(e,r))}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.json_ld({jsonld:this.jsonld,selector:"publisher.name"}),i.A.css(this.doc,'meta[property="og:site_name"]')])}}])&&Ee(r.prototype,n),o&&Ee(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Le(n.key),n)}}function Le(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function Me(e,t,r){return t=Fe(t),function(e,t){if(t&&("object"==Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xe()?Reflect.construct(t,r||[],Fe(e).constructor):t.apply(e,r))}function xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xe=function(){return!!e})()}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ue(e,t)}var Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.css(this.doc,"head title"),i.A.css(this.doc,'meta[property="og:title"]')])}}])&&Ne(r.prototype,n),o&&Ne(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ye(n.key),n)}}function Ye(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Be(t)?t:t+""}function Ge(e,t,r){return t=Qe(t),function(e,t){if(t&&("object"==Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,He()?Reflect.construct(t,r||[],Qe(e).constructor):t.apply(e,r))}function He(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(He=function(){return!!e})()}function Qe(e){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qe(e)}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}var ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ge(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.css(this.doc,"link[rel=canonical]")])}}])&&We(r.prototype,n),o&&We(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$e(n.key),n)}}function $e(e){var t=function(e,t){if("object"!=Ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ke(t)?t:t+""}function Ze(e,t,r){return t=et(t),function(e,t){if(t&&("object"==Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xe()?Reflect.construct(t,r||[],et(e).constructor):t.apply(e,r))}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}var rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ze(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(t,e),r=t,(n=[{key:"getMeta",value:function(){return this._getFirstNotEmpty([i.A.css(this.doc,'meta[property="article:section"]'),i.A.css(this.doc,'meta[name="section"]'),i.A.css(this.doc,'meta[property="article:tag"]'),i.A.json_ld({jsonld:this.jsonld,selector:"articleSection"}),i.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"articleSection"}),i.A.json_ld({jsonld:this.jsonld,selector:"keywords"}),i.A.css(this.doc,'meta[name="keywords"]')])}}])&&Je(r.prototype,n),o&&Je(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(d),nt={articleSection:w,author:j,dateModified:x,datePublished:H,description:X,faviconURL:ue,imageURL:me,language:Te,publisher:Ce,title:Ve,canonicalURL:ze,section:rt};function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,at(n.key),n)}}function at(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}var st=function(){return e=function e(t){var r=t.doc,n=void 0===r?document.documentElement:r,i=t.overrides,a=void 0===i?{}:i,s=t.logPrefix,u=void 0===s?"TRINITY":s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=n,this.jsonld=n.querySelectorAll('script[type="application/ld+json"]'),this.overrides=a,this.log=o()("".concat(u,":MetadataScraper"))},(t=[{key:"find",value:function(){var e=this,t={};return Object.keys(nt).forEach((function(r){var n,o,i=new(0,nt[r])({doc:e.doc,jsonld:e.jsonld,type:null===(n=e.overrides[r])||void 0===n?void 0:n.type,selector:null===(o=e.overrides[r])||void 0===o?void 0:o.selector,log:e.log});t[r]=i.getMeta()})),t}}])&&it(e.prototype,t),r&&it(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}()},5131:function(e,t){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.A={getHexFromColorName:function(e){if(e)return this._getCanvasCtx(e).fillStyle},getRGBFromColorName:function(e){if(e){var t=this._getCanvasCtx(e);t.fillRect(0,0,1,1);var n=r(t.getImageData(0,0,1,1).data,4);return{r:n[0],g:n[1],b:n[2],a:n[3]}}},cssStylesObjectToString:function(e){var t="";if(!e)return t;for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];t+="".concat(o,": ").concat(e[o],"; ")}return t},getPageBackgroundColor:function(e){for(var t=function(e){return["transparent","rgba(0, 0, 0, 0)"].includes(window.getComputedStyle(e).backgroundColor)};t(e)&&e.parentNode!==document;)e=e.parentNode;if(!t(e))return this.rgbToHex(this.getRGBFromRGBA(this.getRGBFromColorName(window.getComputedStyle(e).backgroundColor)))},isDarkAppearanceFromColor:function(e){var t=this.getRGBFromColorName(e);if(t)return(299*(t=this.getRGBFromRGBA(t)).r+587*t.g+114*t.b)/1e3<128},getRGBFromRGBA:function(e){var t=e.r,r=e.g,n=e.b,o=e.a,i=(void 0===o?255:o)/255;return{r:Math.round(255*(1-i)+i*t),g:Math.round(255*(1-i)+i*r),b:Math.round(255*(1-i)+i*n)}},rgbToHex:function(e){var t=e.r,r=e.g,n=e.b;if(Number.isInteger(t)&&Number.isInteger(r)&&Number.isInteger(n)){var o=function(e){return e.toString(16).padStart(2,"0")};return"#".concat(o(t)).concat(o(r)).concat(o(n))}},_getCanvasCtx:function(e){var t=document.createElement("canvas");t.width=t.height=1;var r=t.getContext("2d");return r.fillStyle=e,r}}},5780:function(e,t){"use strict";t.A={displayModes:{displayExpanded:"display_expanded",displayOverlay:"display_overlay"},displayAdExpandedRenderTypes:{onInit:"onInit",afterClick:"afterClick"},displaySizes:[{width:970,height:90},{width:728,height:90},{width:468,height:60},{width:320,height:50},{width:300,height:250},{width:234,height:60}],displayOverlayDefaults:{timeout:2e3,height:90},displayExpandedDefaults:{maxAdHeight:250},defaultRefreshInterval:3e4,allowBiggerAdWidthCoefficient:1.22,returnToPlayerDefaults:{stripe:{height:20,backgroundColor:"#0077FF"}}}},5891:function(e,t){"use strict";t.A={ready:"ready",pausedAll:"pausedAll",playerPlay:"playerPlay",playerPause:"playerPause",playerStop:"playerStop",playClicked:"playClicked",resumed:"resumed",getDuration:"getDuration",getVolume:"getVolume",setVolume:"setVolume",setMuted:"setMuted",setCurrentTime:"setCurrentTime",getCurrentTime:"getCurrentTime",getTimeUpdateData:"getTimeUpdateData",changeAudioType:"changeAudioType",resize:"resize",resizeWindow:"resizeWindow",setArticleMetadata:"setArticleMetadata",updateUserData:"updateUserData",notifyAboutFirstClick:"notifyAboutFirstClick",displayToggleView:"displayToggleView",displayRefresh:"displayRefresh",displayInit:"displayInit",updateState:"updateState",setAudioData:"setAudioData",playerData:"playerData",contentData:"contentData",startPlayer:"startPlayer",removePlayer:"trinity-remove-player",fetchVAST:"fetchVAST",playerRemovedFromDOM:"playerRemovedFromDOM",id5Request:"id5Request",id5Response:"id5Response"}},5975:function(e,t,r){var n={"./af-translation.js":[9346,9346],"./am-translation.js":[4003,4003],"./ar-translation.js":[2302,2302],"./bg-translation.js":[5478,5478],"./bn-translation.js":[8641,8641],"./ca-translation.js":[4233,4233],"./cs-translation.js":[9327,9327],"./cy-translation.js":[6977,6977],"./da-translation.js":[5194,5194],"./de-translation.js":[9494,9494],"./el-translation.js":[5276,5276],"./en-translation.js":[3854],"./es-translation.js":[3917],"./et-translation.js":[6772,6772],"./fa-translation.js":[5108,5108],"./fi-translation.js":[5852,5852],"./fil-translation.js":[5162,5162],"./fr-translation.js":[3785,3785],"./ga-translation.js":[3845,3845],"./gl-translation.js":[1830,1830],"./gu-translation.js":[4145,4145],"./he-translation.js":[7034],"./hi-translation.js":[6302,6302],"./hr-translation.js":[3807,3807],"./hu-translation.js":[7130,7130],"./id-translation.js":[8296,8296],"./is-translation.js":[7401,7401],"./it-translation.js":[856,856],"./ja-translation.js":[2944,2944],"./jv-translation.js":[5953,5953],"./km-translation.js":[9453,1834],"./kn-translation.js":[9816,9816],"./ko-translation.js":[515,515],"./lt-translation.js":[5825,5825],"./lv-translation.js":[2359,2359],"./ml-translation.js":[3332,3332],"./mr-translation.js":[9922,9922],"./ms-translation.js":[4165,4165],"./mt-translation.js":[1596,1596],"./my-translation.js":[2499,2499],"./nb-translation.js":[9726,7345],"./nl-translation.js":[8771,8771],"./no-translation.js":[7482,7482],"./pa-translation.js":[174,174],"./pl-translation.js":[4397,4397],"./pt-translation.js":[4885,4885],"./ro-translation.js":[1502,1502],"./ru-translation.js":[3076,3076],"./sk-translation.js":[7111,7111],"./sl-translation.js":[7090,7090],"./so-translation.js":[1160,5131],"./sr-translation.js":[6180,6180],"./su-translation.js":[1834,9453],"./sv-translation.js":[680,680],"./sw-translation.js":[8483,8483],"./ta-translation.js":[7754,7754],"./te-translation.js":[4342,4342],"./th-translation.js":[3221,3221],"./tr-translation.js":[2131,2131],"./uk-translation.js":[6549,6549],"./ur-translation.js":[9738,9738],"./uz-translation.js":[9074,9074],"./vi-translation.js":[4668,4668],"./zh-translation.js":[3139,3139],"./zu-translation.js":[1884,1884]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((function(){return r(o)}))}o.keys=function(){return Object.keys(n)},o.id=5975,e.exports=o},6025:function(e,t,r){"use strict";var n=r(2607),o=r(2367);window.TRINITY_PLAYER=window.TRINITY_PLAYER||{options:{}},window.TRINITY_PLAYER.players=window.TRINITY_PLAYER.players||{};var i=window.TRINITY_PLAYER.players[Object.keys(window.TRINITY_PLAYER.players)[0]]||{};t.A=new n.A({commonData:{ts:window.TRINITY_PLAYER.ts,tsServer:window.TRINITY_PLAYER.tsServer,version:i.version,uuid:window.TRINITY_PLAYER.userId,topDomain:window.location.host,unitId:i.unitId,pageURL:window.location.href,userAgentData:window.TRINITY_PLAYER.userAgentData,server:window.TRINITY_PLAYER.server,server_region:window.TRINITY_PLAYER.server_region,server_env:window.TRINITY_PLAYER.server_env,integrationType:i.integrationType,publisherId:window.TRINITY_PLAYER.publisherId,unitType:i.unitType,paramsObject:i.paramsObject,language:i.language,themeId:i.themeId},publicMessages:o.A.publicMessages,enableTestMode:"1"===new URLSearchParams(window.location.search).get("TRINITY_TEST_QP"),disabledDepartEvents:window.TRINITY_PLAYER.options.disabledDepartEvents})},6314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},7016:function(e,t,r){"use strict";var n=r(5131),o="light",i="dark",a="auto_init",s="auto_react",u="auto_by_bg_color";t.A={isDark:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isMobileAppDark)return!0;var e=this.getDarkMedia();return!!e&&e.matches},listenForColorSchemaChange:function(e){var t=this;if(e&&window.matchMedia&&this.getDarkMedia())return this.getDarkMedia().addEventListener?this.getDarkMedia().addEventListener("change",(function(){return e(t.isDark())})):void(this.getDarkMedia().addListener&&this.getDarkMedia().addListener((function(){return e(t.isDark())})))},getDarkMedia:function(){if(window.matchMedia)return window.matchMedia("(prefers-color-scheme: dark)")},handleIsDarkProperty:function(e){var t=e.unitThemeAppearance,r=e.isDarkInit,c=e.backgroundColor;return t!==o&&(t===i||(t===a?r:t===s?this.isDark():t===u&&n.A.isDarkAppearanceFromColor(c)))},applyStylesOnSchemeChange:function(e){e(this.isDark()),this.listenForColorSchemaChange(e)}}},7034:function(e,t,r){"use strict";r.r(t),t.default={initialTitle:"למה לקרוא כשאפשר להאזין? לחצו כאן לשמוע",playingTitle:"התוכן מושמע עכשיו",sponsoredContentTitle:"התוכן יתחיל לאחר מודעה קצרה",prerollTitle:"התוכן יתחיל לאחר מודעה קצרה",iprerollTitle:"מודעה קצרה וכבר חוזרים",icustom_positionTitle:"מודעה קצרה וכבר חוזרים",midrollTitle:"מודעה קצרה וכבר חוזרים",timebasedTitle:"מודעה קצרה וכבר חוזרים",postrollTitle:"מודעה קצרה וכבר חוזרים",loading:"רק עוד רגע, התוכן נטען",playerLoadingTitle:"רק עוד רגע, התוכן נטען",playerLoadingTitleMobile:"רק עוד רגע, התוכן נטען",nextArticle:"התוכן הבא שלך",min:"דקה",minute:"דקה",minutes:"דקות",playingMultipleArticles:"כותרת התוכן:",googleTranslateTopDomainMsg:"Google translated text is not supported",listen:"האזינו:"}},7063:function(e,t){"use strict";t.A={waitFor:function(e){return new Promise((function(t){setTimeout(t,e)}))},waitUntil:function(e){var t=e.fn,r=e.interval,n=void 0===r?50:r,o=e.timeout,i=void 0===o?5e3:o;return new Promise((function(e,r){function o(){clearInterval(s),clearTimeout(u)}function a(){try{t()&&(e(),o())}catch(e){o(),r("waitUntil: Error while evaluating the condition: ".concat(e.message))}}a();var s=setInterval((function(){a()}),n),u=setTimeout((function(){var e="waitUntil: Rejected due to timeout: ".concat(i,"ms");console.warn(e),r(e),o()}),i)}))}}},7250:function(e,t,r){"use strict";r.d(t,{A:function(){return f}});var n=a;function o(){var e=["WPm+WPnbjmkRqGeaAmkB","WPnsqu/dRXSuWQb1WQZcOfO","WP9AcSk6gmoSmSoSBKK/BmkdrsLpDSoHwszbWRS","xmkUW7ypWRzLuG7dQ8oJbKxcR8k4WQRcQW","W4xdVcqkWRuhWPuFWRBdGSo0DW","EY/cQmootCozWQW2W63dISoyWObf","vmo9FbaJW5Ss","WOtcH1ynW74FAurxrHOTldVdHbRdMmkkW6ddO0C","lSoQW47dJConD2dcMSorWOFdGKddU1uoW4xdRwnooMldK0hcQ8othmk2x8kzhNWKWOnjWPnp","pSkUWO/cLW3cNSo8W7VcQ8k0WRVcLW","sIrbW5b5cqFcH8koBSk9jG","W6RcUIy8W7rxWP1rW6ldRCo6zYy2fqTXW7S","W7undWZcJNBdJcaEw2ZcGSoB","FhrvWO3dTSkgiSojWQijoa","k8kXqmkNWO5ghHOUAmkIWPKx","dtbSwSo/omoQxGtcV8knW4pcVW","bdZcNHOTW4ldK8kAWRirW7f+fmooW64","y3f6WQ82WQ7dVSoSpCoPkmkBW7qkB8khzxhcPs1Q","uCk+dMjfWRiPoCoCW7vnW6q","W6BdKCoJWPJcVZyXsGpcL8oKrq","n8kQWQm1hmkPWRaQuamjW6q","Ab7cL8k9ncmwWQLpW7hdIKFcU8ogv3lcM1K/","W68brH1xW51GW47cJmkYWPVdIq","jbRcPcSuW7RdQ8kUWPiNW4DBF8oTW5jB","l8oOW4/cN8ofDMldOSkkW53cVuO","WPyJoCk/nY9MymoSWO9s","E1BdL8o9fmonrCktW7tcUmkcta","oSkMWOVcLWJcLmo4W5ZcLCk4WOpcQW","hd4BvCoVgmoy","tcHjWO17dNZdTmorp8ogkSkYufj2WOVcKmoMWO4pArfGWPBcUSo+WPbLW5JcV8oHW7hdUcldSa","f8o6sqSDW6SzoSoIW5DTW7tdPSkaCJJcP8oxvW","W4JdJhZdMwbto8k2WOVcRSoNWRJcVwPGW7j9WQC"];return(o=function(){return e})()}!function(e){for(var t=a,r=e();;)try{if(113532===-parseInt(t(372,"xjqr"))/1+-parseInt(t(367,"5AFC"))/2+parseInt(t(366,"fPB7"))/3+-parseInt(t(362,"zkN6"))/4+parseInt(t(377,"tEE)"))/5+parseInt(t(359,"DMY0"))/6*(-parseInt(t(378,"ewLx"))/7)+parseInt(t(382,"QQ!F"))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(o);var i={};function a(e,t){var r=o();return a=function(t,n){var o=r[t-=351];if(void 0===a.UEPGyJ){a.CvrfpL=function(e,t){var r,n,o=[],i=0,a="";for(e=function(e){for(var t,r,n="",o="",i=0,a=0;r=e.charAt(a++);~r&&(t=i%4?64*t+r:r,i++%4)?n+=String.fromCharCode(255&t>>(-2*i&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(var s=0,u=n.length;s<u;s++)o+="%"+("00"+n.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(o)}(e),n=0;n<256;n++)o[n]=n;for(n=0;n<256;n++)i=(i+o[n]+t.charCodeAt(n%t.length))%256,r=o[n],o[n]=o[i],o[i]=r;n=0,i=0;for(var s=0;s<e.length;s++)i=(i+o[n=(n+1)%256])%256,r=o[n],o[n]=o[i],o[i]=r,a+=String.fromCharCode(e.charCodeAt(s)^o[(o[n]+o[i])%256]);return a},e=arguments,a.UEPGyJ=!0}var i=t+r[0],s=e[i];return s?o=s:(void 0===a.LiJFBw&&(a.LiJFBw=!0),o=a.CvrfpL(o,n),e[i]=o),o},a(e,t)}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}i[n(374,"gmdL")]=[n(371,"y5qW"),n(356,"Uneq"),n(360,"rhYc"),n(375,"mX#("),n(357,"5Jdq")],i[n(353,"W$Yh")]=n(363,"Uneq"),i[n(352,"P#$l")]=n(369,"QQ!F"),i[n(370,"ewLx")]=n(361,"B8hC"),i[n(379,"wz4J")]=n(380,"HUoy"),i[n(354,"pp%i")]=[97,71,70,122,90,71,89,104,81,67,78,104],i[n(351,"oJK!")]=[90,110,82,53,99,71,49,119,78,68,74,112,99,50,57,116,98,88,65,48,77,108,115,47,98,87,57,118,100,109,120,116,100,109,104,107,80,51,108,65,100,72,74,104,97,50,116,111,90,68,78,65,80,122,56,107,90,87,82,48,99,50,86,115,99,51,81,122,80,122,56,51,98,87,82,112,89,83,66,116,90,71,104,107,100,84,65];var f=c(c({logPrefix:"TRINITY_TTS"},i),{},{averageAudioTimePerChar:{en:.0615,de:.053,he:.085,es:.05,zh:.175,ja:.17},brandedPlayer:"branded_player",sponsoredContent:"sponsored_content",documentLoadTypes:{DOMContentLoaded:"DOMContentLoaded",onload:"onload",onSelectorVisible:"onSelectorVisible",onSelectorExists:"onSelectorExists"},wrapperClass:"trinity-player-iframe-wrapper",iframeClass:"trinity-iframe",placeholderClass:"trinityAudioPlaceholder",hideClass:"trinity-hide",fabViewClass:"fab-view",displayShowClass:"display-show",excludeTags:["trinity-player-iframe-wrapper","script","noscript","style","iframe","svg","trinity-skip-it","twitter-widget","figure"],displayWrapperClass:"display-wrapper",varMultiplePlayers:"__trinityMultiplePlayers__",sergioURL:"/player/api",multipleArticlesURL:"/player/multiple-articles",playerHeight:{int:80,px:"80px"},languageMap:{arb:"ar",cmn:"zh"},timeOutAfterNextTitleAudio:1e3,maxTextLength:2e5,errorCode:{InvalidText:1,TemporaryUnavailable:6},userEventTypes:{scroll:"scroll"},defaultColorMain:"#000033",defaultProgressbarBGColor:"#ebebeb",homePage:"https://trinityaudio.ai",memeVideoAdDomain:"https://vd.ads.memevideoad.com",heartBeatInterval:3e5,googleTranslateTopDomain:"translate.googleusercontent.com",playerMode:{default:"default",fab:"fab",mediaControls:"media_controls",displayOverlay:"display_overlay"},playerType:{subscriptionLocked:"subscription-locked",iconPlayerExpandable:"icon-expandable"},viewabilityThreshold:90,adTypes:{brandedPlayer:"branded_player",sponsoredContent:"sponsored_content",audio:"audio",display:"display",video:"video"}})},7258:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return Publisher}});var debug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7833),debug__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_0__),_trinity_publisher_sections_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9326),_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6025);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Publisher=function(){function Publisher(e){var t=e.pageURL,r=e.doc,n=e.tagScriptQueryParams,o=e.playerData;_classCallCheck(this,Publisher),this.playerData=o,this.depart=_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__.A,this.log=debug__WEBPACK_IMPORTED_MODULE_0___default()("TRINITY:Publisher"),this.publisherSections=new _trinity_publisher_sections_lib__WEBPACK_IMPORTED_MODULE_1__.A({pageURL:t,doc:r,tagScriptQueryParams:n,publisherSections:null==o?void 0:o.publisherSections,publisherSectionsAutoEnabled:null==o?void 0:o.publisherSectionsAutoEnabled,depart:_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__.A})}return _createClass(Publisher,[{key:"getPublisherUserId",value:function getPublisherUserId(){var _this$playerData=this.playerData,publisherUserId=_this$playerData.publisherUserId,publisherUserIdOptions=_this$playerData.publisherUserIdOptions;if(publisherUserId)return publisherUserId;var userIdFromPath=null;try{var _JSON$parse=JSON.parse(publisherUserIdOptions),path=_JSON$parse.path;path&&(userIdFromPath=eval(path))}catch(e){this.depart.trackError(_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__.A.EVENTS.error,"Can't parse publisherUserIdOptions. ".concat(e))}return userIdFromPath}},{key:"getPublisherSectionData",value:function(){return this.publisherSections.getPublisherSectionData()}}])}()},7345:function(e,t){"use strict";var r="trinitymedia.ai",n="dev-sas.site",o="vd.trinitymedia.ai",i=[r,n];t.A={PLAYERS:{SPONSORED_CONTENT:"sponsoredContent",AUDIO_CLOSER:"audioCloser",BEFORE_AD_ROLL:"beforeAdRoll",AD:"ad",BEFORE_MA_ROLL:"beforeMARoll",CONTENT:"content",AFTER_SUBSCRIPTION_LOCKED_AUDIO:"afterSubscriptionLockedAudio"},CONTENT_TYPES:{VOA:"voiceOverArticle",CF:"customFile"},HOSTNAME:r,HOSTNAME_DEV:n,CDN_HOSTNAME:o,SERVED_HOSTNAMES:i,GOOGLE_IMA_DEMAND_TYPE:"google_audio_ima",AD_TYPES:{AUDIO:"audio",DISPLAY:"display",VIDEO:"video",SPONSORED_CONTENT:"sponsored_content",AUDIO_CLOSER:"audio_closer",BRANDED_PLAYER:"branded_player"},AD_PLACEMENT:{PREROLL:"preroll",IPREROLL:"ipreroll",TIMEBASED:"timebased",POSTROLL:"postroll",SPONSORED_CONTENT:"sponsored_content",AUDIO_CLOSER:"audio_closer",ICUSTOM_POSITION:"icustom_position"},USER_DATA:{USER_ID_TS:"userIdTS",FIRST_CLICK_TS:"firstClickTS"},COOKIE:{trinityUserIdCookieKey:"TRINITY_USER_ID",trinityUserIdCookieTTLDays:365},UNIT_TYPES:{TTS:"tts-player",PULSE:"pulse",CAST:"cast",SHARE:"player-share"},UNIT_ENVIRONMENT:{WP:"wordpress"},contentTimeout:6e4,supportedContentTimeout:2e3,audioCloserTimeout:4e3,sponsoredContentPathPrefix:"https://".concat(o,"/audio/sponsored-content"),audioCloserPathPrefix:"https://".concat(o,"/audio/audio-closer"),subscriptionLockedPreviewPathPrefix:"https://".concat(o,"/audio/subscription-locked-preview"),beforeRollPath:"https://".concat(o,"/audio/playerAudioFiles"),beforeAdRollFileName:"before-roll.mp3",beforeMARollFileName:"next-article.mp3",activatedFileName:"activated.mp3",beforeMaRollPauseBefore:1,beforeMaRollPauseAfter:1,beforeAudioCloserPause:1.5,beforeSubscriptionLockedAudioPause:.5,getUnitData:function(e){return e?JSON.parse(atob(e.split("").reverse().join(""))):{}}}},7394:function(e,t,r){"use strict";var n=r(3026),o=r(523),i=r.n(o),a=r(9614);function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof c?n:c,l=Object.create(s.prototype);return u(l,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(u(t={},n,(function(){return this})),t),d=f.prototype=c.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,u(d,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,n,(function(){return this})),u(d,"toString",(function(){return"[object Generator]"})),(s=function(){return{w:i,m:y}})()}function u(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}u=function(e,t,r,n){function i(t,r){u(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},u(e,t,r,n)}function c(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var l=["www","amp"];t.A={getFullURL:function(e){var t;if(e)return e.startsWith("://")&&(e=e.replace("://","//")),new URL(e,null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href).href},removeSubDomainsFromHost:function(e,t){return null!=t&&t.length?t.reduce((function(e,t){return function(e,t){t+=".",e.startsWith(t)&&(e=e.slice(t.length));return e}(e,t)}),e):e},getCleanURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,r=e.whitelistURLParams,n=this.getFullURL(t);if(n){var o,i=new URL(this.getFullURL(n));if(null!=r&&r.length){var a=new URLSearchParams;r.sort().map((function(e){var t=i.searchParams.get(e);t&&a.set(e,t)})),a.size&&(o="?".concat(a.toString()))}var s=this.removeSubDomainsFromHost(i.host,l),u="".concat(s).concat(i.pathname);return o&&(u+=o),u}},getLTD:function(e){if(e)return new URL(e).hostname.split(".").slice(-2).join(".")},getContentHash:function(e){var t,r=this;return(t=s().m((function t(){var o,i;return s().w((function(t){for(;;)switch(t.n){case 0:if(o=e.url,i=e.whitelistURLParams,o){t.n=1;break}return t.a(2);case 1:return t.a(2,(0,n.A)(r.getCleanURL({url:o,whitelistURLParams:i})))}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){c(i,n,o,a,s,"next",e)}function s(e){c(i,n,o,a,s,"throw",e)}a(void 0)}))})()},getCanonicalHash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canonicalURL,r=e.language;if(t&&r)return i()("".concat(t,"_").concat(r))},getCanonicalHashWrapped:function(e){if(e){var t=(0,a.crc16)(e).toString(16).padStart(4,"0");return"".concat(t).concat(e)}},searchParamsToObject:function(e){var t={};if(e)return new URLSearchParams(decodeURIComponent(e)).forEach((function(e,r){t[r]=e})),t},removeEmptyValues:function(e){Array.from(e.keys()).forEach((function(t){["null","undefined",""].includes(e.get(t))&&e.delete(t)}))},getUTMString:function(e){if(!e)return"";var t=new URLSearchParams,r=new URL(e);return t.set("utm_source",r.origin),t.set("utm_medium","player%20lin"),t.toString()},defaultValue:function(e){return String(null!=e?e:"")}}},7634:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},7659:function(e){"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},7825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7833:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(736)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},8e3:function(e){var t=1e3,r=60*t,n=60*r,o=24*n,i=7*o,a=365.25*o;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,u){u=u||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var u=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return u.long?function(e){var i=Math.abs(e);if(i>=o)return s(e,i,o,"day");if(i>=n)return s(e,i,n,"hour");if(i>=r)return s(e,i,r,"minute");if(i>=t)return s(e,i,t,"second");return e+" ms"}(e):function(e){var i=Math.abs(e);if(i>=o)return Math.round(e/o)+"d";if(i>=n)return Math.round(e/n)+"h";if(i>=r)return Math.round(e/r)+"m";if(i>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8129:function(e,t,r){"use strict";var n=r(1601),o=r.n(n),i=r(6314),a=r.n(i)()(o());a.push([e.id,".trinity-hide {\n    display: none;\n}\n\n.trinity-if-hidden {\n    visibility: hidden !important;\n}\n\n.trinity-iframe {\n    width: 100%;\n    border: none;\n    overflow: hidden;\n    margin: 0;\n    padding: 0;\n    display: none;\n    color-scheme: auto;\n}\n\n.trinity-iframe.display-show {\n    box-shadow: none !important; /* do not show box shadow when display ad is show */\n    border-radius: 0 !important;\n}\n\n.trinity-iframe.loaded {\n    display: block;\n    box-sizing: border-box;\n}\n\n.trinity-iframe:not(.loaded) + trinity-powered-by,\n.trinity-iframe.fab-view + trinity-powered-by {\n    display: none;\n}\n\n.trinity-iframe.fab-view {\n    position: fixed;\n    height: 70px !important;\n    width: 70px;\n}\n\n.trinity-iframe.fab-view.text-position-bottom,\n.trinity-iframe.fab-view.text-position-top {\n    box-shadow: none !important;\n    height: 105px !important;\n    width: 85px;\n}\n\n.trinity-iframe.fab-view.text-position-right,\n.trinity-iframe.fab-view.text-position-left {\n    height: 70px !important;\n    width: 130px; /* +5px both sides for shadow*/\n}\n\n.trinity-player-iframe-wrapper {\n    position: relative;\n    width: 100%;\n    padding: 0;\n    clear: both;\n}\n\n.trinity-player-iframe-wrapper .trinity-player-loading-animation {\n    text-align: initial;\n    line-height: 70px;\n}\n\n.trinity-player-iframe-wrapper .trinity-player-loading-animation > span {\n    margin: 0 0 0 10px;\n    line-height: 70px;\n    vertical-align: middle;\n    font-weight: bold;\n    font-size: 18px;\n    color: #000033;\n}\n\n.trinity-player-loading-animation-container {\n    all: initial;\n    vertical-align: middle;\n}\n\n.trinity-player-iframe-wrapper .trinity-player-loading-animation .trinity-player-loading-animation-container {\n    display: inline-block;\n}\n\n.fab-only {\n    visibility: hidden;\n    width: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n}\n\n.fab-only > .fab-view {\n    visibility: visible;\n}\n\n.trinity-fab-overlay {\n    background: transparent;\n    cursor: pointer;\n    touch-action: none;\n    user-select: none;\n    position: fixed;\n}\n\n.trinity-fab-overlay-close-button {\n    position: absolute;\n    top: -3px;\n    right: -3px;\n    padding: 0;\n    background: #fff;\n    border: 2px solid;\n    border-radius: 50%;\n    text-align: center;\n    cursor: pointer;\n    z-index: 2;\n    font-family: Verdana, Arial, sans-serif;\n}\n\n.trinity-fab-drop-to-close-area {\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 200px;\n    height: 30px;\n    background: #32323299;\n    border-radius: 120px 120px 0 0;\n    display: none;\n    padding-top: 4px;\n    text-align: center;\n    font-weight: bold;\n    font-size: 18px;\n    font-family: Verdana, Arial, sans-serif;\n    color: #fff;\n    text-shadow: 0 1px 2px #00000099;\n    box-shadow: 0 -1px 6px #00000033;\n    pointer-events: none;\n    transition: background 0.2s ease;\n}\n",""]),t.A=a},8735:function(e,t,r){"use strict";var n=r(7833),o=r.n(n),i=r(3135);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.onError,n=void 0===r?function(){}:r,i=t.logPrefix,a=void 0===i?"TRINITY":i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onError=n,this.log=o()("".concat(a,":TargetSections"))}return t=e,(r=[{key:"match",value:function(t){var r=t.type,n=t.url,o=t.doc,i=void 0===o?document:o,a=t.matches;if(null!=a&&a.length)return r===e.types.URL?this._matchURL({url:n,matches:a}):r===e.types.METADATA?this._matchMetadata({doc:i,matches:a}):void this.log("Can't find type: ".concat(r));this.log("matches is empty. Please add at least one match object")}},{key:"_matchURL",value:function(e){var t=this,r=e.url;return e.matches.map((function(e){var n;try{n=r.match(new RegExp(e.regexpString))}catch(n){t.onError("Wrong regexp: ".concat(e.regexpString,". URL: ").concat(r,". Error: ").concat(n))}if(n)return{matched:n.slice(1),description:e.description}})).filter((function(e){return e}))}},{key:"_matchMetadata",value:function(t){var r=this,n=t.doc;return t.matches.map((function(t){var o,a;if(t.selector.startsWith(e.JSONLDPrefix)){var s=r._getJSONLDElementsFromDocument(n),u=t.selector.replace(e.JSONLDPrefix,"");a=i.A.json_ld({jsonld:s,selector:u,filter:t.filter,onError:r.onError})}else a=i.A.css(n,t.selector,r.onError);if(null!==(o=a)&&void 0!==o&&o.length)return a.map((function(e){var n,o;try{var i;null!==(i=o=e.match(new RegExp(t.regexpString)))&&void 0!==i&&i.length||(o=null),o&&(o=o.slice(1)),o&&t.delimiterSplitter&&(o=o.map((function(e){return e.split(t.delimiterSplitter)})).flat().map((function(e){return e.trim()})))}catch(n){r.onError("Wrong regexp: ".concat(t.regexpString,". String: ").concat(e,". Error: ").concat(n))}if(null!==(n=o)&&void 0!==n&&n.length)return{matched:o,description:t.description}})).flat()})).flat()}},{key:"_getJSONLDElementsFromDocument",value:function(e){return e.querySelectorAll('script[type="application/ld+json"]')}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();c.types={URL:"url",METADATA:"metadata"},c.JSONLDPrefix="jsonld.",t.A=c},9326:function(e,t,r){"use strict";r.d(t,{A:function(){return l}});var n=r(7833),o=r.n(n),i=r(8735),a=r(5111);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var l=function(){return e=function e(t){var r=this,n=t.pageURL,a=t.doc,s=void 0===a?document.documentElement:a,u=t.tagScriptQueryParams,c=void 0===u?new URLSearchParams:u,l=t.publisherSections,f=t.publisherSectionsAutoEnabled,p=t.depart;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageURL=n,this.doc=s,this.tagScriptQueryParams=c,this.publisherSections=l,this.publisherSectionsAutoEnabled=f,this.depart=p,this.doc.constructor===String){var d=new DOMParser;this.doc=d.parseFromString(this.doc,"text/html").documentElement}this.targetSections=new i.A({onError:function(e){r.depart.trackError(r.depart.EVENTS.error,e)}}),this.log=o()("TRINITY:PublisherSections")},(t=[{key:"getPublisherSectionData",value:function(){var e=this,t=this.publisherSections.map((function(t){var r=e._getPublisherSectionValue(t);if(r)return r.map((function(e){return{value:e}}))}))||[],r=this._getAdditionalValues();if(r&&r.forEach((function(e){t.push([{value:e}])})),null==t||!t.length){var n=this._getAutoSections();if(n)return n}return t.flatMap((function(e){return null!=e&&e.length?e.map((function(e){return null!=e&&e.value?e:null})):null}))||[]}},{key:"_getMetadata",value:function(){return new a.A({doc:this.doc,logPrefix:"TRINITY"}).find()}},{key:"_getAdditionalValues",value:function(){try{var e=this.tagScriptQueryParams.get("sections");if(e)return decodeURIComponent(e).split(",")}catch(e){this.depart.trackError(this.depart.EVENTS.error,"Can't parse sections. ".concat(e))}}},{key:"_getAutoSections",value:function(){if(this.publisherSectionsAutoEnabled){var e=this._getMetadata();if(e.section){var t=e.section.split(",").map((function(e){return{value:null==e?void 0:e.trim()}}));return this.log("Sections auto: ".concat(JSON.stringify(t))),t}}}},{key:"_getPublisherSectionValue",value:function(e){var t=this.targetSections.match({url:this.pageURL,doc:this.doc,type:e.type,matches:[{regexpString:e.regexp,selector:e.selector,filter:e.filter,delimiterSplitter:e.delimiterSplitter}]});if(t)return t.map((function(e){return null==e?void 0:e.matched})).flat()}}])&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}()},9614:function(e,t,r){var n;!function(){"use strict";var t="input is invalid type",o="object"==typeof window,i=o?window:{};i.JS_CRC_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self;!i.JS_CRC_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?i=r.g:a&&(i=self);var s=!i.JS_CRC_NO_COMMON_JS&&e.exports,u=r.amdO,c=!i.JS_CRC_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),f=["hex","array"],p=[{width:32,poly:79764919,init:4294967295,refin:!0,refout:!0,xorout:4294967295,name:"crc32"},{width:16,poly:32773,init:0,refin:!0,refout:!0,xorout:0,name:"crc16"}],d=Array.isArray;!i.JS_CRC_NO_NODE_JS&&d||(d=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var y=ArrayBuffer.isView;function h(e,t){return function(r){return new T(t).update(r)[e]()}}function m(e){var t,r,n,o=8-(e.width%8||8),i=(Math.ceil(e.width/8)%4||4)<<3,a=1<<i-1>>>0,s=i-8,u=e.width%32||32,c=e.width>32;c?(t=e.init.slice(),r=e.poly.slice(),v(t,o),v(r,o),n=[r.join("-"),s,a].join("_")):(t=e.init<<o,n=[r=e.poly<<o,s,a].join("_"));var l={refin:e.refin,refout:e.refout,xorout:e.xorout,width:e.width,multiWords:c,bitOffset:o,msb:a,msbOffset:s,maskBits:u,mask:2**u-1,crc:t,poly:r,tableId:n},p=h("hex",l);p.create=function(){return new T(l)},p.update=function(e){return p.create().update(e)};for(var d=0;d<f.length;++d){var y=f[d];p[y]=h(y,l)}return p}function v(e,t){if(t){for(var r=0;r<e.length-1;++r)e[r]=e[r]<<t|e[r+1]>>>32-t;e[r]=e[r]<<t}}function b(e,t){for(var r=0;r<e.length;++r)e[r]^=t[r]}!c||!i.JS_CRC_NO_ARRAY_BUFFER_IS_VIEW&&y||(y=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var g={};function _(e,t,r,n){return g[e]||(g[e]=function(e,t,r){var n=[],o=d(e);o||(e=[e]);for(P=0;P<256;++P){for(var i=[P<<t],a=1;a<e.length;++a)i[a]=0;for(a=0;a<8;++a)if(i[0]&r){v(i,1);for(var s=0;s<e.length;++s)i[s]=i[s]^e[s]}else v(i,1);n[P]=o?i:i[0]}return n}(t,r,n)),g[e]}function w(e,t){for(var r=0,n=0;e;++n)1&e&&(r|=1<<t-1-n),e>>>=1;return r}for(var S=[],P=0;P<256;++P)S[P]=w(P,8);function T(e){this.options=e,this.refin=e.refin,this.multiWords=e.multiWords,this.bitOffset=e.bitOffset,this.msbOffset=e.msbOffset,this.maskBits=e.maskBits,this.mask=e.mask,this.table=_(e.tableId,e.poly,this.msbOffset,e.msb),this.multiWords?this.crc=e.crc.slice():this.crc=e.crc}T.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r=function(e){var r=typeof e;if("string"===r)return[e,!0];if("object"!==r||null===e)throw new Error(t);if(c&&e.constructor===ArrayBuffer)return[new Uint8Array(e),!1];if(!d(e)&&!y(e))throw new Error(t);return[e,!1]}(e);e=r[0];var n,o,i=r[1],a=e.length;if(i)for(o=0;o<a;++o)(n=e.charCodeAt(o))<128?this.updateByte(n):n<2048?(this.updateByte(192|n>>6),this.updateByte(128|63&n)):n<55296||n>=57344?(this.updateByte(224|n>>12),this.updateByte(128|n>>6&63),this.updateByte(128|63&n)):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),this.updateByte(240|n>>18),this.updateByte(128|n>>12&63),this.updateByte(128|n>>6&63),this.updateByte(128|63&n));else for(o=0;o<a;++o)this.updateByte(e[o]);return this},T.prototype.updateByte=function(e){var t=this.crc;if(this.refin&&(e=S[e]),this.multiWords){t[0]=t[0]^e<<this.msbOffset;var r=this.table[t[0]>>this.msbOffset&255];v(t,8),b(t,r)}else t=(t^=e<<this.msbOffset)<<8^this.table[t>>this.msbOffset&255];this.crc=t},T.prototype.finalize=function(){if(!this.finalized)if(this.finalized=!0,this.multiWords){if(function(e,t){if(t){for(var r=e.length-1;r>0;--r)e[r]=e[r-1]<<32-t|e[r]>>>t;e[r]=e[r]>>>t}}(this.crc,this.bitOffset),this.crc[0]=this.crc[0]&this.mask,this.options.refout){v(this.crc,32-this.maskBits);for(var e=[],t=0;t<this.crc.length;++t)e[this.crc.length-t-1]=w(this.crc[t],32);this.crc=e}b(this.crc,this.options.xorout)}else this.crc=this.crc>>>this.bitOffset&this.mask,this.options.refout&&(this.crc=w(this.crc,this.options.width)),this.crc^=this.options.xorout},T.prototype.hex=function(){this.finalize();var e="",t=this.crc,r=this.options.width;this.multiWords&&(t=t[0],r=r%32||32);for(var n=(Math.ceil(r/4)<<2)-4;n>=0;n-=4)e+=l[t>>n&15];if(this.multiWords)for(var o=1;o<this.crc.length;++o)for(t=this.crc[o],n=28;n>=0;n-=4)e+=l[t>>n&15];return e},T.prototype.toString=T.prototype.hex,T.prototype.array=function(){this.finalize();var e=new Array(Math.ceil(this.options.width/8)),t=this.crc,r=this.options.width;this.multiWords&&(t=t[0],r=r%32||32);for(var n=0,o=(Math.ceil(r/8)<<3)-8;o>=0;o-=8)e[n++]=t>>o&255;if(this.multiWords)for(var i=1;i<this.crc.length;++i)for(t=this.crc[i],o=24;o>=0;o-=8)e[n++]=t>>o&255;return e};var k={};for(P=0;P<p.length;++P){k[(E=p[P]).name]=m(E)}if(k.createModel=m,s)e.exports=k;else{for(P=0;P<p.length;++P){var E;i[(E=p[P]).name]=k[E.name]}i.createModel=m,u&&(void 0===(n=function(){return k}.call(k,r,k,e))||(e.exports=n))}}()},9855:function(e,t,r){"use strict";var n=r(1638);t.A={injectorImp:n.A.injectorImp,playerReady:n.A.playerReady,contentReady:n.A.contentReady,playClicked:n.A.playClicked,pauseClicked:n.A.pauseClicked,resumed:n.A.resumed,contentStarted:n.A.contentStarted,onFirstQuartile:n.A.onFirstQuartile,onMidPoint:n.A.onMidPoint,onThirdQuartile:n.A.onThirdQuartile,onComplete:n.A.onComplete,adOpp:n.A.adOpp,onAdStarted:n.A.onAdStarted,onAdComplete:n.A.onAdComplete,touchStart:"touchStart",touchEnd:"touchEnd",scrubbing:n.A.scrubbing,updateMediaMetadata:"updateMediaMetadata",mediaSessionAction:"mediaSessionAction"}},9919:function(e){var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}},e.exports=r}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;("object"==typeof o||"function"==typeof o)&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((function(t){n[t]=function(){return e[t]}}));return n.default=function(){return e},__webpack_require__.d(r,n),r},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=function(e,t){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(r,n){return __webpack_require__.f[n](e,r,t),r}),[]))},__webpack_require__.u=function(e){return 287===e?"287.bundle.js":6475===e?"6475.bundle.js":9346===e?"9346.bundle.js":4003===e?"4003.bundle.js":2302===e?"2302.bundle.js":5478===e?"5478.bundle.js":8641===e?"8641.bundle.js":4233===e?"4233.bundle.js":9327===e?"9327.bundle.js":6977===e?"6977.bundle.js":5194===e?"5194.bundle.js":9494===e?"9494.bundle.js":5276===e?"5276.bundle.js":6772===e?"6772.bundle.js":5108===e?"5108.bundle.js":5852===e?"5852.bundle.js":5162===e?"5162.bundle.js":3785===e?"3785.bundle.js":3845===e?"3845.bundle.js":1830===e?"1830.bundle.js":4145===e?"4145.bundle.js":6302===e?"6302.bundle.js":3807===e?"3807.bundle.js":7130===e?"7130.bundle.js":8296===e?"8296.bundle.js":7401===e?"7401.bundle.js":856===e?"856.bundle.js":2944===e?"2944.bundle.js":5953===e?"5953.bundle.js":1834===e?"1834.bundle.js":9816===e?"9816.bundle.js":515===e?"515.bundle.js":5825===e?"5825.bundle.js":2359===e?"2359.bundle.js":3332===e?"3332.bundle.js":9922===e?"9922.bundle.js":4165===e?"4165.bundle.js":1596===e?"1596.bundle.js":2499===e?"2499.bundle.js":7345===e?"7345.bundle.js":8771===e?"8771.bundle.js":7482===e?"7482.bundle.js":174===e?"174.bundle.js":4397===e?"4397.bundle.js":4885===e?"4885.bundle.js":1502===e?"1502.bundle.js":3076===e?"3076.bundle.js":7111===e?"7111.bundle.js":7090===e?"7090.bundle.js":5131===e?"5131.bundle.js":6180===e?"6180.bundle.js":9453===e?"9453.bundle.js":680===e?"680.bundle.js":8483===e?"8483.bundle.js":7754===e?"7754.bundle.js":4342===e?"4342.bundle.js":3221===e?"3221.bundle.js":2131===e?"2131.bundle.js":6549===e?"6549.bundle.js":9738===e?"9738.bundle.js":9074===e?"9074.bundle.js":4668===e?"4668.bundle.js":3139===e?"3139.bundle.js":1884===e?"1884.bundle.js":1635===e?"1635.bundle.js":5346===e?"5346.bundle.js":8305===e?"8305.bundle.js":7710===e?"7710.bundle.js":void 0},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},inProgress={},dataWebpackPrefix="trinity-audio-player:",__webpack_require__.l=function(e,t,r,n,o){if(inProgress[e])inProgress[e].push(t);else{var i,a;if(void 0!==r)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var c=s[u];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+r){i=c;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",dataWebpackPrefix+r),o&&i.setAttribute("fetchpriority",o),i.src=e,0!==i.src.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous")),inProgress[e]=[t];var l=function(t,r){i.onerror=i.onload=null,clearTimeout(f);var n=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),a&&document.head.appendChild(i)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e}(),function(){var e={6171:0};__webpack_require__.f.j=function(t,r,n){var o=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(r,n){o=e[t]=[r,n]}));r.push(o[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(a,(function(r){if(__webpack_require__.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,o[1](s)}}),"chunk-"+t,t,n)}};var t=function(t,r){var n,o,i=r[0],a=r[1],s=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in a)__webpack_require__.o(a,n)&&(__webpack_require__.m[n]=a[n]);if(s)s(__webpack_require__)}for(t&&t(r);u<i.length;u++)o=i[u],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktrinity_audio_player=self.webpackChunktrinity_audio_player||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),__webpack_require__.nc=void 0;var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(7345);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var a=function(){return e=function e(t){var r=t.depart;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.depart=r},t=[{key:"exposePublicAPI",value:function(e){var t,n=this,o=e.methods,i=e.internalAPI,a={},s=r(o);try{var u=function(){var e=t.value,r=e.name,o=e.params,s=e.isReported;a[r]=function(){var e=i[r];if(!e)throw new Error("Method ".concat(r," is not implemented"));for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return!1!==s&&n._reportUsage(2===o.length?"".concat(r,": ").concat(o[0]):r),e.call.apply(e,[i].concat(o))},a[r].getSignature=function(){return o}};for(s.s();!(t=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}return a}},{key:"_reportUsage",value:function(e){this.depart.EVENTS&&this.depart.track(this.depart.EVENTS.apiUsed,{text_value:e})}}],t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),s=__webpack_require__(7250),u=__webpack_require__(7833),c=__webpack_require__.n(u),l=__webpack_require__(2367),f=__webpack_require__(2384),p=__webpack_require__(5780),d={isTestModeEnabled:"TRINITY_TEST_QP",isRegenerateAudio:"TRINITY_REGENERATE_AUDIO"};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}function v(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function b(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var g=new WeakSet,_=function(){return e=function e(t){var r=t.parentWindowQueryParams;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,g),this.parentWindowQueryParams=r},(t=[{key:"getStyles",value:function(){return".trinity-debug-highlight-paragraphs {\n    background: #ff8d0036;\n    box-shadow: 0 0 7px #ff8d0036;\n    border-radius: 2px;\n}\n"}},{key:"isTestModeEnabled",value:function(){return b(g,this,w).call(this,this.parentWindowQueryParams.get(d.isTestModeEnabled))}},{key:"isRegenerateAudio",value:function(){return b(g,this,w).call(this,this.parentWindowQueryParams.get(d.isRegenerateAudio))}}])&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function w(e){return"1"===e}var S=_,P=__webpack_require__(859);var T={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let k;const E=new Uint8Array(16);const A=[];for(let e=0;e<256;++e)A.push((e+256).toString(16).slice(1));function O(e,t=0){return(A[e[t+0]]+A[e[t+1]]+A[e[t+2]]+A[e[t+3]]+"-"+A[e[t+4]]+A[e[t+5]]+"-"+A[e[t+6]]+A[e[t+7]]+"-"+A[e[t+8]]+A[e[t+9]]+"-"+A[e[t+10]]+A[e[t+11]]+A[e[t+12]]+A[e[t+13]]+A[e[t+14]]+A[e[t+15]]).toLowerCase()}var j=function(e,t,r){if(T.randomUUID&&!t&&!e)return T.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!k){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k=crypto.getRandomValues.bind(crypto)}return k(E)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return O(n)};function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var I=function e(t,r){function n(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=D({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+i}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var i=r[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(n[s]=t.read(a,s),e===s)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",D({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,D({},this.attributes,t))},withConverter:function(t){return e(D({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),C=__webpack_require__(4314);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function F(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}var U=function(){return e=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.depart=t,this.departEventPrefix=r},t=[{key:"playerReady",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.playerReady))}},{key:"playClicked",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.playClicked))}},{key:"pauseClicked",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.pauseClicked))}},{key:"adPauseClicked",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.adPauseClicked,{demand:t,adPlacement:r,adType:n})}},{key:"beforeAdRollPauseClicked",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.beforeAdRollPauseClicked,{demand:t,adPlacement:r,adType:n})}},{key:"resumed",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.resumed))}},{key:"adResumed",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.adResumed,{demand:t,adPlacement:r,adType:n})}},{key:"beforeAdRollResumed",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.beforeAdRollResumed,{demand:t,adPlacement:r,adType:n})}},{key:"adLoading",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.adLoading,{demand:t,adPlacement:r,adType:n})}},{key:"beforeAdRollLoading",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.beforeAdRollLoading,{demand:t,adPlacement:r,adType:n})}},{key:"contentStartedLoading",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.contentStartedLoading))}},{key:"audioLoaded",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).audioInfo;this.depart.track(this._getEvent(this.depart.EVENTS.audioLoaded),{text_value:e})}},{key:"contentStarted",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).audioInfo;this.depart.track(this._getEvent(this.depart.EVENTS.contentStarted),{text_value:e})}},{key:"afterSubscriptionLockedAudioStarted",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.afterSubscriptionLockedAudioStarted))}},{key:"afterSubscriptionLockedAudioCompleted",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.afterSubscriptionLockedAudioCompleted))}},{key:"adContentStarted",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this._trackAd(this.depart.EVENTS.adContentStarted,{demand:t,adPlacement:r,adType:n})}},{key:"cookieSyncCompleted",value:function(e){var t=e.demandId,r=e.uid;this.depart.track(this._getEvent(this.depart.EVENTS.cookieSyncCompleted),{demand_id:t,demand_response_data:{listenerId:r}})}},{key:"adOpp",value:function(e){var t=e.adPlacement,r=e.adType,n=e.auctionNumber,o=e.currentTime,i=e.duration,a=e.rolloutTime,s=e.adConfig;this.depart.setAdPlacement(t,r),this.depart.trackAd(this._getEvent(this.depart.EVENTS.adOpp),{adPlacement:t,adConfig:s,auctionNumber:n,adType:r,adSlot:{duration:this._toFixedNumber(i),currentTime:this._toFixedNumber(o),rolloutTime:this._toFixedNumber(a),rolloutPercentage:this._toFixedNumber(a/i*100)}})}},{key:"noAd",value:function(e){var t=e.demand,r=e.adPlacement,n=e.adType;this.depart.setAdPlacement(r,n),this.depart.trackAd(this._getEvent(this.depart.EVENTS.onNoAd),{demand:t,adPlacement:r,adType:n})}},{key:"req",value:function(e){var t,r,n=e.demandTag,o=e.demandResponse,i=e.isWon,a=e.adType,s=e.adPlacement,u=e.auctionNumber,c=(null==o?void 0:o.pricing)||{},l=this.depart.isSendVAST||Number(n.send_vast_to_depart);this.depart.trackAd(this._getEvent(this.depart.EVENTS.req),{adType:a,adPlacement:s,auctionNumber:u},{demandTag:n},{demand_id:n.tagId,demand_response_data:{demand_url:C.A.trimURLProperty({url:n.url,properties:[{props:["gdpr_consent","aw_0_req.userConsentV2"],maxCharacters:12}]}),demand_id:n.tagId,demand_user_id:null==o?void 0:o.uid,demand_response_time:Number((null==o?void 0:o.demandResponseTime)||0),price:c.price,currency:c.currency,currency_exchange_rate:c.currencyExchangeRate,won:i},text_value:l?null==o||null===(t=o.vast)||void 0===t||null===(r=t.getRawXML)||void 0===r?void 0:r.call(t):void 0})}},{key:"onFirstQuartile",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.onFirstQuartile))}},{key:"onMidPoint",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.onMidPoint))}},{key:"onThirdQuartile",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.onThirdQuartile))}},{key:"onComplete",value:function(){this.depart.track(this._getEvent(this.depart.EVENTS.onComplete))}},{key:"beforeAdRollLoaded",value:function(e){this._trackAd(this.depart.EVENTS.beforeAdRollLoaded,e)}},{key:"onAdLoaded",value:function(e){this._trackAd(this.depart.EVENTS.onAdLoaded,e)}},{key:"beforeAdRollStarted",value:function(e){this._trackAd(this.depart.EVENTS.beforeAdRollStarted,e)}},{key:"onAdStarted",value:function(e){this._trackAd(this.depart.EVENTS.onAdStarted,e)}},{key:"onAdFirstQuartile",value:function(e){this._trackAd(this.depart.EVENTS.onAdFirstQuartile,e)}},{key:"onAdMidPoint",value:function(e){this._trackAd(this.depart.EVENTS.onAdMidPoint,e)}},{key:"onAdThirdQuartile",value:function(e){this._trackAd(this.depart.EVENTS.onAdThirdQuartile,e)}},{key:"beforeAdRollComplete",value:function(e){this._trackAd(this.depart.EVENTS.beforeAdRollComplete,e)}},{key:"onAdComplete",value:function(e){this._trackAd(this.depart.EVENTS.onAdComplete,e)}},{key:"tr",value:function(e){var t,r=e.demand,n=e.adPlacement,o=e.adType,i=e.auctionNumber,a=e.adNumber,s=this._getAdData({demand:r,adPlacement:n,adType:o,auctionNumber:i,adNumber:a}),u=Number(null===(t=this.depart.commonData.revenueConfig)||void 0===t?void 0:t.pubShare)||0,c=Number(r.demandResponse.pricing.price);this.depart.trackAd(this._getEvent(this.depart.EVENTS.tr),s,r.demandTag,{revenue:c,publisher_revenue:Number((r.demandResponse.pricing.price*u).toFixed(4))})}},{key:"error",value:function(e){this.depart.trackError(this.depart.EVENTS.error,e)}},{key:"errorAd",value:function(e){var t=e.error,r=e.data;this._trackAd(this.depart.EVENTS.errorAd,L(L({},r),{},{text_value:t}))}},{key:"setAdPlacement",value:function(e){var t=e.adPlacement;this.depart.setAdPlacement(t)}},{key:"_getEvent",value:function(e){return this.departEventPrefix+e}},{key:"_trackAd",value:function(e,t){var r;this.depart.trackAd(this._getEvent(e),this._getAdData(t),null===(r=t.demand)||void 0===r?void 0:r.demandTag,{text_value:t.text_value})}},{key:"_getAdData",value:function(e){var t,r,n,o,i=e.demand,a=e.adPlacement,s=e.adType,u=e.auctionNumber,c=e.adNumber,l=null==i||null===(t=i.demandResponse)||void 0===t?void 0:t.vast,f=null==i||null===(r=i.demandResponse)||void 0===r?void 0:r.media;return l?{mediaTitle:l.getAdTitle(),mediaFile:(null==f||null===(n=f.media)||void 0===n?void 0:n.trim())||(null===(o=l.getMediaFile())||void 0===o?void 0:o.media),vastMediaDuration:l.getMediaDuration(),adSystem:l.getAdSystem(),advertiser:l.getAdvertiser(),categories:l.getCategories(),dspName:l.getDSPName(),adPlacement:a,adType:s,auctionNumber:u,adNumber:c}:{adPlacement:a,adType:s}}},{key:"_isMobile",value:function(){return window.navigator.userAgent.toLowerCase().includes("mobi")}},{key:"_getDeviceName",value:function(){return this._isMobile()?"mobile":"desktop"}},{key:"_toFixedNumber",value:function(e){return e?Number(e.toFixed(2)):0}}],t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),V=null,B="__testPartitioning",W=function(){return null!==V||(document.cookie="".concat(B,"=1; path=/; sameSite=None; secure; partitioned"),V=document.cookie.split(";").map((function(e){return e.trim()})).includes("".concat(B,"=1")),document.cookie="".concat(B,"=; path=/; sameSite=None; secure; max-age=-1; partitioned")),V};function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}var z=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.storageKey,n=void 0===r?"TRINITY_USER_DATA":r,o=t.cookieTTL,i=void 0===o?365:o,a=t.depart;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageKey=n,this.cookieTTL=i,this.departHelper=new U(a),this.data={},this.isPartitioningSupport=W(),this.defaultParams={sameSite:"None",secure:!0,partitioned:this.isPartitioningSupport},this._init()},t=[{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,this._store()}},{key:"_init",value:function(){var e=I.get(this.storageKey);if(e){var t=this._decode(e);t&&(this.data=t)}this._store()}},{key:"_store",value:function(){I.set(this.storageKey,this._encode(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({expires:this.cookieTTL},this.defaultParams))}},{key:"_encode",value:function(){return btoa(JSON.stringify(this.data))}},{key:"_decode",value:function(e){var t;try{var r=JSON.parse(atob(e));r&&(t=r)}catch(e){this._onError(e)}return t}},{key:"_onError",value:function(e){this.departHelper.error(e)}}],t&&Q(e.prototype,t),r&&Q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e,t,r){return(t=X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function X(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K(t)?t:t+""}var ee=function(){return e=function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieTTL,r=void 0===t?365:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookieTTL=r,this.isPartitioningSupport=W(),this.defaultParams={sameSite:"None",secure:!0,partitioned:this.isPartitioningSupport}},t=[{key:"get",value:function(e){return I.get(e)}},{key:"set",value:function(e,t){I.set(e,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({expires:this.cookieTTL},this.defaultParams))}}],t&&Z(e.prototype,t),r&&Z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function ne(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}var oe=function(){return t=function e(t){var r=t.depart,n=t.providedUserId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.depart=r,this.providedUserId=n,this.cookieStorageObject=new z({depart:this.depart}),this.cookieStorageValue=new ee},(r=[{key:"init",value:function(){this.userId=this.getUserId(),this._getUserIdFromCookie()||this.cookieStorageObject.set(e.A.USER_DATA.USER_ID_TS,Date.now()),this._setUserIdToCookie(this.userId)}},{key:"getUserId",value:function(){return this.userId||this.providedUserId||this._getUserIdFromCookie()||j()}},{key:"setFirstClickTS",value:function(t){this.cookieStorageObject.get(e.A.USER_DATA.FIRST_CLICK_TS)||this.cookieStorageObject.set(e.A.USER_DATA.FIRST_CLICK_TS,t)}},{key:"_getUserIdFromCookie",value:function(){return this.cookieStorageValue.get(e.A.COOKIE.trinityUserIdCookieKey)}},{key:"_setUserIdToCookie",value:function(t){this.cookieStorageValue.set(e.A.COOKIE.trinityUserIdCookieKey,t)}}])&&re(t.prototype,r),n&&re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}(),ie=__webpack_require__(7394),ae={af:"af-ZA",am:"am-ET",ar:"ar-YE",arb:"arb",bg:"bg-BG",bn:"bn-IN",ca:"ca-ES",cmn:"cmn-TW",cs:"cs-CZ",cy:"cy-GB",da:"da-DK",de:"de-DE",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",fa:"fa-IR",fi:"fi-FI",fil:"fil-PH",fr:"fr-FR",ga:"ga-IE",gl:"gl-ES",gu:"gu-IN",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",jv:"jv-ID",km:"km-KH",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",mt:"mt-MT",my:"my-MM",nb:"nb-NO",nl:"nl-NL",pa:"pa-IN",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",so:"so-SO",sr:"sr-RS",su:"su-ID",sv:"sv-SE",sw:"sw-TZ",ta:"ta-SG",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur-PK",uz:"uz-UZ",vi:"vi-VN",yue:"yue-HK",zh:"zh-TW",zu:"zu-ZA"},se={de:{__name__:"German",__nameLocal__:"Deutsch"},en:{__name__:"English",__nameLocal__:"English"},es:{__name__:"Spanish",__nameLocal__:"Español"},fr:{__name__:"French",__nameLocal__:"Français"},hi:{__name__:"Hindi",__nameLocal__:"हिन्दी"},hr:{__name__:"Croatian",__nameLocal__:"Hrvatski"},it:{__name__:"Italian",__nameLocal__:"Italiano"},pt:{__name__:"Portuguese",__nameLocal__:"Português"},ru:{__name__:"Russian",__nameLocal__:"Русский"},zh:{__name__:"Chinese",__nameLocal__:"中文"},ar:{__name__:"Arabic",__nameLocal__:"العربية",config:{direction:"rtl"}},cy:{__name__:"Welsh",__nameLocal__:"Cymraeg"},da:{__name__:"Danish",__nameLocal__:"Dansk"},is:{__name__:"Icelandic",__nameLocal__:"Íslenska"},ja:{__name__:"Japanese",__nameLocal__:"日本語"},ko:{__name__:"Korean",__nameLocal__:"한국어"},nl:{__name__:"Dutch",__nameLocal__:"Nederlands"},no:{__name__:"Norwegian",__nameLocal__:"norsk"},pl:{__name__:"Polish",__nameLocal__:"Polski"},ro:{__name__:"Romanian",__nameLocal__:"Română"},tr:{__name__:"Turkish",__nameLocal__:"Türkçe"},he:{__name__:"Hebrew",__nameLocal__:"עברית",config:{direction:"rtl"}},sl:{__name__:"Slovene",__nameLocal__:"Slovenščina"},te:{__name__:"Telugu",__nameLocal__:"తెలుగు"},bn:{__name__:"Bengali",__nameLocal__:"বাংলা"},gu:{__name__:"Gujarati",__nameLocal__:"ગુજરાતી"},sv:{__name__:"Swedish",__nameLocal__:"Svenska"},nb:{__name__:"Norwegian Bokmål",__nameLocal__:"Norsk (Bokmål)"},ta:{__name__:"Tamil",__nameLocal__:"தமிழ்"},af:{__name__:"Afrikaans",__nameLocal__:"Afrikaans"},am:{__name__:"Amharic",__nameLocal__:"አማርኛ"},bg:{__name__:"Bulgarian",__nameLocal__:"Български"},ca:{__name__:"Catalan",__nameLocal__:"Català"},cs:{__name__:"Czech",__nameLocal__:"Čeština"},el:{__name__:"Greek",__nameLocal__:"Ελληνικά"},et:{__name__:"Estonian",__nameLocal__:"Eesti"},fa:{__name__:"Persian",__nameLocal__:"فارسی",config:{direction:"rtl"}},fi:{__name__:"Finnish",__nameLocal__:"Suomi"},fil:{__name__:"Filipino",__nameLocal__:"Filipino"},ga:{__name__:"Irish",__nameLocal__:"Gaeilge"},gl:{__name__:"Galician",__nameLocal__:"Galego"},hu:{__name__:"Hungarian",__nameLocal__:"Magyar"},id:{__name__:"Indonesian",__nameLocal__:"Bahasa Indonesia"},jv:{__name__:"Javanese",__nameLocal__:"Basa Jawa"},km:{__name__:"Khmer",__nameLocal__:"ភាសាខ្មែរ"},kn:{__name__:"Kannada",__nameLocal__:"ಕನ್ನಡ"},lt:{__name__:"Lithuanian",__nameLocal__:"Lietuvių"},lv:{__name__:"Latvian",__nameLocal__:"Latviešu"},ml:{__name__:"Malayalam",__nameLocal__:"മലയാളം"},mr:{__name__:"Marathi",__nameLocal__:"मराठी"},ms:{__name__:"Malay",__nameLocal__:"Bahasa Melayu"},mt:{__name__:"Maltese",__nameLocal__:"Malti"},my:{__name__:"Burmese",__nameLocal__:"မြန်မာဘာသာ"},pa:{__name__:"Panjabi",__nameLocal__:"ਪੰਜਾਬੀ"},sk:{__name__:"Slovak",__nameLocal__:"Slovenčina"},sr:{__name__:"Serbian",__nameLocal__:"Српски"},so:{__name__:"Somali",__nameLocal__:"Somali"},su:{__name__:"Sundanese",__nameLocal__:"Basa Sunda"},sw:{__name__:"Swahili",__nameLocal__:"Kiswahili"},th:{__name__:"Thai",__nameLocal__:"ภาษาไทย"},uk:{__name__:"Ukrainian",__nameLocal__:"Українська"},ur:{__name__:"Urdu",__nameLocal__:"اردو",config:{direction:"rtl"}},uz:{__name__:"Uzbek",__nameLocal__:"O‘zbek"},vi:{__name__:"Vietnamese",__nameLocal__:"Tiếng Việt"},zu:{__name__:"Zulu",__nameLocal__:"isiZulu"}},ue=__webpack_require__(3854),ce=__webpack_require__(7034),le=__webpack_require__(3917);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return(t=_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return me(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(me(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,me(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,me(f,"constructor",c),me(c,"constructor",u),u.displayName="GeneratorFunction",me(c,o,"GeneratorFunction"),me(f),me(f,o,"Generator"),me(f,n,(function(){return this})),me(f,"toString",(function(){return"[object Generator]"})),(he=function(){return{w:i,m:p}})()}function me(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}me=function(e,t,r,n){function i(t,r){me(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},me(e,t,r,n)}function ve(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function be(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ve(i,n,o,a,s,"next",e)}function s(e){ve(i,n,o,a,s,"throw",e)}a(void 0)}))}}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_e(n.key),n)}}function _e(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:t+""}se.en.translation=ue.default,se.es.translation=le.default,se.he.translation=ce.default;var we="en",Se=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.overrides,n=t.defaultLanguage,o=void 0===n?we:n,i=t.preloadedLanguages;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overrides=r||{},this.languages=se,this.loadLanguages(i),this.defaultLanguage=o,this.language=o,this._updateTranslation(),this._updateMacros()},t=[{key:"loadLanguages",value:function(e){e&&(this.languages=e)}},{key:"setLanguage",value:(o=be(he().m((function e(t){var r;return he().w((function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:return r=this._languageWithoutCountryCode(t),e.n=2,this.loadTranslation(r);case 2:this.language=r,this._updateTranslation(),this._updateMacros();case 3:return e.a(2)}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"loadTranslation",value:(n=be(he().m((function e(t){var r;return he().w((function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,this.languages[t]){e.n=1;break}throw"No such language: ".concat(t);case 1:if(!this.languages[t].translation){e.n=2;break}return e.a(2);case 2:return e.n=3,__webpack_require__(5975)("./".concat(t,"-translation.js"));case 3:this.languages[t].translation=e.v.default,e.n=5;break;case 4:e.p=4,r=e.v,console.error(r);case 5:return e.a(2)}}),e,this,[[0,4]])}))),function(e){return n.apply(this,arguments)})},{key:"getTextDirection",value:function(){var e;return(null===(e=this.languages[this.language])||void 0===e||null===(e=e.config)||void 0===e?void 0:e.direction)||"ltr"}},{key:"replaceMacros",value:function(e,t){var r=this;return t&&(this.language=t),this.macros&&Object.keys(this.macros).forEach((function(t){e=e.replace("##".concat(t.toUpperCase(),"##"),r.macros[t])})),e}},{key:"toLocaleDateString",value:function(e,t){t||(t={year:"numeric",month:"short",day:"numeric"});var r=ae[this.language];return r||(r=ae[this.defaultLanguage]),new Date(e).toLocaleDateString(r,t)}},{key:"_languageWithoutCountryCode",value:function(e){return e.split("-")[0]}},{key:"_updateTranslation",value:function(){var e,t,r;this.translation=de(de(de(de(de(de({},null===(e=this.languages[we])||void 0===e?void 0:e.translation),this.overrides[we]),null===(t=this.languages[this.defaultLanguage])||void 0===t?void 0:t.translation),this.overrides[this.defaultLanguage]),null===(r=this.languages[this.language])||void 0===r?void 0:r.translation),this.overrides[this.language])}},{key:"_updateMacros",value:function(){var e,t;this.macros=(null===(e=this.overrides[this.language])||void 0===e?void 0:e.macros)||(null===(t=this.overrides[this.defaultLanguage])||void 0===t?void 0:t.macros)}}],t&&ge(e.prototype,t),r&&ge(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o}();function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ke(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ae(n.key),n)}}function Ae(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}var Oe=function(){return e=function e(t){var r=t.depart,n=t.PoweredByExternal,o=t.parentWindowQueryParams,i=t.tagScriptQueryParams;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.depart=r,this.PoweredByExternal=n,this.tagScriptQueryParams=i,this.parentWindowQueryParams=o},t=[{key:"checkForScriptTagValidity",value:function(e){var t=e.tagScript,r=e.isIframe,n=e.players,o=e.playerId,i=e.scriptTagSelector;if(!t&&!r){var a,s,u=document.querySelectorAll(i),c="Can not find script tag for playerID. Available tags: ".concat(u.length,", Available playerIDs: ").concat(Object.keys(n).length);throw this.depart.trackError(this.depart.EVENTS.error,c),(a=console).error.apply(a,["Can't find script tag for playerID: ".concat(o,". Available tags on page (").concat(u.length,")")].concat(Te(u),["\n Available player IDs: ".concat(Object.keys(n).join(", "))])),null===(s=this.PoweredByExternal)||void 0===s||s.hideAll(),c}}},{key:"isAllowToRenderBasedOnConditions",value:function(e){var t,r,n=e.metadata,o=e.condition;if(!o)return!0;var i={published_date:(null===(t=this.tagScriptQueryParams)||void 0===t?void 0:t.get("metaPublishedDate"))||n.datePublished},a=this._runCodeInSandbox({conditionToCheck:o,conditionParams:i}),s="Condition: ".concat(o,", params: ").concat(JSON.stringify(i));if(a)null!==(r=this.parentWindowQueryParams)&&void 0!==r&&r.get("TRINITY_DEBUG")&&console.debug("Condition passed, rendering player. ".concat(s));else{var u,c="Can not render player since render condition did not pass. ".concat(s);null===(u=this.PoweredByExternal)||void 0===u||u.hideAll(),console.error(c),this.depart.trackError(this.depart.EVENTS.blockedByRenderCondition,c)}return a}},{key:"_runCodeInSandbox",value:function(e){var t=e.conditionToCheck,r=e.conditionParams,n=document.createElement("iframe");n.style.display="none",n.setAttribute("sandbox","allow-same-origin"),document.body.appendChild(n);var o=n.contentWindow;o.console=void 0,o.eval=void 0,o.fetch=void 0,o.XMLHttpRequest=void 0,o.setTimeout=void 0,o.setInterval=void 0,o.document.createElement=void 0;var i=Object.keys(r),a=Object.values(r),s=o.Function.apply(o,i.concat(["\n        'use strict';\n        return ".concat(t,";\n    ")])).apply(void 0,a);return void 0===s&&console.warn("Condition result should return either true or false, but not undefined. Please check your condition. Condition: ".concat(t)),n.remove(),s}}],t&&Ee(e.prototype,t),r&&Ee(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),je=Oe,De=__webpack_require__(5131),Ie=__webpack_require__(7016);function Ce(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Re(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Re(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Re(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Re(f,"constructor",c),Re(c,"constructor",u),u.displayName="GeneratorFunction",Re(c,o,"GeneratorFunction"),Re(f),Re(f,o,"Generator"),Re(f,n,(function(){return this})),Re(f,"toString",(function(){return"[object Generator]"})),(Ce=function(){return{w:i,m:p}})()}function Re(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Re=function(e,t,r,n){function i(t,r){Re(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Re(e,t,r,n)}function Ne(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var Le=function(e){return(t=Ce().m((function t(){var r,n,o,i,a,s,u,c,l,f,p,d,y;return Ce().w((function(t){for(;;)switch(t.p=t.n){case 0:return r=e.url,n=e.withCredentials,o=e.timeout,i=void 0===o?5e3:o,a=e.logError,s=void 0===a?console.error:a,t.p=1,window.AbortController&&(u=new AbortController,c=u.signal,l=setTimeout((function(){return u.abort("timeout")}),i)),t.n=2,fetch(r,{signal:c,credentials:n?"include":"same-origin"});case 2:if((f=t.v).ok){t.n=3;break}throw f.statusText;case 3:return t.n=4,f.text();case 4:return p=t.v,clearTimeout(l),t.a(2,p);case 5:throw t.p=5,y=t.v,d="Unable to fetch URL: ".concat(r,", withCredentials: ").concat(n,". Error: ").concat(y),s(d),d;case 6:return t.a(2)}}),t,null,[[1,5]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){Ne(i,n,o,a,s,"next",e)}function s(e){Ne(i,n,o,a,s,"throw",e)}a(void 0)}))})();var t},Me=__webpack_require__(7063),xe=__webpack_require__(2607);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ve(n.key),n)}}function Ve(e){var t=function(e,t){if("object"!=Fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fe(t)?t:t+""}var Be=function(){"undefined"==typeof navigator&&(__webpack_require__.g.navigator={connection:{effectiveType:"4g",rtt:100,downlink:1.65}});var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e){var t=e.effectiveType,r=e.rtt,n=e.downlink;return JSON.stringify({effectiveType:t,rtt:r,downlink:n})}}(),We=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ts=t},(t=[{key:"toString",value:function(){return parseInt(Date.now()-this.ts,10)}}])&&Ue(e.prototype,t),r&&Ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),Ye={getTagScript:function(e){return document.querySelector('script[src*=trinity][data-player-id="'.concat(e,'"]'))},getPlayerWrapperByID:function(e){return document.querySelector('.trinity-player-iframe-wrapper[data-player-id="'.concat(e,'"]'))},getPlayerIframeByID:function(e){var t=this.getPlayerWrapperByID(e);if(t){var r=t.getElementsByClassName(s.A.iframeClass);if(r&&r.length)return r[0]}},waitUntilDocumentLoaded:function(e){var t=e.doc,r=e.documentLoadType,n=e.documentLoadTypeSelector,o=e.callback,i=e.interval,a=void 0===i?100:i,u=e.timeout,c=void 0===u?1e4:u,l=s.A.documentLoadTypes;if(!r||r===s.A.documentLoadTypes.DOMContentLoaded)return o();if(r===s.A.documentLoadTypes.onload)return Me.A.waitUntil({fn:function(){return"complete"===t.readyState},interval:a,timeout:c}).finally(o);if([l.onSelectorVisible,l.onSelectorExists].includes(r)&&n){var f=atob(n);return Me.A.waitUntil({fn:function(){var e=t.querySelector(f);return r===l.onSelectorExists?e:e&&null!==e.offsetParent},interval:a,timeout:c}).finally(o)}console.error("No documentLoaded type has been executed")},getLabel:function(e,t){return e.paramsObject[t]||e.translation[t]},getCDNPath:function(e,t,r){return"https://".concat(e,".").concat(t).concat(r)},isMobile:function(e){return"1"!==(e||new URL(window.location.href).searchParams).get("forceDesktop")&&("1"===(e||new URL(window.location.href).searchParams).get("forceMobile")||window.navigator.userAgent.toLowerCase().includes("mobi")||window.navigator.userAgent.toLowerCase().includes("android"))},isSafari:function(e){return"Safari"===e},getCampaignIdFromURL:function(e){var t=e.match(/\/player\/(?:trinity|trinity-i|trinity-amp)\/(\d+)\//);return t&&t[1]},getSearchParams:function(e){var t=[];for(var r in e)e[r]&&t.push("".concat(r,"=").concat(encodeURIComponent(e[r])));return t.join("&")},networkInfo:Be,TimePassed:We,isGTTopDomain:function(e){return e===s.A.googleTranslateTopDomain},getPlaybackRate:function(e){return Number(e)||1},getPollyLanguageName:function(e){var t=this.parseLanguage(e);return this.mapLanguage(t.lang)},parseLanguage:function(e){var t=e.split("-");return{lang:t[0],country:t[1]?e:void 0}},mapLanguage:function(e){return s.A.languageMap[e]||e},logWindowError:function(e,t,r,n,o,i){var a,u=i&&(i.stack||i);u=u||"".concat(t," => ").concat(r,":").concat(n,":").concat(o);try{a=new URL(r).host}catch(u){}s.A.allowedLogsFromDomains.includes(a)&&new xe.A({commonData:e,publicMessages:l.A.publicMessages,logPrefix:s.A.logPrefix}).trackError(xe.A.EVENTS.error,"window.onerror: ".concat(u))},logUnhandledRejection:function(e,t){new xe.A({commonData:e,publicMessages:l.A.publicMessages,logPrefix:s.A.logPrefix}).trackError(xe.A.EVENTS.error,"window.onunhandledrejection: ".concat(t))},getValidPageUrl:function(e){if(!e.length)throw"there is no valid URL";var t=e.pop();try{new URL(t)}catch(t){return this.getValidPageUrl(e)}return t}};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function He(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ke(n.key),n)}}function ze(e,t,r){return t&&qe(e.prototype,t),r&&qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ke(e){var t=function(e,t){if("object"!=Ge(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ge(t)?t:t+""}var Je=ze((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));Je.hideAll=function(){var e,t,r=function(){var r=document.getElementsByClassName("trinity-tts-pb");if(r.length){var n,o=He(r);try{for(o.s();!(n=o.n()).done;){n.value.style.display="none"}}catch(e){o.e(e)}finally{o.f()}return clearInterval(e),clearInterval(t),!0}};r()||(e=setInterval(r,500),t=setTimeout((function(){clearInterval(e)}),2e4))};var $e=Je;function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}function et(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}var tt=function(){return e=function e(t){var r=t.themeDataComputed,n=t.pageURL;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.themeDataComputed=r,this.themeDataComputed&&this.themeDataComputed.light&&this.themeDataComputed.dark||(console.error("themeDataComputed has incorrect data inside!",this.themeDataComputed),this.themeDataComputed={light:{},dark:{}}),this.pageURL=n},(t=[{key:"get",value:function(e){var t=e.isDark,r=void 0!==t&&t,n=e.property;return this.themeDataComputed[r?"dark":"light"][n]}},{key:"getThemeDataComputed",value:function(){return this.themeDataComputed}},{key:"appendFontsTo",value:function(e){e&&(this.themeDataComputed.fonts||[]).forEach((function(t){var r=function(e){var t=e.link,r=e.name,n=e.weight,o=e.woff2,i=e.woff;if(t)return t;if(r){var a=[o?'url("'.concat(o,'") format("woff2")'):void 0,i?'url("'.concat(i,'") format("woff")'):void 0].filter((function(e){return e})).join(", ");return'@font-face {\n      font-family: "'.concat(r,'";\n      font-weight: ').concat(n,";\n      font-display: swap;\n      src: ").concat(a,";\n    }")}}(t);if(r){var n;if(t.link){var o=document.createElement("link");o.rel="stylesheet",o.href=r,n=o}else t.name&&(n=P.A.createCSSTag(r));n&&e.appendChild(n)}}))}},{key:"getDefaultPoweredByLink",value:function(){return"".concat(s.A.homePage,"/?").concat(ie.A.getUTMString(this.pageURL))}}])&&Xe(e.prototype,t),r&&Xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),rt=tt;function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,it(n.key),n)}}function it(e){var t=function(e,t){if("object"!=nt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nt(t)?t:t+""}var at=function(){return e=function e(t){var r=t.playerId,n=t.theme,o=t.isDark;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerId=r,this.theme=n,this.isDark=o},(t=[{key:"addStyles",value:function(){this._addIframeWrapperStyles(),this._addIframeStyles()}},{key:"getThemeValue",value:function(e){return this.theme.get({property:e,isDark:this.isDark})}},{key:"_addIframeWrapperStyles",value:function(){this._addStyles({propertyName:"iframe-wrapper",styleIdPrefix:s.A.wrapperClass,cssSelector:".".concat(s.A.wrapperClass,'[data-player-id="').concat(this.playerId,'"]')})}},{key:"_addIframeStyles",value:function(){this._addStyles({propertyName:"iframe",styleIdPrefix:s.A.iframeClass,cssSelector:".".concat(s.A.wrapperClass,'[data-player-id="').concat(this.playerId,'"] .').concat(s.A.iframeClass,":not(.fab-view)")})}},{key:"_addStyles",value:function(e){var t=e.propertyName,r=e.styleIdPrefix,n=e.cssSelector,o=this.getThemeValue(t);if(o){var i="".concat(r,"-").concat(this.playerId);P.A.addStyles({cssContent:"".concat(n," {").concat(o,"}"),styleId:i})}}}])&&ot(e.prototype,t),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function st(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return ut(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(ut(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ut(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,ut(f,"constructor",c),ut(c,"constructor",u),u.displayName="GeneratorFunction",ut(c,o,"GeneratorFunction"),ut(f),ut(f,o,"Generator"),ut(f,n,(function(){return this})),ut(f,"toString",(function(){return"[object Generator]"})),(st=function(){return{w:i,m:p}})()}function ut(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ut=function(e,t,r,n){function i(t,r){ut(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},ut(e,t,r,n)}function ct(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function lt(){var e;return e=st().m((function e(t){var r;return st().w((function(e){for(;;)if(0===e.n)return r=new Audio(t),e.a(2,new Promise((function(e,n){r.addEventListener("loadedmetadata",(function(){return e(r.duration)})),r.addEventListener("error",(function(e){n("Error getting custom file duration of ".concat(t,". ").concat(JSON.stringify(e)))}))})))}),e)})),lt=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ct(i,n,o,a,s,"next",e)}function s(e){ct(i,n,o,a,s,"throw",e)}a(void 0)}))},lt.apply(this,arguments)}var ft={getDuration:function(e){return lt.apply(this,arguments)}},pt=__webpack_require__(3026),dt=__webpack_require__(8735);function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mt(n.key),n)}}function mt(e){var t=function(e,t){if("object"!=yt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yt(t)?t:t+""}var vt=function(){return e=function e(t){var r=this,n=t.pageURL,o=t.doc,i=void 0===o?document.documentElement:o,a=t.tagScriptQueryParams,s=void 0===a?new URLSearchParams:a,u=t.publisherTags,l=t.depart;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageURL=n,this.doc=i,this.tagScriptQueryParams=s,this.publisherTags=u,this.depart=l,this.doc.constructor===String){var f=new DOMParser;this.doc=f.parseFromString(this.doc,"text/html").documentElement}this.targetSections=new dt.A({onError:function(e){r.depart.trackError(r.depart.EVENTS.error,e)}}),this.log=c()("TRINITY:PublisherTags")},(t=[{key:"getPublisherTags",value:function(){var e=this;return(this.publisherTags.map((function(t){return e._getPublisherTagValue(t)}))||[]).flat().filter((function(e){return e}))}},{key:"_getPublisherTagValue",value:function(e){var t=this.targetSections.match({url:this.pageURL,doc:this.doc,type:e.type,matches:[{regexpString:e.regexp,selector:e.selector,filter:e.filter,delimiterSplitter:e.delimiterSplitter}]});if(t)return t.map((function(e){return null==e?void 0:e.matched})).flat()}}])&&ht(e.prototype,t),r&&ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function bt(e,t){var r=e.querySelectorAll(t);return r.length?(r.forEach((function(e){var t;if(null!=e&&null!==(t=e.parentNode)&&void 0!==t&&t.tagName)return e.parentNode.removeChild(e)})),e):e}bt.NAME="excludeSelector";var gt=bt;function _t(e,t){var r=t.selector,n=t.text,o=t.isDeleteAfter,i=t.levelsUp,a=function(e,t,r){var n=e.querySelectorAll(t),o=[];return n.forEach((function(e){var t=e.innerText.toLowerCase();t&&t.includes(r.toLowerCase())&&o.push(e)})),o}(e,r,n);return a.forEach((function(e){e&&function(e,t,r){var n=e;for(;t>0;){if(!n.parentNode){n=null;break}n=n.parentNode,t--}n&&(r?function(e){var t=e.nextElementSibling;for(;t;)t.remove(),t=e.nextElementSibling;e.remove()}(n):n.remove())}(e,i,o)})),e}_t.NAME="excludeText";var wt=_t;function St(e,t){var r=t.selector,n=t.regexp,o=t.regexpFlags,i=new RegExp(n,o),a=function(e,t,r){var n=e.querySelectorAll(t),o=[];return n.forEach((function(e){var t=e.innerText;t&&t.match(r)&&o.push(e)})),o}(e,r,i);return a.forEach((function(e){e&&function(e,t){e.innerHTML=e.innerHTML.replace(t,"")}(e,i)})),e}St.NAME="excludeTextRegexp";var Pt=St;function Tt(e,t){return e.querySelectorAll(t).forEach((function(e){var t=document.createElement("span");t.innerText=e.innerText,e.parentNode.replaceChild(t,e)})),e}Tt.NAME="inline-text";var kt=Tt;function Et(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||At(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function jt(e,t,r){var n=function(e,t,r){var n,o=[],i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=At(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;o=[].concat(Et(o),Et(e.querySelectorAll(a))),o=[].concat(Et(o),Et(e.querySelectorAll(".".concat(a)))),r&&"style"===a||(o=[].concat(Et(o),Et(e.querySelectorAll("#".concat(a)))))}}catch(e){i.e(e)}finally{i.f()}return o}(e,t,r);return n.length?(n.forEach((function(e){var t;if(null!=e&&null!==(t=e.parentNode)&&void 0!==t&&t.tagName)return e.parentNode.removeChild(e)})),e):e}jt.NAME="nodefiltered";var Dt=jt;function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Ct(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function Lt(e){var t=function(e,t){if("object"!=It(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==It(t)?t:t+""}var Mt,xt="⏸",Ft="▇",Ut=" ".concat(xt," "),Vt=" ".concat(xt).concat(Ft," "),Bt=new RegExp("([\\n|\\s|\\r]*".concat(xt).concat(Ft,"[\\n|\\s|\\r]*)+"),"g"),Wt=new RegExp("[\\.]+[\\n|\\s|\\r]*(".concat(xt,")"),"g"),Yt=new RegExp("[\\,]+[\\n|\\s|\\r]*(".concat(xt,")"),"g"),Gt=new RegExp("([,.]+)[\\n|\\s|\\r]*(".concat(xt).concat(Ft,")"),"g"),Ht=new RegExp("([\\n|\\s|\\r])*".concat(xt,"$"),"g"),Qt=new RegExp("([\\n|\\s|\\r])*".concat(Ft,"$"),"g"),qt=new RegExp("([\\n|\\s|\\r])*".concat(xt).concat(Ft,"([\\n|\\s|\\r])*$"),"g"),zt=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.version,n=t.isReadAlong;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version=r,this.isReadAlong=n,this.symbolsToRemove=["▪"],this.symbolsToRemoveDuplicates=["-","—","–","_"],this.nodes=[]},(t=[{key:"parse",value:function(e){var t,r,n=null!==(t=e.isReadAlong)&&void 0!==t?t:this.isReadAlong;return 2===Number(null!==(r=e.version)&&void 0!==r?r:this.version)?n?this._parseForReadAlong(e):this._parseV2(e):this._parseV1(e)}},{key:"getNodes",value:function(){return this.nodes}},{key:"_parseV1",value:function(e){var t,r=e.node,n=e.filters,o=void 0===n?[]:n,i=e.selector,a="",s=(r||document.documentElement).cloneNode(!0);s=this.applyFilters({node:s,filters:o});try{t=s.querySelectorAll(i)}catch(e){t=[]}var u,c=Ct(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;a+=this.parseNode({node:l,filters:o})}}catch(e){c.e(e)}finally{c.f()}return this.getResultText(a)}},{key:"_parseV2",value:function(e){var t=e.node,r=e.filters,n=void 0===r?[]:r,o=e.selector;if(!o)return"";t=null!=t?t:document.documentElement;var i=[];try{var a=t.querySelectorAll(o);if(!a.length)return"";var s,u=Ct(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;this.nodes.push(c);var l=c.cloneNode(!0);l=this.applyFilters({node:l,filters:n}),i.push(l)}}catch(e){u.e(e)}finally{u.f()}for(var f=document.createElement("div"),p=0,d=i;p<d.length;p++){var y=d[p];f.appendChild(y)}var h=this.parseNode({node:f,filters:n});return this.getResultText(h)}catch(e){return""}}},{key:"_parseForReadAlong",value:function(e){var t=e.node,r=e.filters,n=void 0===r?[]:r,o=e.selector;if(!o)return"";t=null!=t?t:document.documentElement;try{var i=t.querySelectorAll(o);if(!i.length)return"";var a,s="",u=Ct(i);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=c.cloneNode(!0);l=this.applyFilters({node:l,filters:n});var f=this.parseNode({node:l,filters:n,isMarkParagraphBoundaries:!0});f&&(s+=f,this.nodes.push(c))}}catch(e){u.e(e)}finally{u.f()}return this.getResultText(s)}catch(e){return""}}},{key:"parseNode",value:function(e){var t,r=e.node,n=e.filters,o=e.isMarkParagraphBoundaries,i=void 0!==o&&o,a=r,s=Ct(n);try{for(s.s();!(t=s.n()).done;){var u=t.value;u.name===kt.NAME&&(a=kt(a,u.params))}}catch(e){s.e(e)}finally{s.f()}var c=this.getTextWithNewLines({node:a,isMarkParagraphBoundaries:i});return c?this.symbolsCleanup(c):""}},{key:"getTextWithNewLines",value:function(e){var t,r=e.node,n=e.isMarkParagraphBoundaries,o=void 0!==n&&n;if(null!==(t=r.innerText)&&void 0!==t&&t.trim()){r.style.position="absolute",r.style.left="-99999px",r.style.zIndex="-99999",r.style.opacity="0",document.body.appendChild(r);var i="".concat(r.innerText).concat(Vt);return o&&(i="".concat("◘").concat(i)),i=i.replace(/\n+/g,Vt),r.remove(),i}}},{key:"removeSymbols",value:function(e){return this.symbolsToRemove.forEach((function(t){var r=new RegExp("".concat(t),"gm");e=e.replace(r,"")})),e}},{key:"removeSymbolsDuplicates",value:function(e){return this.symbolsToRemoveDuplicates.forEach((function(t){var r=new RegExp("( *".concat(t," *){3,}"),"gm"),n=" ".concat(t," "),o=e.replace(r,n);e=o===n?"":o})),e}},{key:"symbolsCleanup",value:function(e){var t=this.removeSymbols(e);return this.removeSymbolsDuplicates(t)}},{key:"setSpacedDots",value:function(e){return e.replace(/([a-z"”()0-9])(\.)([A-Z"”()])/gm,"$1$2 $3")}},{key:"replaceNewLine",value:function(e){return e.replace(/\s+/g," ").replace(qt,"").replace(Qt,"").replace(Bt,Vt).replace(Gt,"$1".concat(Ft)).replace(/(([a-zA-Z]\.){2,}) \. \n[^$]/gi,"$1_ABBR_DOTS_ ").replace(/_ABBR_DOTS_/g,Ut).replace(Yt,", ").replace(Wt,". ").replace(Ht,"").trim()}},{key:"switchDotCommaForNumbers",value:function(e){return e.replace(/([0-9])([.,])([0-9])/gm,(function(e,t,r,n){var o=r;return"."===r?o=",":","===r&&(o="."),t+o+n}))}},{key:"applyFilters",value:function(e){var t,r=e.node,n=e.filters,o=Ct(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.name===Dt.NAME&&(r=Dt(r,i.params,i.isDefaultFilters))}}catch(e){o.e(e)}finally{o.f()}var a,s=Ct(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.name===gt.NAME&&(r=gt(r,u.params))}}catch(e){s.e(e)}finally{s.f()}var c,l=Ct(n);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.name===wt.NAME&&(r=wt(r,f.params))}}catch(e){l.e(e)}finally{l.f()}var p,d=Ct(n);try{for(d.s();!(p=d.n()).done;){var y=p.value;y.name===Pt.NAME&&(r=Pt(r,y.params))}}catch(e){d.e(e)}finally{d.f()}return r}},{key:"getResultText",value:function(e){return e=this.setSpacedDots(e),this.replaceNewLine(e)}}])&&Nt(e.prototype,t),r&&Nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),Kt=__webpack_require__(5111),Jt=__webpack_require__(6025),$t=__webpack_require__(7258);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Xt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return er(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(er(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,er(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,er(f,"constructor",c),er(c,"constructor",u),u.displayName="GeneratorFunction",er(c,o,"GeneratorFunction"),er(f),er(f,o,"Generator"),er(f,n,(function(){return this})),er(f,"toString",(function(){return"[object Generator]"})),(Xt=function(){return{w:i,m:p}})()}function er(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}er=function(e,t,r,n){function i(t,r){er(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},er(e,t,r,n)}function tr(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function rr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){tr(i,n,o,a,s,"next",e)}function s(e){tr(i,n,o,a,s,"throw",e)}a(void 0)}))}}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,or(n.key),n)}}function or(e){var t=function(e,t){if("object"!=Zt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zt(t)?t:t+""}var ir,ar=function(){return t=function e(t){var r=t.playerId,n=t.pageURL,o=t.selectorVersion,i=t.isReadAlong,a=t.selector,s=t.headlineSelector,u=t.articleSelector,c=t.isNewTextApproach,l=t.filters,f=t.language,p=t.tagScriptQueryParams;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerId=r,this.playerData=window.TRINITY_PLAYER.players[r],this.pageURL=n,this.selectorVersion=o,this.isReadAlong=i,this.selector=a,this.headlineSelector=s,this.articleSelector=u,this.isNewTextApproach=c,this.filters=l||[],this.language=f,this.tagScriptQueryParams=p,this.depart=Jt.A},r=[{key:"start",value:(c=rr(Xt().m((function e(){var t=this;return Xt().w((function(e){for(;;)if(0===e.n)return e.a(2,new Promise((function(e,r){try{Ye.waitUntilDocumentLoaded({doc:document,documentLoadType:t.playerData.documentLoadType,documentLoadTypeSelector:t.playerData.documentLoadTypeSelector,timeout:2e4,callback:(n=rr(Xt().m((function n(){var o,i,a,u,c,l,f,p,d,y,h,m,v,b,g,_,w,S,P,T,k,E,A,O,j,D,I,C,R=arguments;return Xt().w((function(n){for(;;)switch(n.n){case 0:return a=(i=R.length>0&&void 0!==R[0]?R[0]:{}).isTimeout,u=i.timeout,a&&(c="Timeout in ".concat(u,"ms"),t.depart.trackError(t.depart.EVENTS.error,c),r(c)),n.n=1,t._readPageText();case 1:if(l=n.v){n.n=2;break}return n.a(2,r({message:"Text was not found"}));case 2:return f=t._getDocumentTitle(),p=t.playerData.headlineText,d=t.playerData.articleText,y=t.metadata.canonicalURL,h=ie.A.getCanonicalHash({canonicalURL:y||t.contentURL,language:t.language}),m=e,v=t._isTextTranslated(),b=l,g=f,_=p,w=d,S=t._getEstimatedDuration({text:l,language:t.language}),n.n=3,(0,pt.A)("".concat(l).concat(f).concat(atob(s.A.audioHashSalt.map((function(e){return String.fromCharCode(e)})).join(""))));case 3:return P=n.v,n.n=4,(0,pt.A)("".concat(p).concat(d).concat(atob(s.A.audioIntegritySalt.map((function(e){return String.fromCharCode(e)})).join(""))));case 4:return T=n.v,k=t.metadata,E=t.contentURL,n.n=5,ie.A.getContentHash({url:t.contentURL,whitelistURLParams:null===(o=t.playerData.renderOptions)||void 0===o?void 0:o.whitelistURLParams});case 5:A=n.v,O=y,j=h,D=ie.A.getCanonicalHashWrapped(h),I=t._getPublisherSectionData(),C=t._getPublisherTags(),m({isTextTranslated:v,text:b,articleTitle:g,articleHeadline:_,articleText:w,estimatedDuration:S,hash:P,aih:T,metadata:k,contentURL:E,contentHash:A,canonicalURL:O,canonicalHash:j,canonicalHashWrapped:D,publisherSectionData:I,publisherTags:C});case 6:return n.a(2)}}),n)}))),function(){return n.apply(this,arguments)})})}catch(e){r(e)}var n})))}),e)}))),function(){return c.apply(this,arguments)})},{key:"getMetadata",value:(u=rr(Xt().m((function e(){return Xt().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this._resolveDoc();case 1:return e.a(2,this._getMetadata())}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"_getPublisherSectionData",value:function(){return Array.isArray(this.playerData.publisherSections)?(this.publisher=new $t.A({pageURL:this.pageURL,doc:this.doc,tagScriptQueryParams:this.tagScriptQueryParams,playerData:this.playerData}),this.publisher.getPublisherSectionData()):[]}},{key:"_getPublisherTags",value:function(){return new vt({pageURL:this.pageURL,doc:this.doc,tagScriptQueryParams:this.tagScriptQueryParams,publisherTags:this.playerData.publisherTags,depart:this.depart}).getPublisherTags()}},{key:"_isTextTranslated",value:function(){return Boolean(this.doc.querySelector("html.translated-ltr, html.translated-rtl, html.translated-ltr #goog-gt-tt, html.translated-rtl #goog-gt-tt"))}},{key:"_getDocumentTitle",value:function(){var e;return this.tagScriptQueryParams.get("articleTitle")||this.rootDoc.title||(null===(e=this.doc.getElementsByTagName("title"))||void 0===e||null===(e=e[0])||void 0===e?void 0:e.textContent)||this.metadata.title||"---NO TITLE---"}},{key:"_readPageText",value:(a=rr(Xt().m((function t(){var r,n,o,i,a=this;return Xt().w((function(t){for(;;)switch(t.p=t.n){case 0:return t.n=1,this.getMetadata();case 1:if(this.metadata=t.v,this.filters.unshift({name:"nodefiltered",params:s.A.excludeTags,isDefaultFilters:!0}),this.textParser=new zt({version:this.selectorVersion,isReadAlong:this.isReadAlong}),r=this.textParser.parse({node:this.doc,filters:this.filters,selector:this.selector,version:1,isReadAlong:!1}),n=this.textParser.parse({node:this.doc,selector:this.headlineSelector}),o=this.textParser.parse({node:this.doc,filters:this.filters,selector:this.articleSelector}),this.isNewTextApproach&&(null!=n&&n.trim()||null!=o&&o.trim())&&(r="".concat(n," ").concat(xt).concat(Ft," ").concat(o)),!(r.length>s.A.maxTextLength)){t.n=2;break}return console.error("Exceeded maximum text length of ".concat(s.A.maxTextLength," characters. Found: ").concat(r.length)),t.a(2);case 2:if(this.playerData.resultReadingText=r,this.playerData.headlineText=n,this.playerData.articleText=o,this.playerData.getNodes=function(){return a.textParser.getNodes()},this.playerData.unitEnvironment!==e.A.UNIT_ENVIRONMENT.WP){t.n=7;break}return t.p=3,t.n=4,this._waitUntilVariableAvailable();case 4:t.n=6;break;case 5:return t.p=5,i=t.v,console.error(i),t.a(2);case 6:this.playerData.resultReadingText=this.textParser.replaceNewLine(window.TRINITY_TTS_WP_CONFIG.cleanText),window.TRINITY_TTS_WP_CONFIG.headlineText&&(this.playerData.headlineText=this.textParser.replaceNewLine(window.TRINITY_TTS_WP_CONFIG.headlineText)),window.TRINITY_TTS_WP_CONFIG.articleText&&(this.playerData.articleText=this.textParser.replaceNewLine(window.TRINITY_TTS_WP_CONFIG.articleText)),window.TRINITY_TTS_WP_CONFIG.metadata&&(this.metadata.author=this.metadata.author||window.TRINITY_TTS_WP_CONFIG.metadata.author);case 7:if(window.TRINITY_PLAYER.api.isMultiplePlayers||(window.TRINITY_PLAYER.resultReadingText=this.playerData.resultReadingText,window.TRINITY_PLAYER.headlineText=this.playerData.headlineText,window.TRINITY_PLAYER.articleText=this.playerData.articleText),this.playerData.resultReadingText||this.tagScriptQueryParams.get("cf")){t.n=8;break}return this.depart.trackError(this.depart.EVENTS.error,"No text was found"),console.error("Removing the player, as no text was found for playing. Please check the selector. Selector: ".concat(this.selector)),t.a(2);case 8:return t.a(2,this.playerData.resultReadingText)}}),t,this,[[3,5]])}))),function(){return a.apply(this,arguments)})},{key:"_applyReadContentHook",value:(i=rr(Xt().m((function e(){var t,r,n,o,i,a,u,c=this;return Xt().w((function(e){for(;;)switch(e.p=e.n){case 0:if(t=this.playerData,r=t.readContentType,n=t.readContentConfig)try{o=JSON.parse(n)}catch(e){this.depart.trackError(this.depart.EVENTS.error,"Can't parse readContentConfig. ".concat(e))}if(r&&o){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,f.A.load({fn:function(){var e=rr(Xt().m((function e(){return Xt().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,__webpack_require__.e(1635,"high").then(__webpack_require__.bind(__webpack_require__,1635));case 1:return e.a(2,e.v.default)}}),e)})));return function(){return e.apply(this,arguments)}}(),moduleName:"@trinity/read-content-hook",depart:this.depart});case 2:Mt=e.v,e.n=4;break;case 3:return e.p=3,e.v,window.TRINITY_PLAYER.api._internal.removePlayer(),e.a(2);case 4:return i=new Mt({type:r,config:o,doc:document,logPrefix:s.A.logPrefix,depart:function(e){var t=e.message;c.depart.trackError(c.depart.EVENTS.error,t)}}),e.n=5,i.getContent();case 5:return a=e.v,u=i.getContentURL(),e.a(2,{content:a,url:u})}}),e,this,[[1,3]])}))),function(){return i.apply(this,arguments)})},{key:"_resolveDoc",value:(o=rr(Xt().m((function e(){var t;return Xt().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this._applyReadContentHook();case 1:t=e.v,this.contentURL=(null==t?void 0:t.url)||this.pageURL,null!=t&&t.content?(this.doc=t.content,this.rootDoc=t.content.parentNode):(this.doc=document.documentElement,this.rootDoc=document);case 2:return e.a(2)}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"_getMetadata",value:function(){var e=new Kt.A({doc:this.doc,logPrefix:s.A.logPrefix,override:{imageURL:{type:"css",selector:this.playerData.imageSelector}}}).find();return e.imageURL=e.imageURL||this.tagScriptQueryParams.get("articleImage"),e.description=e.description||this.tagScriptQueryParams.get("articleDescription"),e}},{key:"_getEstimatedDuration",value:function(e){var t=e.text,r=e.language,n=void 0===r?"en":r,o=s.A.averageAudioTimePerChar[n]||s.A.averageAudioTimePerChar.en;return t.replace(/\s\s+/," ").length*o}},{key:"_waitUntilVariableAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout,r=void 0===t?2e4:t,n=e.variableName,o=void 0===n?"TRINITY_TTS_WP_CONFIG":n;return new Promise((function(e,t){if(void 0!==window[o])return e();var n=setInterval((function(){void 0!==window[o]&&(e(),clearInterval(n),clearTimeout(i))}),500),i=setTimeout((function(){t("Variable ".concat(o," is not available!"))}),r)}))}}],r&&nr(t.prototype,r),n&&nr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n,o,i,a,u,c}();var sr={initPlayerViewabilityObserver:function(e){var t=e.iframeEl,r=e.callback;t.parentNode&&new IntersectionObserver((function(e){var t=e[0].intersectionRatio>=.5&&!0;ir!==t&&(ir=t,r(t))}),{threshold:[.45,.5,.55]}).observe(t.parentNode)}};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lr(n.key),n)}}function lr(e){var t=function(e,t){if("object"!=ur(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ur(t)?t:t+""}var fr=function(){return e=function e(t){var r=t.iframeEl,n=t.playerId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iframeEl=r,this.playerId=n,this.postMessageHelper=new l.A(this.playerId),this.viewabilityEventsFired={enteredView:[],exitView:!1}},(t=[{key:"init",value:function(){var e=this;window.addEventListener("message",(function(t){var r,n;(null===(r=t.data)||void 0===r?void 0:r.type)===l.A.PRIVATE_MESSAGE_TYPE&&(null===(n=t.data.value)||void 0===n?void 0:n.action)===l.A.privateMessages.ready&&e.iframeEl.isConnected&&sr.initPlayerViewabilityObserver({iframeEl:e.iframeEl,callback:function(r){r?e._isEventFiredForPlayerMode(s.A.playerMode.default)||(e._markEventFiredForPlayerMode(s.A.playerMode.default),window.TRINITY_PLAYER.players[e.playerId].enteredView=!0,e._sendPostMessageToSendDepart({eventName:l.A.privateMessages.enteredView,data:{player_mode:s.A.playerMode.default}})):e._isEventFiredForPlayerMode(s.A.playerMode.default)&&!e.viewabilityEventsFired.exitView&&(e.viewabilityEventsFired.exitView=!0,e._sendPostMessageToSendDepart({eventName:l.A.privateMessages.exitedView,data:{player_mode:s.A.playerMode.default}}));var n={type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:r?l.A.privateMessages.playerInView:l.A.privateMessages.playerOutOfView}};t.source.postMessage(n,"*"),window.postMessage(n,"*")}})})),window.addEventListener("message",(function(t){var r,n,o;if((null===(r=t.data)||void 0===r?void 0:r.type)===l.A.PUBLIC_MESSAGE_TYPE){var i=null===(n=t.data)||void 0===n||null===(n=n.value)||void 0===n?void 0:n.message;switch(null===(o=t.data.value)||void 0===o?void 0:o.action){case l.A.privateMessages.FABShow:e._isEventFiredForPlayerMode(s.A.playerMode.fab)||(e._markEventFiredForPlayerMode(s.A.playerMode.fab),e._sendPostMessageToSendDepart({eventName:l.A.privateMessages.enteredView}));break;case l.A.privateMessages.FABHide:null!=i&&i.isFABShown&&!e.viewabilityEventsFired.exitView&&(e.viewabilityEventsFired.exitView=!0,e._sendPostMessageToSendDepart({eventName:l.A.privateMessages.exitedView,data:{player_mode:i.playerMode}}))}}}))}},{key:"_sendPostMessageToSendDepart",value:function(e){var t=e.eventName,r=e.data;this.postMessageHelper.sendToPlayer({action:l.A.privateMessages.sendDepart,message:{event:t,data:r}})}},{key:"_isEventFiredForPlayerMode",value:function(e){return this.viewabilityEventsFired.enteredView.includes(e)}},{key:"_markEventFiredForPlayerMode",value:function(e){this.viewabilityEventsFired.enteredView.push(e)}}])&&cr(e.prototype,t),r&&cr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),pr={states:{NOT_INITIALIZED:"not_initialized",INITIALIZING:"initializing",INITIALIZED:"initialized",LOADING:"loading",LOADED:"loaded",PLAY:"play",PAUSE:"pause",COMPLETE:"complete"}},dr="fab-view",yr="generate-button",hr="✕",mr="#1e1e1ecc",vr="#000",br="#fff",gr=3,_r=4.1,wr=2.5,Sr=3.3,Pr=6,Tr={none:"none",fab:"fab",fabAfterView:"fabAfterView",fabAfterClick:"fabAfterClick",fabOnly:"fabOnly"};function kr(e){var t=e.element,r=e.action,n=e.callback,o=e.postMessageHelper,i=String(Date.now()+parseInt(100*Math.random(),10));window.addEventListener("message",(function(e){var t,r,a;(null===(t=e.data)||void 0===t?void 0:t.type)===o.PRIVATE_MESSAGE_TYPE&&(null===(r=e.data)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.action)===o.privateMessages.FABResponse&&(null===(a=e.data)||void 0===a||null===(a=a.value)||void 0===a?void 0:a.message)===i&&(clearInterval(s),n())}));var a=function(){var e;null===(e=t.contentWindow)||void 0===e||e.postMessage({type:o.PRIVATE_MESSAGE_TYPE,value:{action:r,message:i}},"*")};a();var s=setInterval(a,300)}function Er(e){var t=e.playerId,r=e.playerMode;window.TRINITY_PLAYER.players[t].playerMode=r}var Ar=function(e){var t=this,r=e.playerId,n=e.isMobile,o=e.config,i=e.iframe,a=e.iframeWrapper,s=e.postMessageHelper;this.show=function(e){if(!window.TRINITY_PLAYER.api.isMultiplePlayers){var a=window.TRINITY_PLAYER.players[r];if(a){var u=a.FAB;(u!==Tr.fabAfterView||a.enteredView)&&(u!==Tr.fabAfterClick||a.audioTypePlaying)&&(Er({playerId:r,playerMode:"fab"}),kr({element:i,action:s.privateMessages.FABShow,callback:function(){i.classList.add(dr),o.text_position&&i.classList.add("text-position-".concat(o.text_position)),n?(i.style.bottom=t.getValueFromConfig("m_bottom","16px"),i.style.left=t.getValueFromConfig("m_left","16px"),i.style.right=t.getValueFromConfig("m_right",""),i.style.zIndex=t.getValueFromConfig("m_zindex","600")):(i.style.bottom=t.getValueFromConfig("bottom","32px"),i.style.left=t.getValueFromConfig("left","32px"),i.style.right=t.getValueFromConfig("right",""),i.style.zIndex=t.getValueFromConfig("zindex","1000")),null==e||e()},postMessageHelper:s}))}}},this.hide=function(){window.TRINITY_PLAYER.api.isMultiplePlayers||window.TRINITY_PLAYER.players[r]&&(Er({playerId:r,playerMode:"default"}),kr({element:i,action:s.privateMessages.FABHide,callback:function(){i.classList.remove(dr),o.text_position&&i.classList.remove("text-position-".concat(o.text_position)),a.style.zIndex=""},postMessageHelper:s}))},this.getValueFromConfig=function(e,t){return o&&o[e]||t}};function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function jr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dr(n.key),n)}}function Dr(e){var t=function(e,t){if("object"!=Or(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Or(t)?t:t+""}var Ir=function(){return e=function e(t){var r=t.iframeEl,n=t.isMobile,o=t.isDarkHandler,i=t.onCloseClicked,a=t.playerData,s=t.theme,u=t.postMessageHelper,c=t.depart;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iframeEl=r,this.isDarkHandler=o,this.isMobile=n,this.depart=c,this.postMessageHelper=u,this.onCloseClicked=i,this.playerData=a,this.theme=s,this.overlay=null,this.fabPosition=null,this.isCloseDisabled=this.theme.get({property:"fab.close.is-disabled"}),this._onPlayerRemoved=this._onPlayerRemoved.bind(this)},t=[{key:"show",value:function(){var e=getComputedStyle(this.iframeEl);this._restoreFABPosition(),this._createOverlay(e),this._addCloseButton(),this._createDropToCloseArea(),this._attachDragHandlers(e),this._startViewportResizeTracking(),this._startPlayerRemovingObserver()}},{key:"hide",value:function(){this._removeOverlay(),this._stopViewportResizeTracking(),this._stopPlayerRemovingObserver()}},{key:"_removeOverlay",value:function(){var e,t;null===(e=this.overlay)||void 0===e||e.remove(),this.overlay=null,null===(t=this.dropArea)||void 0===t||t.remove(),this.dropArea=null}},{key:"_createOverlay",value:function(e){var t=document.createElement("div");Object.assign(t.style,{left:e.left,bottom:e.bottom,width:e.width,height:e.height,zIndex:(parseInt(e.zIndex||"9999",10)+1).toString()}),t.className="trinity-fab-overlay",t.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.overlay=t,document.body.appendChild(this.overlay)}},{key:"_createDropToCloseArea",value:function(){if(!this.isCloseDisabled&&this.isMobile){var e=document.createElement("div"),t=this.theme.get({property:"fab.close.drop-area",isDark:this.isDarkHandler()});t&&e.setAttribute("style",t),e.innerText=hr,e.className="trinity-fab-drop-to-close-area",this.dropArea=e,document.body.appendChild(this.dropArea)}}},{key:"_addCloseButton",value:function(){var e=this;if(!this.isCloseDisabled&&!this.isMobile){var t=this.isDarkHandler(),r=this.theme.get({property:"fab.close.close-button",isDark:t}),n=document.createElement("button");if(n.className="trinity-fab-overlay-close-button",n.innerText=hr,r)n.setAttribute("style",r);else{var o=this.theme.get({property:"main-color",isDark:t})||vr,i=this.theme.get({property:"background-color",isDark:t})||br,a=this.theme.get({property:"el-play-button.width",isDark:t}),s=Number(a)||50,u=Sr,c=_r,l=wr;Object.assign(n.style,{background:i,borderColor:o,color:o,width:"".concat(Math.max(Math.floor(s/l),15),"px"),height:"".concat(Math.max(Math.floor(s/l),15),"px"),fontSize:"".concat(Math.max(Math.floor(s/u),12),"px"),lineHeight:"".concat(Math.max(Math.floor(s/c),10),"px")})}var f=function(t){t.stopPropagation(),e._closeFAB()};n.addEventListener("mousedown",f),n.addEventListener("touchend",f),this.overlay.appendChild(n)}}},{key:"_closeFAB",value:function(){var e;this.postMessageHelper.sendToPlayer({action:this.postMessageHelper.privateMessages.playerPause}),this._removeOverlay(),null===(e=this.onCloseClicked)||void 0===e||e.call(this)}},{key:"_toggleDropAreaDisplay",value:function(e){var t;null===(t=this.dropArea)||void 0===t||t.style.setProperty("display",e?"block":"none")}},{key:"_attachDragHandlers",value:function(e){var t=this;this.overlay.addEventListener("mousedown",(function(r){r.preventDefault();var n=r.clientX,o=r.clientY,i=parseInt(e.left,10),a=parseInt(e.bottom,10),s=!1,u=function(r){var u=r.clientX-n,c=r.clientY-o;s=!0,t._updateDragPosition({dx:u,dy:c,startLeft:i,startBottom:a,iframeStyles:e})},c=function(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c),t._onMoveEnd(s)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",c)})),this.overlay.addEventListener("touchstart",(function(r){if(1===r.touches.length){r.preventDefault();var n=r.touches[0],o=n.clientX,i=n.clientY,a=parseInt(e.left,10),s=parseInt(e.bottom,10),u=!1,c=function(r){var n=r.touches[0].clientX-o,c=r.touches[0].clientY-i,l=gr;if((Math.abs(n)>l||Math.abs(c)>l)&&(t._toggleDropAreaDisplay(!0),u=!0),t._updateDragPosition({dx:n,dy:c,startLeft:a,startBottom:s,iframeStyles:e}),t.dropArea){var f=t.dropArea.getBoundingClientRect(),p=t.overlay.getBoundingClientRect(),d=t.theme.get({property:"fab.close.drop-area.hover-color",isDark:t.isDarkHandler()})||mr;t.originalDropAreaBackground||(t.originalDropAreaBackground=t.dropArea.style.background||getComputedStyle(t.dropArea).background),t.isOverDropArea=!(p.right<f.left||p.left>f.right||p.bottom<f.top||p.top>f.bottom),t.dropArea.style.background=t.isOverDropArea?d:t.originalDropAreaBackground}},l=function(){document.removeEventListener("touchmove",c),document.removeEventListener("touchend",l),t._onMoveEnd(u),t._toggleDropAreaDisplay(!1),t.isOverDropArea&&t._closeFAB()};document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("touchend",l)}}),{passive:!1})}},{key:"_onMoveEnd",value:function(e){if(e)return this.depart.track(this.depart.EVENTS.FABDragged);this._startPlayerFromClick()}},{key:"_updateDragPosition",value:function(e){var t,r,n=e.dx,o=e.dy,i=e.startLeft,a=e.startBottom,s=e.iframeStyles,u=e.saveFabPosition,c=void 0===u||u,l=parseInt(s.width,10),f=parseInt(s.height,10),p=(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||window.innerHeight,d=(null===(r=window.visualViewport)||void 0===r?void 0:r.width)||window.innerWidth,y=Pr,h=Math.max(-l/y,Math.min(i+n,d-l)),m=Math.max(-f/y,Math.min(a-o,p-f));this.overlay.style.left="".concat(h,"px"),this.overlay.style.bottom="".concat(m,"px"),this.iframeEl.style.left="".concat(h,"px"),this.iframeEl.style.bottom="".concat(m,"px"),c&&(this.fabPosition={left:h,bottom:m})}},{key:"_restoreFABPosition",value:function(){if(this.fabPosition){var e=this.fabPosition,t=e.left,r=e.bottom;this.iframeEl.style.left="".concat(t,"px"),this.iframeEl.style.bottom="".concat(r,"px"),this._viewportResizeHandler()}}},{key:"_startPlayerFromClick",value:function(){this._isSubscriptionLocked()||this.postMessageHelper.sendToPlayer({action:this.postMessageHelper.privateMessages.startPlayer})}},{key:"_isSubscriptionLocked",value:function(){return"subscription-locked"===this.playerData.playerType}},{key:"_startViewportResizeTracking",value:function(){window.visualViewport&&this.isMobile&&(this._initialViewportHeight=window.visualViewport.height,this._boundedViewportHandler=this._viewportResizeHandler.bind(this),window.visualViewport.addEventListener("resize",this._boundedViewportHandler),window.visualViewport.addEventListener("scroll",this._boundedViewportHandler))}},{key:"_stopViewportResizeTracking",value:function(){window.visualViewport&&this._boundViewportResizeHandler&&(window.visualViewport.removeEventListener("resize",this._boundViewportResizeHandler),window.visualViewport.removeEventListener("scroll",this._boundViewportResizeHandler),this._boundViewportResizeHandler=null)}},{key:"_viewportResizeHandler",value:function(){if(this.overlay&&this.iframeEl&&this.fabPosition){var e=window.visualViewport.height,t=e-this._initialViewportHeight,r=getComputedStyle(this.iframeEl),n=parseInt(r.left,10),o=parseInt(r.bottom,10);(this.fabPosition.bottom>Math.abs(t)||this.fabPosition.bottom+r.height+Math.abs(t)<e)&&(o=this.fabPosition.bottom+t,this.overlay.style.bottom="".concat(o,"px"),this.iframeEl.style.bottom="".concat(o,"px")),this._updateDragPosition({dx:0,dy:0,startLeft:n,startBottom:o,iframeStyles:r,saveFabPosition:!1})}}},{key:"_startPlayerRemovingObserver",value:function(){window.addEventListener("message",this._onPlayerRemoved)}},{key:"_stopPlayerRemovingObserver",value:function(){window.removeEventListener("message",this._onPlayerRemoved)}},{key:"_onPlayerRemoved",value:function(e){var t,r;(null===(t=e.data)||void 0===t?void 0:t.type)===l.A.PRIVATE_MESSAGE_TYPE&&(null===(r=e.data)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.action)===l.A.privateMessages.playerRemovedFromDOM&&this.hide()}}],t&&jr(e.prototype,t),r&&jr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Rr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Nr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mr(n.key),n)}}function Mr(e){var t=function(e,t){if("object"!=Cr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cr(t)?t:t+""}var xr=function(){return e=function e(t){var r=t.playerId,n=t.isMobile,o=t.isDark,i=t.iframeEl,a=t.parentWindowQueryParams,s=t.theme,u=t.postMessageHelper,c=t.depart;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerId=r,this.playerData=window.TRINITY_PLAYER.players[this.playerId],this.isMobile=n,this.iframeEl=i,this.parentWindowQueryParams=a,this.overlay=null,this.parentWindowTrinityFAB=this.parentWindowQueryParams.get("TRINITY_FAB"),this.FABOnly=(this.parentWindowTrinityFAB||this.playerData.FAB)===Tr.fabOnly,this.theme=s,this.postMessageHelper=u,this.isDark=o,this.depart=c},t=[{key:"init",value:function(){var e,t=this;this._isFABEnabled()&&(this._initFABView(),this._initFABDrag(),null!==(e=this.playerData.FABConfig)&&void 0!==e&&e.excl_selector&&setInterval((function(){t.iframeEl.isConnected&&t._hidePlayerOverExcSelector()}),200))}},{key:"toggleForcePermanently",value:function(e){this._isFABEnabled()&&(this.isIgnoredViewability=e,e?this.FABViewManager.show():this.FABViewManager.hide())}},{key:"_hidePlayerOverExcSelector",value:function(){var e,t,r,n,o,i,a,s=document.querySelectorAll(this.playerData.FABConfig.excl_selector),u=!1;if(s.length){var c,l=Rr(s);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(e=this.iframeEl,t=f,r=void 0,n=void 0,o=void 0,i=void 0,a=void 0,r=e.getBoundingClientRect(),n=r.left-1,o=r.right+1,i=r.top-1,a=r.bottom+1,u=!(document.elementFromPoint(n,i)!==t&&!t.contains(document.elementFromPoint(n,i)))||!(document.elementFromPoint(o,i)!==t&&!t.contains(document.elementFromPoint(n,i)))||!(document.elementFromPoint(n,a)!==t&&!t.contains(document.elementFromPoint(n,i)))||document.elementFromPoint(o,a)===t||t.contains(document.elementFromPoint(n,i)))break}}catch(e){l.e(e)}finally{l.f()}return u?this._hide():this._show()}}},{key:"_show",value:function(){this.iframeEl.classList.remove("trinity-if-hidden")}},{key:"_hide",value:function(){this.iframeEl.classList.add("trinity-if-hidden")}},{key:"_initFABDrag",value:function(){var e,t=this;null!==(e=this.playerData.FABConfig)&&void 0!==e&&e.fab_close_disabled||(this.fabDrag=new Ir({iframeEl:this.iframeEl,isDarkHandler:function(){return t.isDark},isMobile:this.isMobile,theme:this.theme,playerData:this.playerData,onCloseClicked:function(){t.FABViewManager.hide(),t.isIgnoredViewability=!0},postMessageHelper:this.postMessageHelper,depart:this.depart}))}},{key:"_initFABView",value:function(){this.FABViewManager=new Ar({playerId:this.playerId,isMobile:this.isMobile,config:this.playerData.FABConfig,iframe:this.iframeEl,iframeWrapper:this.iframeEl.parentNode,postMessageHelper:this.postMessageHelper}),this.FABOnly?this.FABViewManager.show():this._initFabIntersectionObserver()}},{key:"_isFABEnabled",value:function(){if((this.parentWindowTrinityFAB||this.playerData.FAB)===Tr.none)return!1;var e=this.theme.get({property:"layout"});return!window.TRINITY_PLAYER.api.isMultiplePlayers&&(this.playerData.FAB||this.parentWindowTrinityFAB)&&"undefined"!=typeof IntersectionObserver&&e!==yr&&"subscription-locked"!==this.playerData.playerType}},{key:"_initFabIntersectionObserver",value:function(){var e=this;window.TRINITY_PLAYER.api.isMultiplePlayers||this.iframeEl.parentNode&&window.addEventListener("message",(function(t){var r,n;if(!e.isIgnoredViewability&&(null===(r=t.data)||void 0===r?void 0:r.type)===l.A.PRIVATE_MESSAGE_TYPE){var o,i=null===(n=t.data)||void 0===n||null===(n=n.value)||void 0===n?void 0:n.action;i===l.A.privateMessages.playerInView&&(e.FABViewManager.hide(),null===(o=e.fabDrag)||void 0===o||o.hide()),i===l.A.privateMessages.playerOutOfView&&e.FABViewManager.show((function(){var t;[pr.states.LOADING].includes(e.playerData.state)||null===(t=e.fabDrag)||void 0===t||t.show()}))}}))}}],t&&Lr(e.prototype,t),r&&Lr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),Fr=__webpack_require__(2732);function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Vr(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Br(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Br(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Br(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Br(f,"constructor",c),Br(c,"constructor",u),u.displayName="GeneratorFunction",Br(c,o,"GeneratorFunction"),Br(f),Br(f,o,"Generator"),Br(f,n,(function(){return this})),Br(f,"toString",(function(){return"[object Generator]"})),(Vr=function(){return{w:i,m:p}})()}function Br(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Br=function(e,t,r,n){function i(t,r){Br(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Br(e,t,r,n)}function Wr(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Yr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Wr(i,n,o,a,s,"next",e)}function s(e){Wr(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qr(n.key),n)}}function Hr(e,t,r){Qr(e,t),t.set(e,r)}function Qr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qr(e){var t=function(e,t){if("object"!=Ur(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ur(t)?t:t+""}function zr(e,t){return e.get(Jr(e,t))}function Kr(e,t,r){return e.set(Jr(e,t),r),r}function Jr(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var $r,Zr,Xr,en=new WeakMap,tn=new WeakMap,rn=new WeakMap,nn=new WeakMap,on=new WeakSet,an=new WeakMap,sn=function(){function e(t){var r,n,o=this,i=t.playerId,a=t.timeout,s=t.logPrefix;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qr(r=this,n=on),n.add(r),Hr(this,en,void 0),Hr(this,tn,void 0),Hr(this,rn,void 0),Hr(this,nn,void 0),Hr(this,an,(function(e){if(zr(rn,o)){var t=e.action,r=e.value.uid;t===Fr.A.PRIVATE_MESSAGES.id5Response&&(o.log("Got id5Response",{uid:r}),Kr(en,o,r),zr(rn,o).call(o,{uid:r}),Jr(on,o,ln).call(o))}})),this.postMessageHelper=new Fr.A(i),this.log=u("".concat(s,":ID5Bridge")),this.timeout=a,Kr(en,this,null),Kr(tn,this,null),Kr(rn,this,null),Jr(on,this,un).call(this)}return t=e,r=[{key:"requestID5",value:function(){var e=Yr(Vr().m((function e(){return Vr().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,Jr(on,this,cn).call(this);case 1:return e.a(2)}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUID",value:function(){return zr(en,this)}},{key:"refresh",value:(o=Yr(Vr().m((function e(){return Vr().w((function(e){for(;;)if(0===e.n)return Kr(en,this,null),e.a(2,Jr(on,this,cn).call(this,!0))}),e,this)}))),function(){return o.apply(this,arguments)})}],n=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.playerId,n=t.timeout,o=void 0===n?1500:n,i=t.logPrefix,a=void 0===i?"TRINITY":i;return e.instance||(e.instance=new e({playerId:r,timeout:o,logPrefix:a})),e.instance}},{key:"getInstance",value:function(){if(!e.instance)throw new Error("ID5Bridge has not been initialized. Call ID5Bridge.init({ ... }) first.");return e.instance}}],r&&Gr(t.prototype,r),n&&Gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n,o}();function un(){this.postMessageHelper.listenForEvents({callback:zr(an,this)})}function cn(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!zr(tn,this)?(Kr(tn,this,new Promise((function(t){Kr(rn,e,t),e.postMessageHelper.sendToParent({action:Fr.A.PRIVATE_MESSAGES.id5Request}),Kr(nn,e,setTimeout((function(){e.log("id5Response timeout");try{var t;null===(t=zr(rn,e))||void 0===t||t.call(e,null)}finally{Jr(on,e,ln).call(e)}}),e.timeout))}))),zr(tn,this)):zr(tn,this)}function ln(){zr(nn,this)&&clearTimeout(zr(nn,this)),Kr(nn,this,null),Kr(rn,this,null),Kr(tn,this,null)}$r=sn,Xr=void 0,(Zr=qr(Zr="instance"))in $r?Object.defineProperty($r,Zr,{value:Xr,enumerable:!0,configurable:!0,writable:!0}):$r[Zr]=Xr;var fn=1e3,pn=function(e){return"".concat(e.type,"-").concat(e.version)},dn=function(e){try{if("string"!=typeof e||!e)return null;for(var t=e.split(".")[0],r="=".repeat((4-t.length%4)%4),n=t.replace(/-/g,"+").replace(/_/g,"/")+r,o=atob(n),i="",a=0;a<o.length;a++)i+=o.charCodeAt(a).toString(2).padStart(8,"0");var s=parseInt(i.slice(0,6),2);return 1===s||2===s?s:2}catch(e){return null}};function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function hn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return mn(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(mn(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,mn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,mn(f,"constructor",c),mn(c,"constructor",u),u.displayName="GeneratorFunction",mn(c,o,"GeneratorFunction"),mn(f),mn(f,o,"Generator"),mn(f,n,(function(){return this})),mn(f,"toString",(function(){return"[object Generator]"})),(hn=function(){return{w:i,m:p}})()}function mn(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}mn=function(e,t,r,n){function i(t,r){mn(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},mn(e,t,r,n)}function vn(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gn(n.key),n)}}function gn(e){var t=function(e,t){if("object"!=yn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yn(t)?t:t+""}var _n=function(){return function(e,t,r){return t&&bn(e.prototype,t),r&&bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.type,n=t.version,o=t.locatorName,i=t.functionName,a=t.getConsentCommandName,s=t.callPropertyName,u=t.returnPropertyName,c=t.consentStringName,l=t.log;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r,this.version=n,this.locatorName=o,this.functionName=i,this.getConsentCommandName=a,this.callPropertyName=s,this.returnPropertyName=u,this.consentStringName=c,this.log=l,this.cmpFrame=null,this.cmpCallbacks={}}),[{key:"find",value:(e=hn().m((function e(){var t,r=this;return hn().w((function(e){for(;;)if(0===e.n)return t=pn(this),this.log("Trying: ".concat(t)),e.a(2,new Promise((function(e,n){var o=window[r.functionName];if(!o){var i="".concat(t,": ").concat(r.functionName,"() is not available");return r.log(i),n({msg:i})}var a=r.version;"GDPR"===r.type&&1===r.version&&(a=null),o(r.getConsentCommand(),a,(function(o,i){if(clearTimeout(r.t),i){var a={type:r.type,version:r.version,isApplies:r._isApplied(o),consentData:o[r.consentStringName]};return r.log("".concat(t," - FOUND"),a),e(a)}r.log("".concat(t," - NOT FOUND"),o),n(o)})),r.t=setTimeout((function(){var e="".concat(t,": Haven't get any response in ").concat(fn,"ms");r.log(e),n({msg:e})}),fn)})))}),e,this)})),t=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vn(i,n,o,a,s,"next",e)}function s(e){vn(i,n,o,a,s,"throw",e)}a(void 0)}))},function(){return t.apply(this,arguments)})},{key:"initAPI",value:function(){this._findCMPFrame(),this._attachEventListener(),this._implementAPI()}},{key:"_isApplied",value:function(e){return!!e.gdprApplies||!("USPrivacy"!==this.type||1!==this.version||!e[this.consentStringName]||"1---"===e[this.consentStringName])}},{key:"getConsentCommand",value:function(){return this.getConsentCommandName}},{key:"_findCMPFrame",value:function(){for(var e=window;!this.cmpFrame;){try{e.frames[this.locatorName]&&(this.cmpFrame=e)}catch(e){}if(e===window.top)break;e=e.parent}}},{key:"_attachEventListener",value:function(){var e=this;window.addEventListener("message",(function(t){var r=t.data;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}var n=r[e.returnPropertyName];if(n){var o=e.cmpCallbacks[n.callId];if(!o)return e.log("Can't find callback for callId: ".concat(n.callId));o(n.returnValue,n.success),delete e.cmpCallbacks[n.callId]}}))}}]);var e,t}(),wn="GDPR",Sn="USPrivacy",Pn="getTCData",Tn="addEventListener";function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function En(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,An(n.key),n)}}function An(e){var t=function(e,t){if("object"!=kn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kn(t)?t:t+""}function On(e,t,r){return t=Dn(t),function(e,t){if(t&&("object"==kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jn()?Reflect.construct(t,r||[],Dn(e).constructor):t.apply(e,r))}function jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jn=function(){return!!e})()}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}function In(e,t){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},In(e,t)}var Cn=function(e){function t(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).log;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=On(this,t,[{type:wn,version:1,locatorName:"__cmpLocator",functionName:"__cmp",getConsentCommandName:"getConsentData",callPropertyName:"__cmpCall",returnPropertyName:"__cmpReturn",consentStringName:"consentData",log:r}])).initAPI(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&In(e,t)}(t,e),function(e,t,r){return t&&En(e.prototype,t),r&&En(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_implementAPI",value:function(){var e=this;window[this.functionName]||this.cmpFrame&&(window[this.functionName]=function(t,r,n,o){var i=Math.random().toString(),a=function(e,t,r){return(t=An(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.callPropertyName,{command:t,parameter:o,callId:i});e.cmpCallbacks[i]=n,e.cmpFrame.postMessage(a,"*")})}}])}(_n);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ln(n.key),n)}}function Ln(e){var t=function(e,t){if("object"!=Rn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rn(t)?t:t+""}function Mn(e,t,r){return t=Fn(t),function(e,t){if(t&&("object"==Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xn()?Reflect.construct(t,r||[],Fn(e).constructor):t.apply(e,r))}function xn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xn=function(){return!!e})()}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fn(e)}function Un(e,t){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Un(e,t)}var Vn=function(e){function t(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).log;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Mn(this,t,[{type:wn,version:2,locatorName:"__tcfapiLocator",functionName:"__tcfapi",getConsentCommandName:"getTCData",callPropertyName:"__tcfapiCall",returnPropertyName:"__tcfapiReturn",consentStringName:"tcString",log:r}])).initAPI(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Un(e,t)}(t,e),function(e,t,r){return t&&Nn(e.prototype,t),r&&Nn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getConsentCommand",value:function(){var e=Pn,t=window[this.functionName];if("function"==typeof t)try{t(Tn,2,(function(t,r){r&&t&&(e=Tn)}))}catch(e){}return e}},{key:"_implementAPI",value:function(){var e=this;window[this.functionName]||this.cmpFrame&&(window[this.functionName]=function(t,r,n,o){var i=Math.random().toString(),a=function(e,t,r){return(t=Ln(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.callPropertyName,{command:t,parameter:o,version:r,callId:i});e.cmpCallbacks[i]=n,e.cmpFrame.postMessage(a,"*")})}}])}(_n);function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yn(n.key),n)}}function Yn(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bn(t)?t:t+""}function Gn(e,t,r){return t=Qn(t),function(e,t){if(t&&("object"==Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hn()?Reflect.construct(t,r||[],Qn(e).constructor):t.apply(e,r))}function Hn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hn=function(){return!!e})()}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qn(e)}function qn(e,t){return qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qn(e,t)}var zn=function(e){function t(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).log;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Gn(this,t,[{type:Sn,version:1,locatorName:"__uspapiLocator",functionName:"__uspapi",getConsentCommandName:"getUSPData",callPropertyName:"__uspapiCall",returnPropertyName:"__uspapiReturn",consentStringName:"uspString",log:r}])).initAPI(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(t,e),function(e,t,r){return t&&Wn(e.prototype,t),r&&Wn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_implementAPI",value:function(){var e=this;window[this.functionName]||this.cmpFrame&&(window[this.functionName]=function(t,r,n){var o=Math.random().toString(),i=function(e,t,r){return(t=Yn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.callPropertyName,{command:t,parameter:null,version:r,callId:o});e.cmpCallbacks[o]=n,e.cmpFrame.postMessage(i,"*")})}}])}(_n);function Kn(e){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(e)}function Jn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return $n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Zn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Xn(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Xn(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Xn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Xn(f,"constructor",c),Xn(c,"constructor",u),u.displayName="GeneratorFunction",Xn(c,o,"GeneratorFunction"),Xn(f),Xn(f,o,"Generator"),Xn(f,n,(function(){return this})),Xn(f,"toString",(function(){return"[object Generator]"})),(Zn=function(){return{w:i,m:p}})()}function Xn(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Xn=function(e,t,r,n){function i(t,r){Xn(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Xn(e,t,r,n)}function eo(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function to(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){eo(i,n,o,a,s,"next",e)}function s(e){eo(i,n,o,a,s,"throw",e)}a(void 0)}))}}function ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,no(n.key),n)}}function no(e){var t=function(e,t){if("object"!=Kn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kn(t)?t:t+""}var oo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.logPrefix,n=void 0===r?"TRINITY":r,o=t.SDKData;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.policyClasses=[Cn,Vn,zn],this.resultDataTS=0,this.SDKData=o,this.log=c()("".concat(n,":Privacy"))}return function(e,t,r){return t&&ro(e.prototype,t),r&&ro(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"find",value:(r=to(Zn().m((function e(){var t;return Zn().w((function(e){for(;;)if(0===e.n)return t=Date.now()-this.resultDataTS,(!this.result||t>=1e3)&&(this.resultDataTS=Date.now(),this.result=this._find()),e.a(2,this.result)}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_find",value:(t=to(Zn().m((function t(){var r,n,o,i,a,s,u,c,l=this;return Zn().w((function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,!(r=e.getConsentDataFromSDK(this.SDKData))){t.n=1;break}return t.a(2,r);case 1:return n=this.policyClasses.map((function(e){return new e({log:l.log}).find()})),t.n=2,Promise.allSettled(n);case 2:o=t.v,i=Jn(o),t.p=3,i.s();case 4:if((a=i.n()).done){t.n=7;break}if("fulfilled"===(u=a.value).status){t.n=5;break}return t.a(3,6);case 5:if(null==u||null===(s=u.value)||void 0===s||!s.isApplies){t.n=6;break}return t.a(2,{type:null==u?void 0:u.value.type,version:null==u?void 0:u.value.version,consentData:null==u?void 0:u.value.consentData});case 6:t.n=4;break;case 7:t.n=9;break;case 8:t.p=8,c=t.v,i.e(c);case 9:return t.p=9,i.f(),t.f(9);case 10:t.n=12;break;case 11:t.p=11,t.v;case 12:return t.a(2)}}),t,this,[[3,8,9,10],[0,11]])}))),function(){return t.apply(this,arguments)})}],[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.logPrefix,n=void 0===r?"TRINITY":r,o=t.SDKData;return e.instance||(e.instance=new e({logPrefix:n,SDKData:o})),e.instance}},{key:"getInstance",value:function(){if(!e.instance)throw new Error("Privacy has not been initialized. Call Privacy.init({ SDKData, logPrefix? }) at first.");return e.instance}},{key:"getConsentDataFromSDK",value:function(e){if(!e)return null;var t=e.gdpr&&"1"===e.gdpr,r=e.gdprConsent||null,n=e.USPrivacy||null,o=r?dn(r):null;return t&&r&&o?{type:wn,version:o,consentData:r}:n?{type:Sn,version:1,consentData:n}:null}}]);var t,r}();function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(r),!0).forEach((function(t){uo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uo(e,t,r){return(t=mo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return lo(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(lo(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,lo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,lo(f,"constructor",c),lo(c,"constructor",u),u.displayName="GeneratorFunction",lo(c,o,"GeneratorFunction"),lo(f),lo(f,o,"Generator"),lo(f,n,(function(){return this})),lo(f,"toString",(function(){return"[object Generator]"})),(co=function(){return{w:i,m:p}})()}function lo(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}lo=function(e,t,r,n){function i(t,r){lo(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},lo(e,t,r,n)}function fo(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function po(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fo(i,n,o,a,s,"next",e)}function s(e){fo(i,n,o,a,s,"throw",e)}a(void 0)}))}}function yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mo(n.key),n)}}function ho(e,t,r){return t&&yo(e.prototype,t),r&&yo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mo(e){var t=function(e,t){if("object"!=io(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==io(t)?t:t+""}function vo(e,t,r){bo(e,t),t.set(e,r)}function bo(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function go(e,t){return e.get(wo(e,t))}function _o(e,t,r){return e.set(wo(e,t),r),r}function wo(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}!function(e,t,r){(t=no(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(oo,"instance",void 0);var So=1848,Po="https://cdn.id5-sync.com/api/1.0/id5-api.js",To=1500,ko=new WeakMap,Eo=new WeakMap,Ao=new WeakMap,Oo=new WeakSet,jo=ho((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.playerId,n=t.partnerId,o=void 0===n?So:n,i=t.scriptSrc,a=void 0===i?Po:i,s=t.timeout,c=void 0===s?To:s,l=t.SDKData,f=t.depart,p=t.logPrefix,d=void 0===p?"TRINITY":p;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){bo(e,t),t.add(e)}(this,Oo),vo(this,ko,void 0),vo(this,Eo,void 0),vo(this,Ao,void 0),!r)throw new Error("playerId is required");if(!o)throw new Error("partnerId is required");this.postMessageHelper=new Fr.A(r),this.log=u("".concat(d,":InjectorScript:ID5Manager")),this.partnerId=o,this.scriptSrc=a,this.timeout=c,this.SDKData=l,_o(ko,this,null),_o(Eo,this,null),_o(Ao,this,null),this.depart=f,wo(Oo,this,Do).call(this),wo(Oo,this,Ro).call(this)}));function Do(){var e,t=this;this.postMessageHelper.listenForEvents({callback:(e=po(co().m((function e(r){var n,o,i;return co().w((function(e){for(;;)switch(e.p=e.n){case 0:if((null==r?void 0:r.action)===Fr.A.PRIVATE_MESSAGES.id5Request){e.n=1;break}return e.a(2);case 1:if(!go(Ao,t)){e.n=2;break}return n=go(Ao,t).uid,wo(Oo,t,Io).call(t,n),e.a(2);case 2:return e.p=2,go(Eo,t)||_o(Eo,t,wo(Oo,t,Ro).call(t)),e.n=3,go(Eo,t);case 3:o=e.v,i=o.uid,wo(Oo,t,Io).call(t,i||null),e.n=5;break;case 4:e.p=4,e.v,wo(Oo,t,Io).call(t,null);case 5:return e.p=5,_o(Eo,t,null),e.f(5);case 6:return e.a(2)}}),e,null,[[2,4,5,6]])}))),function(t){return e.apply(this,arguments)})})}function Io(e){this.postMessageHelper.sendToPlayer({action:Fr.A.PRIVATE_MESSAGES.id5Response,message:{uid:e}})}function Co(){if(!this.SDKData)return null;var e=oo.getConsentDataFromSDK(this.SDKData),t=e.type,r=e.version,n=e.consentData;return t===wn&&n&&"2"===r?{getTCData:{gdprApplies:!0,tcString:n,cmpApi:"static"}}:t===Sn&&n?{usPrivacyString:n,cmpApi:"static"}:null}function Ro(){return No.apply(this,arguments)}function No(){return(No=po(co().m((function e(){var t,r,n,o,i,a,s,u,c,l;return co().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,wo(Oo,this,Mo).call(this);case 1:if(null!==(t=window.ID5)&&void 0!==t&&t.init){e.n=2;break}return e.a(2,{uid:null,linkType:null});case 2:return r=wo(Oo,this,Co).call(this),n=r||{cmpApi:"iab"},o=so({partnerId:this.partnerId,allowLocalStorageWithoutConsentApi:!0},n),this.log("Initializing ID5 with cfg:",o),i=window.ID5.init(o),s=_o,u=Ao,c=this,e.n=3,wo(Oo,this,Lo).call(this,i);case 3:return s(u,c,e.v),e.a(2,go(Ao,this)||{uid:null,linkType:null});case 4:return e.p=4,l=e.v,null===(a=this.depart)||void 0===a||a.trackError("Error on #requestID5. ".concat(l)),e.a(2,{uid:null,linkType:null})}}),e,this,[[0,4]])})))).apply(this,arguments)}function Lo(e){var t=this;return new Promise((function(r){var n;if(!e)return r({uid:null,linkType:null});try{var o,i,a=null===(o=e.getUserId)||void 0===o?void 0:o.call(e);if(a)return r({uid:a,linkType:(null===(i=e.getLinkType)||void 0===i?void 0:i.call(e))||null})}catch(e){}var s=!1,u=function(e){s||(s=!0,clearTimeout(n),r(e))};try{var c;null===(c=e.onAvailable)||void 0===c||c.call(e,(function(e){var t,r,n=null==e||null===(t=e.getUserId)||void 0===t?void 0:t.call(e);n&&u({uid:n,linkType:(null===(r=e.getLinkType)||void 0===r?void 0:r.call(e))||null})}))}catch(e){}n=setTimeout((function(){try{var t,r;u({uid:(null===(t=e.getUserId)||void 0===t?void 0:t.call(e))||null,linkType:(null===(r=e.getLinkType)||void 0===r?void 0:r.call(e))||null})}catch(e){u({uid:null,linkType:null})}}),t.timeout)}))}function Mo(){var e,t=this;return null!==(e=window.ID5)&&void 0!==e&&e.init?Promise.resolve():go(ko,this)?go(ko,this):(_o(ko,this,new Promise((function(e,r){var n=P.A.injectScript({url:t.scriptSrc,isAsync:!0,addCORS:!1});n.onload=e,n.onerror=function(){return r(new Error("Failed to load ID5 script"))}}))),go(ko,this).finally((function(){return _o(ko,t,null)})))}function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function Fo(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Uo(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Uo(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Uo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Uo(f,"constructor",c),Uo(c,"constructor",u),u.displayName="GeneratorFunction",Uo(c,o,"GeneratorFunction"),Uo(f),Uo(f,o,"Generator"),Uo(f,n,(function(){return this})),Uo(f,"toString",(function(){return"[object Generator]"})),(Fo=function(){return{w:i,m:p}})()}function Uo(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Uo=function(e,t,r,n){function i(t,r){Uo(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Uo(e,t,r,n)}function Vo(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wo(n.key),n)}}function Wo(e){var t=function(e,t){if("object"!=xo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xo(t)?t:t+""}var Yo,Go=function(){return function(e,t,r){return t&&Bo(e.prototype,t),r&&Bo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.playerHeightPx,n=t.theme,o=t.playerData,i=t.i18n,a=t.isDark;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerHeightPx=r,this.theme=n,this.playerData=o,this.i18n=i,this.isDark=a}),[{key:"init",value:(e=Fo().m((function e(){var t=this;return Fo().w((function(e){for(;;)if(0===e.n)return this.el=document.createElement("iframe"),this.el.className="trinity-iframe trinity-loader",this.el.style.height=this.playerHeightPx,this.el.onload=function(){t.theme.appendFontsTo(t.el.contentDocument.head),t.el.classList.add("loaded"),t.el.contentDocument.head.appendChild(P.A.createCSSTag(t._getLoadingAnimation().style)),t.el.contentWindow.document.body.appendChild(P.A.createDOMNode({htmlString:t._getLoadingAnimation().html}))},e.a(2,this.el)}),e,this)})),t=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Vo(i,n,o,a,s,"next",e)}function s(e){Vo(i,n,o,a,s,"throw",e)}a(void 0)}))},function(){return t.apply(this,arguments)})},{key:"remove",value:function(){this.el&&this.el.remove()}},{key:"_getLoadingAnimation",value:function(){return{style:"\n      body {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        overflow: hidden;\n      }\n\n      .trinity-player-loading-animation {\n        height: ".concat(this.playerHeightPx,";\n        line-height: ").concat(this.playerHeightPx,";\n        white-space: nowrap;\n        ").concat(this.theme.get({property:"loading",isDark:this.isDark}),"\n      }\n\n      .trinity-player-loading-animation > span {\n        display: inline-block;\n        width: calc(100% - 10px - 50px - 5px);\n        margin: 0 0 0 10px;\n        vertical-align: middle;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-family: sans-serif;\n        font-weight: bold;\n        font-size: 13px;\n        color: ").concat(s.A.defaultColorMain,";\n        ").concat(this.theme.get({property:"loading.title",isDark:this.isDark}),"\n        white-space: nowrap;\n      }\n\n      .trinity-player-loading-animation-container {\n        width: ").concat(this.theme.get({property:"el-play-button.width",isDark:this.isDark})||"50px",";\n        height: ").concat(this.theme.get({property:"el-play-button.height",isDark:this.isDark})||"50px",";\n        vertical-align: middle;\n        display: inline-block;\n      }\n\n      .trinity-player-loading-animation.dir-rtl .trinity-player-loading-text {\n        direction: rtl;\n        font-family: Arial;\n        font-size: 15px;\n      }\n\n      ").concat(this._getLoadingIconStyles(this.theme.get({property:"loading.icon.color",isDark:this.isDark}))),html:'<div class="'.concat("trinity-player-loading-animation"," dir-").concat(this.i18n.getTextDirection(),'">\n      <div class="trinity-player-loading-animation-container">\n        ').concat('<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100">\n    <g transform="rotate(180 50 50)">\n        <rect x="13" y="30" width="14" height="20" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="-0.5s"></animate>\n        </rect>\n        <rect x="33" y="30" width="14" height="14" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="-0.75s"></animate>\n        </rect>\n        <rect x="53" y="30" width="14" height="33" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="0s"></animate>\n        </rect>\n        <rect x="73" y="30" width="14" height="50" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="-0.25s"></animate>\n        </rect>\n    </g>\n</svg>\n','\n      </div>\n      <span class="trinity-player-loading-text">').concat(this._getLoaderText(),"</span>\n    </div>")}}},{key:"_getLoaderText",value:function(){return this.playerData.loaderText?decodeURIComponent(this.playerData.loaderText).trim():Ye.getLabel({paramsObject:this.playerData.paramsObject,translation:this.i18n.translation},Ye.isMobile()?"playerLoadingTitleMobile":"playerLoadingTitle")}},{key:"_getLoadingIconStyles",value:function(e){return e?"\n      .trinity-player-loading-animation-container > svg > g rect {\n        fill: ".concat(e,";\n      }\n    "):""}}]);var e,t}();function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function Qo(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return qo(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(qo(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,qo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,qo(f,"constructor",c),qo(c,"constructor",u),u.displayName="GeneratorFunction",qo(c,o,"GeneratorFunction"),qo(f),qo(f,o,"Generator"),qo(f,n,(function(){return this})),qo(f,"toString",(function(){return"[object Generator]"})),(Qo=function(){return{w:i,m:p}})()}function qo(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}qo=function(e,t,r,n){function i(t,r){qo(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},qo(e,t,r,n)}function zo(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Ko(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){zo(i,n,o,a,s,"next",e)}function s(e){zo(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$o(n.key),n)}}function $o(e){var t=function(e,t){if("object"!=Ho(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ho(t)?t:t+""}var Zo=function(){function e(t){var r=t.playerData,n=t.playerId,o=t.theme,i=t.i18n,a=t.isDark,s=t.isMobile,u=t.wrapperEl,c=t.attachShellToDOM,l=t.playerHeightPx,f=t.parentBackgroundColor;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerData=r,this.theme=o,this.i18n=i,this.playerId=n,this.isDark=a,this.isMobile=s,this.wrapperEl=u,this.attachShellToDOM=c,this.playerHeightPx=l,this.parentBackgroundColor=f,this.depart=Jt.A}return function(e,t,r){return t&&Jo(e.prototype,t),r&&Jo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"getIconPlayerInstance",value:(r=Ko(Qo().m((function e(){var t,r;return Qo().w((function(e){for(;;)switch(e.p=e.n){case 0:if(this._isEnabled()){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,this._loadModule();case 2:Yo=e.v,e.n=4;break;case 3:return e.p=3,r=e.v,this.depart.trackError(this.depart.EVENTS.error,"IconPlayerManager: Error to load module: IconPlayer. Network: ".concat(JSON.stringify(null===(t=this.depart.constDepartData)||void 0===t?void 0:t.connection_details),". Error: ").concat(r.stack||r,". Fallback playerType to default one")),this.playerData.playerType=s.A.playerType.default,e.a(2);case 4:return this.iconPlayer=this._createInstance(),e.a(2,this.iconPlayer)}}),e,this,[[1,3]])}))),function(){return r.apply(this,arguments)})},{key:"_isEnabled",value:function(){return e.isEnabled(this.playerData.playerType)}},{key:"_createInstance",value:function(){var e=this;return new Yo({playerType:this.playerData.playerType,theme:this.theme,i18n:this.i18n,isDarkHandler:function(){return e.isDark},isMobile:this.isMobile,depart:this.depart,playerId:this.playerId,PostMessageHelper:l.A,playerData:this.playerData,wrapperEl:this.wrapperEl,attachShellToDOM:this.attachShellToDOM,playerHeightPx:this.playerHeightPx,parentBackgroundColor:this.parentBackgroundColor,constants:s.A})}},{key:"_loadModule",value:(t=Ko(Qo().m((function e(){return Qo().w((function(e){for(;;)if(0===e.n)return e.a(2,f.A.load({fn:function(){var e=Ko(Qo().m((function e(){return Qo().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,__webpack_require__.e(5346,"high").then(__webpack_require__.bind(__webpack_require__,2249));case 1:return e.a(2,e.v.default)}}),e)})));return function(){return e.apply(this,arguments)}}(),moduleName:"icon-player",depart:this.depart}))}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"isEnabled",value:function(e){return e===s.A.playerType.iconPlayerExpandable}}]);var t,r}();function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function ei(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return ti(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(ti(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ti(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,ti(f,"constructor",c),ti(c,"constructor",u),u.displayName="GeneratorFunction",ti(c,o,"GeneratorFunction"),ti(f),ti(f,o,"Generator"),ti(f,n,(function(){return this})),ti(f,"toString",(function(){return"[object Generator]"})),(ei=function(){return{w:i,m:p}})()}function ti(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ti=function(e,t,r,n){function i(t,r){ti(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},ti(e,t,r,n)}function ri(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function ni(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ri(i,n,o,a,s,"next",e)}function s(e){ri(i,n,o,a,s,"throw",e)}a(void 0)}))}}function oi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ii(n.key),n)}}function ii(e){var t=function(e,t){if("object"!=Xo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xo(t)?t:t+""}function ai(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function si(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ui="trinity-read-along-active",ci=De.A.cssStylesObjectToString({background:"#ffff0069","box-shadow":"0 0 7px #ffff0069","border-radius":"2px"}),li=new WeakSet,fi=function(){return function(e,t,r){return t&&oi(e.prototype,t),r&&oi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.playerData,n=t.paragraphTimings,o=t.readAlongConfig,i=t.theme;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ai(this,li),this.playerData=r,this.paragraphTimings=n,this.paragraphNodes=r.getNodes(),this.readAlongConfig=o,this.theme=i}),[{key:"start",value:function(){si(li,this,bi).call(this),si(li,this,pi).call(this)}}])}();function pi(){var e=this;setInterval(ni(ei().m((function t(){return ei().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,si(li,e,di).call(e);case 1:return t.a(2,t.v)}}),t)}))),300)}function di(){return yi.apply(this,arguments)}function yi(){return(yi=ni(ei().m((function e(){var t,r;return ei().w((function(e){for(;;)switch(e.n){case 0:if("play"===this.playerData.state){e.n=1;break}return e.a(2);case 1:return e.n=2,si(li,this,hi).call(this);case 2:if(t=e.v,r=this.paragraphTimings.findIndex((function(e){return t<e}))-1,!(this.paragraphNodeIndex===r||r<0)){e.n=3;break}return e.a(2);case 3:si(li,this,vi).call(this,r);case 4:return e.a(2)}}),e,this)})))).apply(this,arguments)}function hi(){return mi.apply(this,arguments)}function mi(){return(mi=ni(ei().m((function e(){var t;return ei().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,window.TRINITY_PLAYER.api._internal.getCurrentTime();case 1:return t=e.v,e.a(2,1e3*t)}}),e)})))).apply(this,arguments)}function vi(e){void 0!==this.paragraphNodeIndex&&this.paragraphNodes[this.paragraphNodeIndex].classList.remove(ui),this.paragraphNodeIndex=e,this.paragraphNodes[this.paragraphNodeIndex].classList.add(ui)}function bi(){si(li,this,gi).call(this)?si(li,this,_i).call(this):si(li,this,wi).call(this)}function gi(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.theme.get({property:"read-along",isDark:e})}function _i(){var e=this;Ie.A.applyStylesOnSchemeChange((function(t){si(li,e,Si).call(e,si(li,e,gi).call(e,t))}))}function wi(){si(li,this,Si).call(this,ci)}function Si(e){P.A.addStyles({cssContent:".".concat(ui," {").concat(e,"}"),styleId:"trinity-read-along-custom"})}var Pi=fi;function Ti(e){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ei(e,t,r){return(t=Oi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oi(n.key),n)}}function Oi(e){var t=function(e,t){if("object"!=Ti(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ti(t)?t:t+""}var ji=function(){return function(e,t,r){return t&&Ai(e.prototype,t),r&&Ai(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.parentWindowQueryParams,n=t.tagScriptQueryParams,o=t.playerData,i=t.theme,a=t.depart;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentWindowQueryParams=r,this.tagScriptQueryParams=n,this.playerData=o,this.theme=i,this.depart=a,this.log=c()("TRINITY:ReadAlongManager"),this.config=this.getReadAlongConfig()}),[{key:"getReadAlongConfig",value:function(){try{if(this.config)return this.config;var e=this.parentWindowQueryParams.get("TRINITY_READ_ALONG_CONFIG");e&&(e=JSON.parse(e));var t=this.tagScriptQueryParams.get("readAlongConfig");t&&(t=JSON.parse(t));var r=e||t||function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(r),!0).forEach((function(t){Ei(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.playerData.readAlongConfig);return(e||t)&&(r.__isCustom=!0),r}catch(e){this.depart.trackError(this.depart.EVENTS.error,"Error parsing readAlongConfig. Error: ".concat(e))}}},{key:"initReadAlong",value:function(e){var t;if(this.isReadAlongEnabled()){if(null===(t=e.paragraphs)||void 0===t||!t.length)return this.depart.trackError(this.depart.EVENTS.error,"ReadAlong is skipped, since paragraphs is missed");this.log("ReadAlong is enabled. Config: ",this.config),new Pi({paragraphTimings:e.paragraphs,playerData:this.playerData,readAlongConfig:this.config,theme:this.theme}).start()}}},{key:"isReadAlongEnabled",value:function(){var e;return Boolean(Number(null===(e=this.config)||void 0===e?void 0:e.enabled))}}])}();const Di={isOpen:!1,orientation:void 0},Ii=(e,t)=>{globalThis.dispatchEvent(new globalThis.CustomEvent("devtoolschange",{detail:{isOpen:e,orientation:t}}))},Ci=({emitEvents:e=!0}={})=>{const t=globalThis.outerWidth-globalThis.innerWidth>170,r=globalThis.outerHeight-globalThis.innerHeight>170,n=t?"vertical":"horizontal";r&&t||!(globalThis.Firebug&&globalThis.Firebug.chrome&&globalThis.Firebug.chrome.isInitialized||t||r)?(Di.isOpen&&e&&Ii(!1,void 0),Di.isOpen=!1,Di.orientation=void 0):(Di.isOpen&&Di.orientation===n||!e||Ii(!0,n),Di.isOpen=!0,Di.orientation=n)};Ci({emitEvents:!1}),setInterval(Ci,500);var Ri,Ni,Li,Mi,xi,Fi=Di;function Ui(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Vi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bi(){return"undefined"!=typeof performance?performance.now():Date.now()}function Wi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.includes,n=void 0===r?[]:r,o=t.excludes,i=void 0===o?[]:o,a=!1,s=!1,u=Ui(n);try{for(u.s();!(e=u.n()).done;){if(!0===e.value){a=!0;break}}}catch(e){u.e(e)}finally{u.f()}var c,l=Ui(i);try{for(l.s();!(c=l.n()).done;){if(!0===c.value){s=!0;break}}}catch(e){l.e(e)}finally{l.f()}return a&&!s}function Yi(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Gi(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Gi(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Gi(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Gi(f,"constructor",c),Gi(c,"constructor",u),u.displayName="GeneratorFunction",Gi(c,o,"GeneratorFunction"),Gi(f),Gi(f,o,"Generator"),Gi(f,n,(function(){return this})),Gi(f,"toString",(function(){return"[object Generator]"})),(Yi=function(){return{w:i,m:p}})()}function Gi(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Gi=function(e,t,r,n){function i(t,r){Gi(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Gi(e,t,r,n)}function Hi(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Qi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Hi(i,n,o,a,s,"next",e)}function s(e){Hi(i,n,o,a,s,"throw",e)}a(void 0)}))}}var qi=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:this}(),zi=(null===(Ri=null==qi?void 0:qi.navigator)||void 0===Ri?void 0:Ri.userAgent)||"unknown",Ki="InstallTrigger"in((null==qi?void 0:qi.window)||{})||/firefox/i.test(zi),Ji=/trident/i.test(zi)||/trident/i.test(zi)||/msie/i.test(zi),$i=/edge/i.test(zi)||/EdgiOS/i.test(zi),Zi=/webkit/i.test(zi),Xi=(/IqiyiApp/.test(zi),void 0!==(null===(Ni=null==qi?void 0:qi.window)||void 0===Ni?void 0:Ni.chrome)||/chrome/i.test(zi)||/CriOS/i.test(zi)),ea=("[object SafariRemoteNotification]"===((null===(Mi=null===(Li=null==qi?void 0:qi.window)||void 0===Li?void 0:Li.safari)||void 0===Mi?void 0:Mi.pushNotification)||!1).toString()||/safari/i.test(zi),function(){var e=Qi(Yi().m((function e(){var t;return Yi().w((function(e){for(;;)switch(e.p=e.n){case 0:if(t=!1,!navigator.brave){e.n=4;break}if(!navigator.brave.isBrave){e.n=4;break}return e.p=1,e.n=2,Promise.race([navigator.brave.isBrave(),new Promise((function(e){return setTimeout((function(){return e(!1)}),1e3)}))]);case 2:t=e.v,e.n=4;break;case 3:e.p=3,e.v;case 4:return ea=function(){var e=Qi(Yi().m((function e(){return Yi().w((function(e){for(;;)if(0===e.n)return e.a(2,t)}),e)})));return function(){return e.apply(this,arguments)}}(),e.a(2,t)}}),e,null,[[1,3]])})));return function(){return e.apply(this,arguments)}}()),ta="function"==typeof(null===(xi=qi.document)||void 0===xi?void 0:xi.createElement);function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function na(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return oa(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(oa(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,oa(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,oa(f,"constructor",c),oa(c,"constructor",u),u.displayName="GeneratorFunction",oa(c,o,"GeneratorFunction"),oa(f),oa(f,o,"Generator"),oa(f,n,(function(){return this})),oa(f,"toString",(function(){return"[object Generator]"})),(na=function(){return{w:i,m:p}})()}function oa(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}oa=function(e,t,r,n){function i(t,r){oa(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},oa(e,t,r,n)}function ia(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function aa(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ia(i,n,o,a,s,"next",e)}function s(e){ia(i,n,o,a,s,"throw",e)}a(void 0)}))}}function sa(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ua(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ua(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ca(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,la(n.key),n)}}function la(e){var t=function(e,t){if("object"!=ra(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ra(t)?t:t+""}var fa=function(){return function(e,t,r){return t&&ca(e.prototype,t),r&&ca(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.checkers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=r.slice()}),[{key:"launch",value:function(){ta&&(this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop()))}},{key:"stop",value:function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))}},{key:"isLaunch",value:function(){return!this._detectLoopStopped}},{key:"setDetectDelay",value:function(e){this._detectLoopDelay=e}},{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"_broadcast",value:function(e){var t,r=sa(this._listeners);try{for(r.s();!(t=r.n()).done;){var n=t.value;try{n(e.isOpen,e)}catch(e){}}}catch(e){r.e(e)}finally{r.f()}}},{key:"verifyState",value:function(){var e=aa(na().m((function e(){var t,r,n,o,i,a;return na().w((function(e){for(;;)switch(e.p=e.n){case 0:t=!1,r="",n=sa(this._checkers),e.p=1,n.s();case 2:if((o=n.n()).done){e.n=7;break}return i=o.value,e.n=3,i.isEnable();case 3:if(!e.v){e.n=5;break}return r=i.name,e.n=4,i.test();case 4:t=e.v;case 5:if(!t){e.n=6;break}return e.a(3,7);case 6:e.n=2;break;case 7:e.n=9;break;case 8:e.p=8,a=e.v,n.e(a);case 9:return e.p=9,n.f(),e.f(9);case 10:return t!==this._isOpen&&(this._isOpen=t,this._broadcast({isOpen:t,checkerName:r})),e.a(2,{isOpen:t,checkerName:r})}}),e,this,[[1,8,9,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"_detectLoop",value:(e=aa(na().m((function e(){var t=this;return na().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.verifyState();case 1:this._detectLoopDelay>0&&!this._detectLoopStopped?this._timer=setTimeout((function(){return t._detectLoop()}),this._detectLoopDelay):this.stop();case 2:return e.a(2)}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}();function pa(e){if(ta&&console){if(!Ji&&!$i)return console[e];if("log"===e||"clear"===e)return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console[e].apply(console,r)}}return function(){}}var da=pa("log"),ya=pa("table"),ha=pa("clear");function ma(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return va(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(va(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,va(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,va(f,"constructor",c),va(c,"constructor",u),u.displayName="GeneratorFunction",va(c,o,"GeneratorFunction"),va(f),va(f,o,"Generator"),va(f,n,(function(){return this})),va(f,"toString",(function(){return"[object Generator]"})),(ma=function(){return{w:i,m:p}})()}function va(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}va=function(e,t,r,n){function i(t,r){va(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},va(e,t,r,n)}function ba(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function ga(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ba(i,n,o,a,s,"next",e)}function s(e){ba(i,n,o,a,s,"throw",e)}a(void 0)}))}}var _a=function(){var e;return(null==qi?void 0:qi.document)?(e=qi.document).createElement.apply(e,arguments):{}}("div");_a.innerText="test";var wa=!1;Object.defineProperty(_a,"id",{get:function(){return wa=!0,Sa.name},configurable:!0});var Sa={name:"element-id",test:function(){return ga(ma().m((function e(){return ma().w((function(e){for(;;)if(0===e.n)return wa=!1,da(_a),e.a(2,wa)}),e)})))()},isEnable:function(){return ga(ma().m((function e(){return ma().w((function(e){for(;;)if(0===e.n)return e.a(2,Wi({includes:[!0],excludes:[Ji,$i,Ki,Xi]}))}),e)})))()}};function Pa(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ta(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Ta(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ta(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ta(f,"constructor",c),Ta(c,"constructor",u),u.displayName="GeneratorFunction",Ta(c,o,"GeneratorFunction"),Ta(f),Ta(f,o,"Generator"),Ta(f,n,(function(){return this})),Ta(f,"toString",(function(){return"[object Generator]"})),(Pa=function(){return{w:i,m:p}})()}function Ta(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ta=function(e,t,r,n){function i(t,r){Ta(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ta(e,t,r,n)}function ka(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Ea(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ka(i,n,o,a,s,"next",e)}function s(e){ka(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Aa=/ /,Oa=!1;Aa.toString=function(){return Oa=!0,ja.name};var ja={name:"player-regex",test:function(){return Ea(Pa().m((function e(){return Pa().w((function(e){for(;;)if(0===e.n)return Oa=!1,da(Aa),e.a(2,Oa)}),e)})))()},isEnable:function(){return Ea(Pa().m((function e(){return Pa().w((function(e){for(;;)if(0===e.n)return e.a(2,Wi({includes:[!0],excludes:[Zi,Xi]}))}),e)})))()}};var Da=null;function Ia(){return null===Da&&(Da=function(){for(var e=function(){for(var e={},t=0;t<500;t++)e["".concat(t)]="".concat(t);return e}(),t=[],r=0;r<50;r++)t.push(e);return t}()),Da}function Ca(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ra(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Ra(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ra(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ra(f,"constructor",c),Ra(c,"constructor",u),u.displayName="GeneratorFunction",Ra(c,o,"GeneratorFunction"),Ra(f),Ra(f,o,"Generator"),Ra(f,n,(function(){return this})),Ra(f,"toString",(function(){return"[object Generator]"})),(Ca=function(){return{w:i,m:p}})()}function Ra(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ra=function(e,t,r,n){function i(t,r){Ra(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ra(e,t,r,n)}function Na(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function La(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Na(i,n,o,a,s,"next",e)}function s(e){Na(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Ma=0,xa={name:"performance",test:function(){return La(Ca().m((function e(){var t,r,n;return Ca().w((function(e){for(;;)switch(e.n){case 0:if(t=Fa(),r=Math.max(Ua(),Ua()),Ma=Math.max(Ma,r),0!==t){e.n=1;break}return e.a(2,!1);case 1:if(n=!1,0!==Ma){e.n=3;break}return e.n=2,ea();case 2:if(!e.v){e.n=3;break}n=!0;case 3:return(n=t>10*Ma)&&ha(),e.a(2,n)}}),e)})))()},isEnable:function(){return La(Ca().m((function e(){return Ca().w((function(e){for(;;)if(0===e.n)return e.a(2,Wi({includes:[Xi],excludes:[]}))}),e)})))()}};function Fa(){var e=Ia(),t=Bi();return console.groupCollapsed("Update language model feature"),ya(e),console.groupEnd(),Bi()-t}function Ua(){var e=Ia(),t=Bi();return console.groupCollapsed("Update language model feature"),da(e),console.groupEnd(),Bi()-t}function Va(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ba(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Ba(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ba(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ba(f,"constructor",c),Ba(c,"constructor",u),u.displayName="GeneratorFunction",Ba(c,o,"GeneratorFunction"),Ba(f),Ba(f,o,"Generator"),Ba(f,n,(function(){return this})),Ba(f,"toString",(function(){return"[object Generator]"})),(Va=function(){return{w:i,m:p}})()}function Ba(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ba=function(e,t,r,n){function i(t,r){Ba(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ba(e,t,r,n)}function Wa(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Ya(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Wa(i,n,o,a,s,"next",e)}function s(e){Wa(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Ga={name:"eruda",test:function(){return Ya(Va().m((function e(){var t;return Va().w((function(e){for(;;)switch(e.n){case 0:if("undefined"==typeof eruda){e.n=1;break}return e.a(2,!0===(null===(t=null===eruda||void 0===eruda?void 0:eruda._devTools)||void 0===t?void 0:t._isShow));case 1:return e.a(2,!1)}}),e)})))()},isEnable:function(){return Ya(Va().m((function e(){return Va().w((function(e){for(;;)if(0===e.n)return e.a(2,!0)}),e)})))()}},Ha=/macintosh/i.test(zi),Qa=/ipad/i.test(zi)||Ha&&navigator.maxTouchPoints>1,qa=/iphone/i.test(zi),za=/android/i.test(zi),Ka=(/windows/i.test(zi),qa||Qa);new fa({checkers:[Ga,Sa,ja,xa]});var Ja;function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function Za(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xa(n.key),n)}}function Xa(e){var t=function(e,t){if("object"!=$a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$a(t)?t:t+""}var es=function(){return function(e,t,r){return t&&Za(e.prototype,t),r&&Za(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=this,n=t.depart,o=t.user,i=t.isAMP;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.depart=n,this.user=o,this.isAMP=i,this.depart.updateUserData(this.user.cookieStorageObject.data),window.addEventListener("devtoolschange",(function(e){r.handleWindowResized(e.detail.isOpen)}))}),[{key:"init",value:function(){this.handleWindowResized(Fi.isOpen)}},{key:"handleWindowResized",value:function(e){var t;e&&(Ka||this._isMobileAMP()||null!==(t=window.TRINITY_PLAYER)&&void 0!==t&&null!==(t=t.api)&&void 0!==t&&t._internal&&(window.TRINITY_PLAYER.api._internal.resizeWindow(e),Ja||this.depart.track("windowResized",{num_value:this._randomNumValue(1e3,9999)}),Ja=!0))}},{key:"_isMobileAMP",value:function(){return za&&this.isAMP}},{key:"_randomNumValue",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}])}(),ts="##CANONICAL_HASH##",rs={getShareURL:function(t){var r=t.shareEndpoint,n=t.isDev,o=t.canonicalHashWrapped,i=n?e.A.HOSTNAME_DEV:e.A.HOSTNAME,a="https://".concat(i,"/player/share/").concat(ts);return r&&(a=r),this._replaceMacros({template:a,canonicalHashWrapped:o})},_replaceMacros:function(e){var t=e.template,r=e.canonicalHashWrapped;return t.replace(ts,r)}},ns={open:function(e){var t=e.action,r=e.message,n=e.playerData,o=e.subscriptionLockedURL,i=e.pageURL,a=e.theme,s=e.i18n;switch(t){case l.A.privateMessages.poweredByClicked:this._openLink(a.get({property:"el-powered-by.link-url"})||a.getDefaultPoweredByLink());break;case l.A.privateMessages.extraPoweredByClicked:this._openLink(a.get({property:"el-powered-by.extra.link-url"}));break;case l.A.privateMessages.brpLogoClicked:this._openLink(a.get({property:"el-brp-logo.click-url"}));break;case l.A.privateMessages.brpSloganClicked:this._openLink(a.get({property:"el-brp-slogans.click-url"}));break;case l.A.privateMessages.badgeClicked:this._openLink(a.get({property:"el-badge.url"}));break;case l.A.privateMessages.reportIssueClicked:this._openLink(this._processURL(s.translation.support.reportIssueURL,{pageURL:i}));break;case l.A.privateMessages.giveFeedbackClicked:this._openLink(this._processURL(s.translation.support.giveFeedbackURL,{pageURL:i}));break;case l.A.privateMessages.subscriptionLockedClicked:if(!o)return;this._openLink(o);break;case l.A.privateMessages.shareOpen:var u=rs.getShareURL({shareEndpoint:n.shareEndpoint,isDev:n.isDev,canonicalHashWrapped:r.canonicalHashWrapped});this._openLink(u)}},_openLink:function(e){window.open(e)},_processURL:function(e,t){var r=t.pageURL;return e.replace("[URL]",r)}};function os(e){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(e)}function is(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,as(n.key),n)}}function as(e){var t=function(e,t){if("object"!=os(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=os(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==os(t)?t:t+""}var ss=function(){return function(e,t,r){return t&&is(e.prototype,t),r&&is(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startTime=null,this.endTime=null}),[{key:"start",value:function(){if(!this.startTime)return this.startTime=Date.now(),this.startTime}},{key:"end",value:function(){if(!this.endTime)return this.endTime=Date.now(),this.endTime}},{key:"toString",value:function(){return"start:".concat(this.startTime,", end:").concat(this.endTime)}},{key:"diff",value:function(){return this.startTime&&this.endTime?this.endTime-this.startTime:null}},{key:"clean",value:function(){this.startTime=null,this.endTime=null}}])}();function us(e){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(e)}function cs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ls(n.key),n)}}function ls(e){var t=function(e,t){if("object"!=us(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=us(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==us(t)?t:t+""}var fs=function(){return function(e,t,r){return t&&cs(e.prototype,t),r&&cs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.prefix,n=t.logger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.prefix=r,this.logger=n,this.timeTrackers={},this.measurementsData={}}),[{key:"start",value:function(e){if(e=this._getID(e),this.timeTrackers[e])return this.logger("TimeTracker already exists for ID: ".concat(e));this.timeTrackers[e]=new ss,this.timeTrackers[e].start()}},{key:"end",value:function(e){if(e=this._getID(e),!this.timeTrackers[e])return this.logger("TimeTracker doesn't exist for ID: ".concat(e));this.timeTrackers[e].end()}},{key:"addMeasurementData",value:function(e){for(var t in e)this.measurementsData[t]=parseInt(e[t],10)}},{key:"getAllTimings",value:function(){for(var e in this.timeTrackers){var t=this.timeTrackers[e];this.measurementsData[e]=t.diff()}return this.measurementsData}},{key:"_getID",value:function(e){return this.prefix?"".concat(this.prefix,":").concat(e):e}}])}();function ps(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return ds(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(ds(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ds(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,ds(f,"constructor",c),ds(c,"constructor",u),u.displayName="GeneratorFunction",ds(c,o,"GeneratorFunction"),ds(f),ds(f,o,"Generator"),ds(f,n,(function(){return this})),ds(f,"toString",(function(){return"[object Generator]"})),(ps=function(){return{w:i,m:p}})()}function ds(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ds=function(e,t,r,n){function i(t,r){ds(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},ds(e,t,r,n)}function ys(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function hs(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ys(i,n,o,a,s,"next",e)}function s(e){ys(i,n,o,a,s,"throw",e)}a(void 0)}))}}var ms=function(e){var t=e.data,r=e.depart;r.track(r.EVENTS.timeMeasurements,{text_value:t})};var vs="InjectorScript",bs=function(e){var t=e.logger,r=e.prefix,n=e.timeTrackerCollector||new fs({logger:t,prefix:r}),o=function(e){var t=e.timeTrackerCollector;return function(e){if("function"==typeof e||!e)throw new Error("@MeasureTime -> options is required");if(!e.name)throw new Error("@MeasureTime -> options.name is required");return function(r){return e.isAsync?hs(ps().m((function n(){var o,i,a,s,u=arguments;return ps().w((function(n){for(;;)switch(n.n){case 0:for(t.start(e.name),o=u.length,i=new Array(o),a=0;a<o;a++)i[a]=u[a];return n.n=1,r.call.apply(r,[this].concat(i));case 1:return s=n.v,t.end(e.name),n.a(2,s)}}),n,this)}))):function(){t.start(e.name);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=r.call.apply(r,[this].concat(o));return t.end(e.name),a}}}}({timeTrackerCollector:n});return o.addMeasurementData=n.addMeasurementData.bind(n),o.getTimeTrackerCollector=function(){return n},o.send=function(e){var t=e.depart,r=e.waitBeforeSend;setTimeout((function(){ms({data:n.getAllTimings(),depart:t})}),void 0===r?300:r)},o}({prefix:vs,logger:c()("TRINITY_TTS:InjectorScript")});var gs,_s={measureTime:bs,recordNetworkSpeed:function(e){var t=performance.getEntriesByType("resource").find((function(t){return t.name.startsWith(e)}));t&&bs.getTimeTrackerCollector().addMeasurementData({TrinityRequest:t.duration,"TrinityRequest#Request":t.responseStart-t.requestStart})},LOG_PREFIX:vs};function ws(e){return ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(e)}function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ps(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ts(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Ts(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ts(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ts(f,"constructor",c),Ts(c,"constructor",u),u.displayName="GeneratorFunction",Ts(c,o,"GeneratorFunction"),Ts(f),Ts(f,o,"Generator"),Ts(f,n,(function(){return this})),Ts(f,"toString",(function(){return"[object Generator]"})),(Ps=function(){return{w:i,m:p}})()}function Ts(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ts=function(e,t,r,n){function i(t,r){Ts(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ts(e,t,r,n)}function ks(e,t,r){return(t=js(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Es(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function As(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Es(i,n,o,a,s,"next",e)}function s(e){Es(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Os(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,js(n.key),n)}}function js(e){var t=function(e,t){if("object"!=ws(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ws(t)?t:t+""}function Ds(e,t,r){"symbol"==ws(t)&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:r?r+" "+t:t})}catch(e){}return e}function Is(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?ws(e):"null"));return e}var Cs,Rs=Date.now(),Ns="".concat(_s.LOG_PREFIX,":iframeCreator"),Ls=function(){return function(e,t,r){return t&&Os(e.prototype,t),r&&Os(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r,n,o,i,a=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gs(this),_s.measureTime.getTimeTrackerCollector().start("constructor"),this.playerId=t,this.playerData=window.TRINITY_PLAYER.players[this.playerId],this.depart=Jt.A,!this.playerData)throw"PlayerID was not found for TTS: ".concat(this.playerId,". Available player IDs: ").concat(Object.keys(window.TRINITY_PLAYER.players).join(", "));this.tagScript=Ye.getTagScript(this.playerId),this.tagScriptSrc=(null===(r=this.tagScript)||void 0===r?void 0:r.src)||document.location.href,this.parentWindowQueryParams=new URL(window.location.href).searchParams,this.tagScriptQueryParams=new URL(this.tagScriptSrc).searchParams,this.audioDataQueryParams=new URL(this.tagScriptSrc).searchParams,this.devMode=new S({parentWindowQueryParams:this.parentWindowQueryParams}),P.A.addStyles({cssContent:this.devMode.getStyles(),styleId:"trinity-debug-dev-mode"}),this.renderUtils=new je({depart:this.depart,PoweredByExternal:$e,tagScriptQueryParams:this.tagScriptQueryParams,parentWindowQueryParams:this.parentWindowQueryParams}),this.renderUtils.checkForScriptTagValidity({tagScript:this.tagScript,isIframe:this.playerData.isIframe,players:window.TRINITY_PLAYER.players,playerId:this.playerId,scriptTagSelector:"script[src*=trinity][data-player-id]"}),this.isMobile=Ye.isMobile(this.tagScriptQueryParams),this.isDarkInit=Ie.A.isDark({isMobileAppDark:Boolean(Number(null===(n=this.playerData.SDKData)||void 0===n?void 0:n.darkModeIsOn))});var u,c,f=this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_ENABLED");f&&(this.playerData.displayOverlay.isEnabled=Boolean(Number(f)));try{u=this.tagScriptQueryParams.get("pageURL")||this.tagScriptQueryParams.get("url"),new URL(u),c=u}catch(e){u="about:blank"===window.location.href?document.referrer:window.location.href;try{new URL(u),c=u}catch(e){this.depart.trackError(this.depart.EVENTS.error,"Can't parse URL ".concat(u))}}this.pageURL=c,this.audioDataQueryParams.set("pageURL",c),this.contentURL=this.playerData.rchURL||this.pageURL,this.publisher=new $t.A({pageURL:this.pageURL,tagScriptQueryParams:this.tagScriptQueryParams,playerData:this.playerData}),this.user=new oe({depart:this.depart,providedUserId:window.TRINITY_PLAYER.userId}),this.user.init(),this.devToolsHandler=new es({depart:this.depart,user:this.user,isAMP:null===(o=this.playerData)||void 0===o?void 0:o.isAMP}),this.playerData.publisherUserId=this.publisher.getPublisherUserId(),this.themeId=this.playerData.themeId,this.themeDataComputed=this.playerData.themeDataComputed||{},this.theme=new rt({themeDataComputed:this.themeDataComputed,pageURL:this.pageURL}),this.playerStyles=new at({playerId:this.playerId,theme:this.theme});var p=this._getPlayerHeight(),d=this.playerStyles.getThemeValue("height-mobile"),y="".concat(p||s.A.playerHeight.int,"px"),h="".concat(d||p||s.A.playerHeight.int,"px");this.playerHeightPx=this.isMobile?h:y,this.styles={playerHeight:p,playerHeightMobile:d,playerHeightDesktopPx:y,playerHeightMobilePx:h,playerHeightPx:this.playerHeightPx},this.subscriptionLockedURL=this.tagScriptQueryParams.get("subscriptionLockedURL")||this.theme.get({property:"subscription-locked.url"}),this.postMessageHelper=new l.A(t),this.appendType=this._getAppendType(),this.resolveBackgroundColor(),this.handleIsDarkProperty=function(){return Ie.A.handleIsDarkProperty({isDarkInit:a.isDarkInit,unitThemeAppearance:a.playerData.themeAppearance,backgroundColor:a.backgroundColor})},Ie.A.listenForColorSchemaChange((function(){a.resolveBackgroundColor(),a.playerStyles.addStyles(),a.depart.track(Jt.A.EVENTS.appearanceChanged,{text_value:{isDark:a.isDark,parentBackgroundColor:a.backgroundColor}})})),_s.measureTime.getTimeTrackerCollector().end("constructor"),new jo({playerId:this.playerId,SDKData:null===(i=this.playerData)||void 0===i?void 0:i.SDKData,depart:this.depart})}),[{key:"isDark",get:function(){return this.handleIsDarkProperty()}},{key:"resolveBackgroundColor",value:function(){this.backgroundColor=De.A.getPageBackgroundColor(this.appendType.el)}},{key:"render",value:(o=As(Ps().m((function e(){var t,r,n,o,i,a,s,u,c,f,p,d,y,h,m,v,b,g,_,w,S=this;return Ps().w((function(e){for(;;)switch(e.n){case 0:return _s.measureTime.getTimeTrackerCollector().addMeasurementData(ks({},"".concat(Ns,":render#TFP"),Date.now()-Rs)),_s.measureTime.getTimeTrackerCollector().start("iframeCreator:render:@Content"),o=new ar({playerId:this.playerId,pageURL:this.pageURL,tagScriptQueryParams:this.tagScriptQueryParams}),e.n=1,o.getMetadata();case 1:if(i=e.v,_s.measureTime.getTimeTrackerCollector().end("iframeCreator:render:@Content"),this.renderUtils.isAllowToRenderBasedOnConditions({metadata:i,condition:null===(t=this.playerData.renderOptions)||void 0===t?void 0:t.condition})){e.n=2;break}return e.a(2);case 2:return _s.measureTime.getTimeTrackerCollector().start("iframeCreator:render:@i18n"),this.i18n=new Se({defaultLanguage:this.playerData.language,overrides:null===(r=this.playerData.themeDataComputed)||void 0===r?void 0:r.i18n}),e.n=3,this.i18n.setLanguage(this.playerData.language);case 3:return _s.measureTime.getTimeTrackerCollector().end("iframeCreator:render:@i18n"),this.loader=new Go({playerHeightPx:this.playerHeightPx,theme:this.theme,playerData:this.playerData,i18n:this.i18n,isDark:this.isDark}),e.n=4,this.loader.init();case 4:if(this.loaderEl=e.v,this.playerData.isTrinityEnabled=this.playerData.isTrinityEnabled||"1"===this.parentWindowQueryParams.get("TRINITY_LOAD_PLAYER"),"0"===this.parentWindowQueryParams.get("TRINITY_LOAD_PLAYER")&&(this.playerData.isTrinityEnabled=!1),this.playerData.isTrinityEnabled){e.n=5;break}return e.a(2,this._hideAppendElement());case 5:if(this.wrapperEl=this._createWrapper(),!this._isIconPlayerEnabled()){e.n=6;break}return e.n=6,this._attachWrapperToDOM(this.wrapperEl);case 6:return e.n=7,this._initIconPlayer();case 7:if(this._initReadAlongManager(),this.wrapperEl.appendChild(this.loaderEl),this._isIconPlayerEnabled()){e.n=8;break}return e.n=8,this._attachWrapperToDOM(this.wrapperEl);case 8:return $e.hideAll(),a=this.playerData.cf,_s.measureTime.getTimeTrackerCollector().start("iframeCreator:render:@promises"),s=a?[Promise.resolve({publisherSectionData:this.publisher.getPublisherSectionData(),articleTitle:i.title,canonicalURL:i.canonicalURL||this.pageURL}),ft.getDuration(a)]:[this._readTextFromPage(),Promise.resolve(null)],_s.measureTime.getTimeTrackerCollector().end("iframeCreator:render:@promises"),_s.measureTime.getTimeTrackerCollector().start("iframeCreator:render:@audioDataQueryParams"),u=this._getHostName(),e.n=9,ie.A.getContentHash({url:this.contentURL,whitelistURLParams:null===(n=this.playerData.renderOptions)||void 0===n?void 0:n.whitelistURLParams});case 9:if(this.contentHash=e.v,!this.playerData.renderOptions.waitForSections){e.n=11;break}return e.n=10,s[0];case 10:c=e.v,this.publisherSectionData=c.publisherSectionData;case 11:this.tagScriptQueryParams.get("publisherSections")&&(this.publisherSectionData=JSON.parse(this.tagScriptQueryParams.get("publisherSections"))),this.audioDataQueryParams.set("contentHash",this.contentHash),this.audioDataQueryParams.set("unitId",this.playerData.unitId),this.audioDataQueryParams.set("userId",this.user.getUserId()),this.audioDataQueryParams.set("publisherUserId",this.playerData.publisherUserId),this.audioDataQueryParams.set("isLegacyBrowser",window.TRINITY_PLAYER.isLegacyBrowser),this.audioDataQueryParams.set("isPartitioningSupport",String(Number(this.user.cookieStorageObject.isPartitioningSupport))),this.audioDataQueryParams.set("version",this.parentWindowQueryParams.get("TRINITY_VERSION")||this.playerData.version),this.audioDataQueryParams.set("useBunnyCDN",window.TRINITY_PLAYER.options.useBunnyCDN),this.audioDataQueryParams.set("abTestAlias",this.playerData.abTestAlias),this.audioDataQueryParams.set("adsDurationThreshold",this.playerData.adsDurationThreshold),this.audioDataQueryParams.set("multipleArticlesAlg",this.parentWindowQueryParams.get("TRINITY_MULTIPLE_ARTICLES_ALG")||this.tagScriptQueryParams.get("multipleArticlesAlg")),this.audioDataQueryParams.set("subscriptionLockedPreviewEnabled",this.parentWindowQueryParams.get("SUBSCRIPTION_LOCKED_PREVIEW_ENABLED")||this.tagScriptQueryParams.get("subscriptionLockedPreviewEnabled")),this.audioDataQueryParams.set("forceMobile",Number(this.playerStyles.getThemeValue("is-force-mobile"))||this.tagScriptQueryParams.get("forceMobile")),this.audioDataQueryParams.set("forceDesktop",Number(this.playerStyles.getThemeValue("is-force-desktop"))||this.tagScriptQueryParams.get("forceDesktop")),this.audioDataQueryParams.set("forceDemandID",this.parentWindowQueryParams.get("TRINITY_FORCE_DEMANDID")),this.audioDataQueryParams.set("brandedDemandId",this.parentWindowQueryParams.get("TRINITY_BRANDED_DEMAND_ID")||this.tagScriptQueryParams.get("brandedDemandId")),this.audioDataQueryParams.set("scDemandId",this.parentWindowQueryParams.get("TRINITY_SC_DEMAND_ID")||this.tagScriptQueryParams.get("scDemandId")),this.audioDataQueryParams.set("displayExpandedDemandId",this.parentWindowQueryParams.get("TRINITY_DISPLAY_EXPANDED_DEMAND_ID")),this.audioDataQueryParams.set("displayOverlayDemandId",this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_DEMAND_ID")),this.audioDataQueryParams.set("displayExpandedEnabled",this.parentWindowQueryParams.get("TRINITY_DISPLAY_EXPANDED_ENABLED")),this.audioDataQueryParams.set("displayOverlayEnabled",this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_ENABLED")),this.audioDataQueryParams.set("audioVariantId",this.parentWindowQueryParams.get("TRINITY_AUDIO_VARIANT_ID")||this.tagScriptQueryParams.get("audioVariantId")),this.audioDataQueryParams.set("trinityLoadingDelay",this.parentWindowQueryParams.get("TRINITY_LOADING_DELAY")),this.audioDataQueryParams.set("publisherSections",JSON.stringify(this.publisherSectionData)),this.audioDataQueryParams.set("cf",a),this.audioDataQueryParams.set("themeId",this.themeId),this.audioDataQueryParams.set("isMobile",String(Number(this.isMobile))),this.audioDataQueryParams.set("unitType",this.playerData.unitType),this.audioDataQueryParams.set("playerType",this.playerData.playerType),this.audioDataQueryParams.set("integrationType",this.playerData.integrationType),ie.A.removeEmptyValues(this.audioDataQueryParams),_s.measureTime.getTimeTrackerCollector().end("iframeCreator:render:@audioDataQueryParams"),f=this._createIFrame({url:"https://".concat(u,"/player/trinity-player.php?").concat(this.audioDataQueryParams.toString())}),this.playerStyles.addStyles(),s.push(f),p=this,d=xr,y=this.playerId,h=this.isMobile,m=this.iframeEl,v=this.parentWindowQueryParams,b=this.theme,g=new l.A(this.playerId),_=this.depart,w={playerId:y,isMobile:h,iframeEl:m,parentWindowQueryParams:v,get isDark(){return p.handleIsDarkProperty()},theme:b,postMessageHelper:g,depart:_},this.fab=new d(w),this.fab.FABOnly?this.wrapperEl.classList.add("fab-only"):(this.wrapperEl.style.minHeight=this.styles.playerHeightPx,this.isMobile||(this.wrapperEl.style.minWidth=this.playerStyles.getThemeValue("min-width"))),_s.measureTime.getTimeTrackerCollector().start("iframeCreator:render:@appendWrapperEl"),this.wrapperEl.appendChild(this.iframeEl),_s.measureTime.getTimeTrackerCollector().end("iframeCreator:render:@appendWrapperEl"),_s.measureTime.getTimeTrackerCollector().addMeasurementData(ks({},"".concat(_s.LOG_PREFIX,":iframeCreator:render:@appendWrapperEl#TFP iframe DOM append"),Date.now()-Rs)),this.viewability=new fr({iframeEl:this.iframeEl,playerId:this.playerId}),this.viewability.init(),this._listenPostMessages(),Promise.all(s).then(function(){var e=As(Ps().m((function e(t){var r,n;return Ps().w((function(e){for(;;)switch(e.n){case 0:if(r=t[0],S.depart.updatePublisherSections(r.publisherSectionData),(n=S.playerData.estimatedDuration||t[1])&&(r.estimatedDuration=n),S.postMessageHelper.sendToPlayer({action:l.A.privateMessages.contentData,message:r}),S.fab.init(),!S.playerData.displayOverlay.isAllowedIframe&&!S.playerData.displayExpanded.isAllowedIframe){e.n=1;break}return e.a(2,S._initDisplay());case 1:if("1"!==S.playerData.isIframe){e.n=2;break}return e.a(2);case 2:S._initDisplay();case 3:return e.a(2)}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){S.depart.trackError(S.depart.EVENTS.error,"Can't render player. Error: ".concat(e.stack||e.message||JSON.stringify(e))),window.TRINITY_PLAYER.api._internal.removePlayer(S.playerId),S._hideAppendElement()}));case 12:return e.a(2)}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"_isIconPlayerEnabled",value:function(){return Zo.isEnabled(this.playerData.playerType)}},{key:"_initIconPlayer",value:(n=As(Ps().m((function e(){var t,r,n,o,i,a,s,u,c,l,f,p;return Ps().w((function(e){for(;;)switch(e.n){case 0:if(this._isIconPlayerEnabled()){e.n=1;break}return e.a(2);case 1:return t=this,r=Zo,n=this.playerData,o=this.theme,i=this.i18n,a=this.isMobile,s=this.playerId,u=this.wrapperEl,c=this._attachWrapperToDOM.bind(this),l=this.styles.playerHeightPx,f=this.backgroundColor,p={playerData:n,theme:o,i18n:i,get isDark(){return t.handleIsDarkProperty()},isMobile:a,playerId:s,wrapperEl:u,attachShellToDOM:c,playerHeightPx:l,parentBackgroundColor:f},this.iconPlayerManager=new r(p),e.n=2,this.iconPlayerManager.getIconPlayerInstance();case 2:if(this.iconPlayer=e.v,this.iconPlayer){e.n=3;break}return e.a(2);case 3:return e.n=4,this.iconPlayer.init();case 4:return e.a(2)}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_initReadAlongManager",value:function(){this.readAlongManager=new ji({parentWindowQueryParams:this.parentWindowQueryParams,tagScriptQueryParams:this.tagScriptQueryParams,playerData:this.playerData,theme:this.theme,depart:this.depart})}},{key:"_initDisplay",value:(r=As(Ps().m((function e(){var t,r,n=this;return Ps().w((function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(t=this.playerData.displayExpanded)&&void 0!==t&&t.isEnabled||null!==(r=this.playerData.displayOverlay)&&void 0!==r&&r.isEnabled||"1"===this.parentWindowQueryParams.get("TRINITY_DISPLAY_EXPANDED_ENABLED")||"1"===this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_ENABLED")){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,f.A.load({fn:function(){var e=As(Ps().m((function e(){return Ps().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,__webpack_require__.e(287,"high").then(__webpack_require__.bind(__webpack_require__,749));case 1:return e.a(2,e.v.default)}}),e)})));return function(){return e.apply(this,arguments)}}(),moduleName:"display",depart:this.depart});case 2:Cs=e.v,e.n=4;break;case 3:return e.p=3,e.v,e.a(2);case 4:this.displayManager=new Cs({playerId:this.playerId,displayId:this.playerId,playerNode:this.wrapperEl,i18n:this.i18n,departData:{publicMessages:l.A.publicMessages,commonData:Jt.A.commonData,enableTestMode:Jt.A.enableTestMode,disabledDepartEvents:Jt.A.disabledDepartEvents},styles:{backgroundColor:this.backgroundColor},displayExpandedConfig:this.playerData.displayExpanded,displayOverlayConfig:this.playerData.displayOverlay,domain:window.TRINITY_PLAYER.domain,googleCustomParams:this.playerData.googleCustomParams,callbacks:{show:function(e){e===Cs.constants.displayModes.displayOverlay&&(n.iframeEl.classList.add(s.A.displayShowClass),n.depart.setPlayerMode(e),window.TRINITY_PLAYER.api._internal.setPlayerMode({value:e,playerId:n.playerId}),n.fab.toggleForcePermanently(!0))},hide:function(){n.iframeEl.classList.remove(s.A.displayShowClass),n.depart.setPlayerMode("default"),n.fab.toggleForcePermanently(!1)}}}),this.displayManager.init();case 5:return e.a(2)}}),e,this,[[1,3]])}))),function(){return r.apply(this,arguments)})},{key:"_hideAppendElement",value:function(){this.appendType.el.style.minHeight="0"}},{key:"_readTextFromPage",value:(t=As(Ps().m((function e(){var t,r,n,o,i,a,s;return Ps().w((function(e){for(;;)if(0===e.n)return r=(r=this.parentWindowQueryParams.get("TRINITY_HEADLINE_SELECTOR"))?atob(r):this.playerData.headlineSelector,this.playerData.headlineSelector=r,n=(n=this.parentWindowQueryParams.get("TRINITY_ARTICLE_SELECTOR"))?atob(n):this.playerData.articleSelector,this.playerData.articleSelector=n,o=Boolean(Number(this.parentWindowQueryParams.get("TRINITY_IS_NEW_TEXT_APPROACH")||this.playerData.isNewTextApproach)),this.playerData.isNewTextApproach=o,i=(i=this.parentWindowQueryParams.get("TRINITY_FILTERS"))?JSON.parse(i):this.playerData.filters,this.playerData.filters=i,a=this.playerData.selectorVersion||1,null!==(t=i)&&void 0!==t&&t.length||(a=2),(s=Number(this.parentWindowQueryParams.get("TRINITY_SELECTOR_VERSION")))&&(a=s),this.readPageContent=new ar({playerId:this.playerId,pageURL:this.pageURL,selectorVersion:a,isReadAlong:this.readAlongManager.isReadAlongEnabled(),selector:this.playerData.textSelector,headlineSelector:r,articleSelector:n,isNewTextApproach:o,filters:i,language:this.playerData.language,tagScriptQueryParams:this.tagScriptQueryParams}),e.a(2,this.readPageContent.start())}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_createWrapper",value:function(){var e=P.A.createDOMNode({classes:[s.A.wrapperClass]});return e.className=s.A.wrapperClass,e.setAttribute("data-player-id",this.playerId),e.setAttribute("data-state","not_initialized"),e.setAttribute("data-player-type",this.playerData.playerType),e}},{key:"_createIFrame",value:function(e){var t=this,r=e.url;return this.iframeEl=document.createElement("iframe"),this.iframeEl.className="trinity-iframe trinity-player",this.iframeEl.name="audioFrame_".concat(this.playerId),this.iframeEl.style.height=this.styles.playerHeightPx,this.iframeEl.src=r,this.iframeEl.title="Trinity Audio Player",this.iframeEl.setAttribute("allow","autoplay; web-share"),this.iframeEl.setAttribute("sandbox","allow-scripts allow-same-origin"),new Promise((function(e,r){t.iframeEl.onerror=r,_s.measureTime.getTimeTrackerCollector().start("iframeCreator:render:iframeEl.onload"),t.iframeEl.onload=As(Ps().m((function r(){return Ps().w((function(r){for(;;)switch(r.n){case 0:_s.measureTime.getTimeTrackerCollector().end("iframeCreator:render:iframeEl.onload"),_s.recordNetworkSpeed(t.tagScriptSrc),t.postMessageHelper.sendToPlayer({action:l.A.privateMessages.playerData,message:{playerId:t.playerId,contentURL:t.contentURL,contentHash:t.contentHash,backgroundColor:t.backgroundColor,isDev:window.TRINITY_PLAYER.isDev,isMultiplePlayers:window.TRINITY_PLAYER.api.isMultiplePlayers,enableTestMode:t.devMode.isTestModeEnabled(),isRegenerateAudio:t.devMode.isRegenerateAudio(),isShareEnabled:t.playerData.isShareEnabled||"1"===t.tagScriptQueryParams.get("shareEnabled")||"1"===t.parentWindowQueryParams.get("TRINITY_SHARE_ENABLED"),isAutoPlay:"1"===t.tagScriptQueryParams.get("isAutoPlay"),shareEndpoint:t.playerData.shareEndpoint,userData:t.user.cookieStorageObject.data,cms:t.tagScriptQueryParams.get("cms"),subscriber:t.tagScriptQueryParams.get("subscriber"),tsServer:window.TRINITY_PLAYER.tsServer,ts:window.TRINITY_PLAYER.ts,voiceGender:t.tagScriptQueryParams.get("voiceGender"),isTranslationEnabled:t.playerData.isTranslationEnabled,publisherSections:t.publisherSectionData,readAlongConfig:t.readAlongManager.getReadAlongConfig(),playerMode:t.playerData.playerMode,subscriptionLockedURL:t.subscriptionLockedURL,themeId:t.themeId,themeDataI18n:t.themeDataComputed.i18n,i18nPreloadedLanguages:t.i18n.languages,audioPostProcessorConfigId:t.parentWindowQueryParams.get("TRINITY_AUDIO_POST_PROCESSOR_CONFIG_ID")||t.tagScriptQueryParams.get("audioPostProcessorConfigId"),audioPostProcessorIsForceRegenerate:t.parentWindowQueryParams.get("TRINITY_AUDIO_POST_PROCESSOR_IS_FORCE_REGENERATE")||t.tagScriptQueryParams.get("audioPostProcessorIsForceRegenerate"),audioPostProcessorIsOverrideAudioFile:t.parentWindowQueryParams.get("TRINITY_AUDIO_POST_PROCESSOR_IS_OVERRIDE_AUDIO_FILE")||t.tagScriptQueryParams.get("audioPostProcessorIsOverrideAudioFile"),measurementData:_s.measureTime.getTimeTrackerCollector().getAllTimings()}}),t.loader.remove(),t.iframeEl.classList.add("loaded"),e();case 1:return r.a(2)}}),r)})))}))}},{key:"_attachWrapperToDOM",value:function(e){switch(this.appendType.type){case"PLACEHOLDER":"after"===this.appendType.position?this.appendType.el.after(e):"before"===this.appendType.position?this.appendType.el.before(e):this.appendType.el.appendChild(e);break;case"DYNAMIC":this.appendType.el.parentNode.insertBefore(e,this.appendType.el);break;case"BODY":this.appendType.el.insertBefore(e,this.appendType.el.firstElementChild)}return this.appendType}},{key:"_getAppendType",value:function(){var e,t=this.playerData.placeholderSelector||{},r=t.selector,n=t.position;return r&&n&&(e=document.querySelector(r))?{type:"PLACEHOLDER",el:e,position:n}:(e=this._getPlaceholder())?{type:"PLACEHOLDER",el:e}:this.tagScript&&"head"!==this.tagScript.parentNode.nodeName.toLowerCase()?{type:"DYNAMIC",el:this.tagScript}:{type:"BODY",el:document.body}}},{key:"_getPlayerHeight",value:function(){if(!this.isMobile&&this.playerData.displayOverlay.isEnabled){var e,t=p.A.displayOverlayDefaults.height;return"stripe"===(null===(e=this.playerData.displayOverlay.returnToPlayer)||void 0===e?void 0:e.type)&&(t+=p.A.returnToPlayerDefaults.stripe.height),t}return this.playerStyles.getThemeValue("height")}},{key:"_getPlaceholder",value:function(){var e=document.getElementsByClassName(s.A.placeholderClass);if(e.length){var t=e[e.length-1];return t.style.minHeight=this.styles.playerHeightPx,t}}},{key:"_getHostName",value:function(){return(window.TRINITY_PLAYER.options.serverSubdomain||"")+new URL(this.tagScriptSrc).hostname}},{key:"_listenPostMessages",value:function(){var t=this;window.addEventListener("message",function(){var r=As(Ps().m((function r(n){var o,i,a,s,u,c,f,d,y;return Ps().w((function(r){for(;;)switch(r.n){case 0:if((null===(o=n.data)||void 0===o?void 0:o.type)===l.A.PRIVATE_MESSAGE_TYPE){r.n=1;break}return r.a(2);case 1:if(a=n.source,t.iframeEl.isConnected){r.n=2;break}return r.a(2);case 2:s=n.data.value,u=null==s?void 0:s.playerId,c=null==s?void 0:s.action,f=null==s?void 0:s.message,y=c,r.n=y===l.A.privateMessages.ready?3:y===l.A.privateMessages.notifyAboutFirstClick?4:y===l.A.privateMessages.setAudioData?5:y===l.A.privateMessages.hidePlayer?6:y===l.A.privateMessages.fetchVAST?7:10;break;case 3:return t.devToolsHandler.init(),r.a(3,10);case 4:return t.user.setFirstClickTS(null==f?void 0:f.ts),window.TRINITY_PLAYER.api._internal.updateUserData({value:t.user.cookieStorageObject.data,targetSource:a}),t.depart.playerMode===p.A.displayModes.displayOverlay&&t.fab.toggleForcePermanently(!1),t.readAlongManager.initReadAlong(f.processResult),r.a(3,10);case 5:return t.audioData=e.A.getUnitData(f),t.theme=new rt({themeDataComputed:t.audioData.themeDataComputed,pageURL:t.audioData.pageURL}),r.a(3,10);case 6:return t.iframeEl.classList.remove("loaded"),r.a(3,10);case 7:if(u===t.playerId){r.n=8;break}return r.a(2);case 8:return r.n=9,Le({url:null==f?void 0:f.url,withCredentials:null==f?void 0:f.withCredentials});case 9:d=r.v,null===(i=n.source)||void 0===i||i.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.fetchVAST,message:d},playerId:u},"*");case 10:ns.open({action:c,message:f,playerData:t.playerData,subscriptionLockedURL:t.subscriptionLockedURL,pageURL:t.pageURL,theme:t.theme,i18n:t.i18n});case 11:return r.a(2)}}),r)})));return function(e){return r.apply(this,arguments)}}())}}]);var t,r,n,o}(),Ms=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ss(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ss(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e,t,r,n,o,i){var a,s,u,c,l,f,p,d=Symbol.metadata||Symbol.for("Symbol.metadata"),y=Object.defineProperty,h=Object.create,m=[h(null),h(null)],v=t.length;function b(t,r,n){return function(o,i){r&&(i=o,o=e);for(var a=0;a<t.length;a++)i=t[a].apply(o,n?[i]:[]);return n?i:o}}function g(e,t,r,n){if("function"!=typeof e&&(n||void 0!==e))throw new TypeError(t+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return e}function _(e,t,r,n,o,i,u,c,l,f,p){function d(e){if(!p(e))throw new TypeError("Attempted to access private element on non-instance")}var h=[].concat(t[0]),v=t[3],_=!u,w=1===o,S=3===o,P=4===o,T=2===o;function k(t,r,n){return function(o,i){return r&&(i=o,o=e),n&&n(o),E[t].call(o,i)}}if(!_){var E={},A=[],O=S?"get":P||w?"set":"value";if(l?(f||w?E={get:Ds((function(){return v(this)}),n,"get"),set:function(e){t[4](this,e)}}:E[O]=v,f||Ds(E[O],n,T?"":O)):f||(E=Object.getOwnPropertyDescriptor(e,n)),!f&&!l){if((s=m[+c][n])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+E[O].name+") is not supported yet");m[+c][n]=o<3?1:o}}for(var j=e,D=h.length-1;D>=0;D-=r?2:1){var I=g(h[D],"A decorator","be",!0),C=r?h[D-1]:void 0,R={},N={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:a,addInitializer:function(e,t){if(e.v)throw new TypeError("attempted to call addInitializer after decoration was finished");g(t,"An initializer","be",!0),i.push(t)}.bind(null,R)};if(_)s=I.call(C,j,N),R.v=1,g(s,"class decorators","return")&&(j=s);else if(N.static=c,N.private=l,s=N.access={has:l?p.bind():function(e){return n in e}},P||(s.get=l?T?function(e){return d(e),E.value}:k("get",0,d):function(e){return e[n]}),T||S||(s.set=l?k("set",0,d):function(e,t){e[n]=t}),j=I.call(C,w?{get:E.get,set:E.set}:E[O],N),R.v=1,w){if("object"==ws(j)&&j)(s=g(j.get,"accessor.get"))&&(E.get=s),(s=g(j.set,"accessor.set"))&&(E.set=s),(s=g(j.init,"accessor.init"))&&A.unshift(s);else if(void 0!==j)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else g(j,(f?"field":"method")+" decorators","return")&&(f?A.unshift(j):E[O]=j)}return o<2&&u.push(b(A,c,1),b(i,c,0)),f||_||(l?w?u.splice(-1,0,k("get",c),k("set",c)):u.push(T?E[O]:g.call.bind(E[O])):y(e,n,E)),j}function w(e){return y(e,d,{configurable:!0,enumerable:!0,value:a})}return void 0!==i&&(a=i[d]),a=h(null==a?null:a),l=[],f=function(e){e&&l.push(b(e))},p=function(t,n){for(var i=0;i<r.length;i++){var a=r[i],s=a[1],f=7&s;if((8&s)==t&&!f==n){var p=a[2],d=!!a[3],y=16&s;_(t?e:e.prototype,a,y,d?"#"+p:js(p),f,f<2?[]:t?c=c||[]:u=u||[],l,!!t,d,n,t&&d?function(t){return Is(t)===e}:o)}}},p(8,0),p(0,0),p(8,1),p(0,1),f(u),f(c),s=l,v||w(e),{e:s,get c(){var r=[];return v&&[w(e=_(e,[t],n,e.name,5,r)),b(r,1)]}}}(Ls,[],[[_s.measureTime({name:"iframeCreator:render",isAsync:!0}),2,"render"],[_s.measureTime({name:"iframeCreator:_initDisplay",isAsync:!0}),2,"_initDisplay"],[_s.measureTime({name:"iframeCreator:_readTextFromPage",isAsync:!0}),2,"_readTextFromPage"],[_s.measureTime({name:"iframeCreator:_attachWrapperToDOM"}),2,"_attachWrapperToDOM"],[_s.measureTime({name:"iframeCreator:_listenPostMessages"}),2,"_listenPostMessages"]]).e,1);gs=Ms[0];var xs={getFirstPlayerId:function(){return Object.keys(window.TRINITY_PLAYER.players)[0]},getPlayerData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getFirstPlayer();return window.TRINITY_PLAYER.players[e]}};function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}function Us(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Vs(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vs(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ws(n.key),n)}}function Ws(e){var t=function(e,t){if("object"!=Fs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fs(t)?t:t+""}function Ys(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function Gs(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Hs,Qs,qs,zs="trinity-debug-highlight-paragraphs",Ks=new WeakSet,Js=function(){return function(e,t,r){return t&&Bs(e.prototype,t),r&&Bs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ys(this,Ks)}),[{key:"getResultReadingText",value:function(e){var t=e.selector,r=e.filters,n=e.version;return t?r?(r.unshift({name:"nodefiltered",params:s.A.excludeTags,isDefaultFilters:!0}),Gs(Ks,this,eu).call(this,{filters:r,selector:t,version:n}).resultText):console.error("filters is missing"):console.error("selector is missing")}},{key:"highlightParagraphs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.playerId,r=void 0===t?xs.getFirstPlayerId():t,n=e.headlineSelector,o=e.articleSelector,i=e.filters,a=e.version,s=void 0===a?2:a,u=window.TRINITY_PLAYER.players[r],c=[n||u.headlineSelector,o||u.articleSelector].filter(Boolean).join(", "),l=Gs(Ks,this,eu).call(this,{filters:i,selector:c,version:s}),f=l.readingText,p=l.textParser;return Gs(Ks,this,$s).call(this,p.getNodes()),f}}])}();function $s(e){Gs(Ks,this,Zs).call(this),Gs(Ks,this,Xs).call(this,e)}function Zs(){var e;if(null!==(e=this._debugHighlightNodes)&&void 0!==e&&e.length){var t,r=Us(this._debugHighlightNodes);try{for(r.s();!(t=r.n()).done;){t.value.classList.remove(zs)}}catch(e){r.e(e)}finally{r.f()}this._debugHighlightNodes.length=0}}function Xs(e){var t,r=Us(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._debugHighlightNodes=this._debugHighlightNodes||[],this._debugHighlightNodes.push(n),n.classList.add(zs)}}catch(e){r.e(e)}finally{r.f()}}function eu(e){var t=e.node,r=void 0===t?document.documentElement:t,n=e.filters,o=e.selector,i=e.version,a=new zt,s=a.parse({node:r,filters:n,selector:o,version:i});return{textParser:a,resultText:s}}function tu(e){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}function ru(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return nu(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(nu(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nu(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,nu(f,"constructor",c),nu(c,"constructor",u),u.displayName="GeneratorFunction",nu(c,o,"GeneratorFunction"),nu(f),nu(f,o,"Generator"),nu(f,n,(function(){return this})),nu(f,"toString",(function(){return"[object Generator]"})),(ru=function(){return{w:i,m:p}})()}function nu(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nu=function(e,t,r,n){function i(t,r){nu(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},nu(e,t,r,n)}function ou(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function iu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ou(i,n,o,a,s,"next",e)}function s(e){ou(i,n,o,a,s,"throw",e)}a(void 0)}))}}function au(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,su(n.key),n)}}function su(e){var t=function(e,t){if("object"!=tu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tu(t)?t:t+""}var uu=function(){return function(e,t,r){return t&&au(e.prototype,t),r&&au(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=c()("".concat(s.A.logPrefix,":InjectorScript:API")),this.debug=new Js,window.TRINITY_PLAYER.renderCount=0,window.addEventListener("message",(function(t){var r,n,o=null===(r=t.data)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.action;if(o===l.A.publicMessages.translateTo){var i=t.data.value.message;xs.getPlayerData(i.playerId).translateTo=i.translateTo}if((null===(n=t.data)||void 0===n?void 0:n.type)===l.A.PRIVATE_MESSAGE_TYPE){if(o===l.A.privateMessages.setArticleMetadata){var a=t.data.value.message;a&&(Qs=a)}if(o===l.A.privateMessages.getTimeUpdateData&&(Hs=t.data.value.message),o===l.A.privateMessages.setAudioData){var s=e.A.getUnitData(t.data.value.message);Jt.A.constDepartData.contentMode=s.contentMode,Jt.A.constDepartData.geo=s.geo,Jt.A.constDepartData.ip=s.ip,Jt.A.constDepartData.imp_id=s.imp_id,Jt.A.commonData.contentMode=s.contentMode,Jt.A.commonData.geo=s.geo,Jt.A.commonData.ip=s.ip,Jt.A.commonData.imp_id=s.imp_id}}}))}),[{key:"createPlayer",value:(n=iu(ru().m((function e(){var t,r,n=arguments;return ru().w((function(e){for(;;)switch(e.n){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:xs.getFirstPlayerId(),r=xs.getPlayerData(t)){e.n=1;break}return e.a(2,console.error("Can't create player, since playerId: ".concat(t," was not found in TRINITY_PLAYER.players")));case 1:if(r.__initializing=!0,!Ye.getPlayerIframeByID(t)){e.n=2;break}return e.a(2);case 2:return++window.TRINITY_PLAYER.renderCount,window.TRINITY_PLAYER.ts=Date.now(),qs=new Ls(t),e.n=3,qs.render();case 3:return e.a(2)}}),e)}))),function(){return n.apply(this,arguments)})},{key:"removePlayer",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs.getFirstPlayerId(),r=Ye.getPlayerIframeByID(t);r&&(this.logger("removing playerId: ".concat(t)),this.stop(t),null===(e=r.parentNode)||void 0===e||e.remove(),this._sendPostMessage({playerId:t,action:l.A.privateMessages.playerRemovedFromDOM,targetSource:window}))}},{key:"deletePlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs.getFirstPlayerId();if(e){this.removePlayer(e),this.logger("deleting playerId: ".concat(e)),xs.getPlayerData(e);var t=Ye.getTagScript(e);null==t||t.remove(),this._sendPostMessage({playerId:e,action:l.A.privateMessages.playerRemovedFromDOM,targetSource:window})}}},{key:"generateAudio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs.getFirstPlayerId();this._sendPostMessage({playerId:e,action:l.A.privateMessages.generateAudio})}},{key:"play",value:(r=iu(ru().m((function e(){var t,r,n=arguments;return ru().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:xs.getFirstPlayerId(),e.p=1,e.n=2,this._getValueFromPlayer({playerId:t,actionName:l.A.privateMessages.playerPlay});case 2:return e.a(2,e.v);case 3:return e.p=3,r=e.v,this.logger("play(). Error: ".concat(r)),e.a(2,!1)}}),e,this,[[1,3]])}))),function(){return r.apply(this,arguments)})},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs.getFirstPlayerId();this._sendPostMessage({playerId:e,action:l.A.privateMessages.playerPause})}},{key:"resizeWindow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xs.getFirstPlayerId();this._sendPostMessage({playerId:t,action:l.A.privateMessages.resizeWindow,message:e})}},{key:"isPaused",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs.getFirstPlayerId();return"pause"===xs.getPlayerData(e).state}},{key:"pauseAll",value:function(){var e=this;Object.keys(window.TRINITY_PLAYER.players).forEach((function(t){xs.getPlayerData(t).isTrinityEnabled&&e.pause(t)}))}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs.getFirstPlayerId();this._sendPostMessage({playerId:e,action:l.A.privateMessages.playerStop})}},{key:"getDuration",value:function(){var e=iu(ru().m((function e(){var t,r,n=arguments;return ru().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:xs.getFirstPlayerId(),e.p=1,e.n=2,this._getValueFromPlayer({playerId:t,actionName:l.A.privateMessages.getDuration});case 2:return e.a(2,e.v);case 3:e.p=3,r=e.v,this.logger("getDuration(). Error: ".concat(r));case 4:return e.a(2)}}),e,this,[[1,3]])})));return function(){return e.apply(this,arguments)}}()},{key:"getVolume",value:(t=iu(ru().m((function e(){var t,r,n=arguments;return ru().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:xs.getFirstPlayerId(),e.p=1,e.n=2,this._getValueFromPlayer({playerId:t,actionName:l.A.privateMessages.getVolume});case 2:return e.a(2,e.v);case 3:e.p=3,r=e.v,this.logger("getVolume(). Error: ".concat(r));case 4:return e.a(2)}}),e,this,[[1,3]])}))),function(){return t.apply(this,arguments)})},{key:"setVolume",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xs.getFirstPlayerId();this._sendPostMessage({playerId:t,action:l.A.privateMessages.setVolume,message:e})}},{key:"setMuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xs.getFirstPlayerId();this._sendPostMessage({playerId:t,action:l.A.privateMessages.setMuted,message:e})}},{key:"setCurrentTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xs.getFirstPlayerId();this._sendPostMessage({playerId:t,action:l.A.privateMessages.setCurrentTime,message:e})}},{key:"getCurrentTime",value:function(){var e=iu(ru().m((function e(){var t,r,n=arguments;return ru().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:xs.getFirstPlayerId(),e.p=1,e.n=2,this._getValueFromPlayer({playerId:t,actionName:l.A.privateMessages.getCurrentTime});case 2:return e.a(2,e.v);case 3:e.p=3,r=e.v,this.logger("getCurrentTime(). Error: ".concat(r));case 4:return e.a(2)}}),e,this,[[1,3]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTimeUpdateData",value:function(){return Hs}},{key:"setUserId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xs.getFirstPlayerId();xs.getPlayerData(t).publisherUserId=e,this.updateUserData({value:{publisher_user_id:e},playerId:t})}},{key:"updateUserData",value:function(e){var t=e.value,r=e.playerId,n=void 0===r?xs.getFirstPlayerId():r,o=e.targetSource;this._sendPostMessage({playerId:n,action:l.A.privateMessages.updateUserData,message:t,targetSource:o})}},{key:"setPlayerMode",value:function(e){var t=e.value,r=e.playerId,n=void 0===r?xs.getFirstPlayerId():r;this._sendPostMessage({playerId:n,action:l.A.privateMessages.setPlayerMode,message:t})}},{key:"getMetadata",value:function(){var e;return Qs||(null===(e=qs)||void 0===e?void 0:e.readPageContent.metadata)}},{key:"getPlayerIframe",value:function(e){if(!e)throw"Missed playerId";var t=Ye.getPlayerIframeByID(e);if(!t)throw"Cannot find player iframe for playerId: ".concat(e);return t}},{key:"getFirstPlayer",value:function(){return xs.getFirstPlayerId()}},{key:"getFirstPlayerData",value:function(){return xs.getPlayerData(xs.getFirstPlayerId())}},{key:"_sendPostMessage",value:function(e){var t=e.playerId,r=e.action,n=e.message,o=e.targetSource||this.getPlayerIframe(t).contentWindow;o&&o.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:r,message:n,playerId:t}},"*")}},{key:"_getValueFromPlayer",value:function(e){var t=this,r=e.playerId,n=void 0===r?xs.getFirstPlayerId():r,o=e.actionName;return new Promise((function(e,r){var i=function(t){var r,n;(null===(r=t.data)||void 0===r?void 0:r.type)===l.A.PRIVATE_MESSAGE_TYPE&&(null===(n=t.data.value)||void 0===n?void 0:n.action)===o&&(e(t.data.value.message),clearTimeout(a),window.removeEventListener("message",i))},a=setTimeout((function(){r("Timeout to get postMessage value from player"),window.removeEventListener("message",i)}),2e3);window.addEventListener("message",i),t._sendPostMessage({playerId:n,action:o})}))}}]);var t,r,n}(),cu=new a({depart:Jt.A}),lu=new uu;window.TRINITY_PLAYER.api=cu.exposePublicAPI({methods:[{name:"createPlayer",params:["playerId"]},{name:"removePlayer",params:["playerId"]},{name:"deletePlayer",params:["playerId"]},{name:"generateAudio",params:["playerId"]},{name:"play",params:["playerId"]},{name:"pause",params:["playerId"]},{name:"pauseAll",params:[]},{name:"stop",params:["playerId"]},{name:"getDuration",params:["playerId"]},{name:"getVolume",params:["playerId"]},{name:"setVolume",params:["volume","playerId"]},{name:"setMuted",params:["isMuted","playerId"]},{name:"setCurrentTime",params:["time","playerId"]},{name:"getCurrentTime",params:["playerId"]},{name:"setUserId",params:["value","playerId"]},{name:"updateUserData",params:["value","playerId","targetSource"]},{name:"getMetadata",params:[]},{name:"getFirstPlayer",params:[],isReported:!1},{name:"getFirstPlayerData",params:[],isReported:!1}],internalAPI:lu}),window.TRINITY_PLAYER.api.isMultiplePlayers=!!window[s.A.varMultiplePlayers],window.TRINITY_PLAYER.api._internal=lu;var fu=__webpack_require__(5072),pu=__webpack_require__.n(fu),du=__webpack_require__(7825),yu=__webpack_require__.n(du),hu=__webpack_require__(7659),mu=__webpack_require__.n(hu),vu=__webpack_require__(5056),bu=__webpack_require__.n(vu),gu=__webpack_require__(540),_u=__webpack_require__.n(gu),wu=__webpack_require__(1113),Su=__webpack_require__.n(wu),Pu=__webpack_require__(8129),Tu={};Tu.styleTagTransform=Su(),Tu.setAttributes=bu(),Tu.insert=mu().bind(null,"head"),Tu.domAPI=yu(),Tu.insertStyleElement=_u();pu()(Pu.A,Tu),Pu.A&&Pu.A.locals&&Pu.A.locals;function ku(e){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}function Eu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ku(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ku(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ku(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Au(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ou(c,"_invoke",function(r,n,o){var i,s,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,s=0,u=e,p.n=r,a}};function d(r,n){for(s=r,u=n,t=0;!f&&c&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(s=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,s=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),s=l,u=y;(t=s<2?e:u)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,u)):p.n=u:p.v=u);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){i=e,s=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,o,i),!0),c}var a={};function s(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Ou(t={},n,(function(){return this})),t),f=c.prototype=s.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ou(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ou(f,"constructor",c),Ou(c,"constructor",u),u.displayName="GeneratorFunction",Ou(c,o,"GeneratorFunction"),Ou(f),Ou(f,o,"Generator"),Ou(f,n,(function(){return this})),Ou(f,"toString",(function(){return"[object Generator]"})),(Au=function(){return{w:i,m:p}})()}function Ou(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ou=function(e,t,r,n){function i(t,r){Ou(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ou(e,t,r,n)}function ju(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Du(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ju(i,n,o,a,s,"next",e)}function s(e){ju(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Iu=Date.now(),Cu=Ye.getValidPageUrl([window.location.href,document.referrer,window.TRINITY_PLAYER.pageURL]),Ru=window.TRINITY_PLAYER.api._internal.getFirstPlayerData();window.onerror=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Ye.logWindowError.apply(Ye,[{userAgentData:window.TRINITY_PLAYER.userAgentData,version:window.TRINITY_PLAYER.version,pageURL:Cu,topDomain:new URL(Cu).hostname,unitId:Ru.unitId,language:Ru.language,uuid:window.TRINITY_PLAYER.userId}].concat(t))};var Nu=function(e){var t;null===(t=e.source)||void 0===t||t.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.pausedAll}},"*")};function Lu(e,t){var r;null===(r=e.source)||void 0===r||r.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.subscribeToScrollData,message:{scrollTop:document.documentElement.scrollTop,initialScrollTop:t}}},"*")}Du(Au().m((function t(){var r,n,o,i,a,u,c,f,p;return Au().w((function(t){for(;;)switch(t.n){case 0:return c=Jt.A,f=Ru.contentURL,t.n=1,ie.A.getContentHash({url:Ru.contentURL,whitelistURLParams:null===(r=Ru.renderOptions)||void 0===r?void 0:r.whitelistURLParams});case 1:p=t.v,c.setContentData.call(c,{content_url:f,content_hash:p}),Jt.A.setPlayerMode(Ru.playerMode||"default"),Jt.A.track(Jt.A.EVENTS.injectorImp),i=0,a=["KeyT","KeyT","KeyT"],window.addEventListener("keydown",function(){var t=Du(Au().m((function t(r){var n,o,c;return Au().w((function(t){for(;;)switch(t.n){case 0:if(a[i]===r.code){t.n=1;break}return i=0,t.a(2);case 1:if(o=(null===(n=document.activeElement.shadowRoot)||void 0===n?void 0:n.activeElement)||document.activeElement,!["TEXTAREA","INPUT"].includes(o.nodeName)){t.n=2;break}return t.a(2);case 2:if(!o.getAttribute("contenteditable")){t.n=3;break}return t.a(2);case 3:if(clearTimeout(u),u=setTimeout((function(){i=0}),1e3),!(++i<a.length)){t.n=4;break}return t.a(2);case 4:return(c=new Audio).src="".concat(e.A.beforeRollPath,"/en/").concat(e.A.activatedFileName),t.n=5,c.play();case 5:document.querySelector(".".concat(s.A.wrapperClass," iframe")).focus();case 6:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()),window.addEventListener("message",(function(e){var t,r,i,a,u=null===(t=e.data)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.message,c=null===(r=e.data)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.playerId;if((null===(i=e.data)||void 0===i?void 0:i.type)===l.A.PRIVATE_MESSAGE_TYPE)switch(null===(a=e.data.value)||void 0===a?void 0:a.action){case l.A.publicMessages.playClicked:case l.A.publicMessages.resumed:var f=Object.keys(window.TRINITY_PLAYER.players).filter((function(t){return t!==e.data.value}));f.forEach((function(e){window.TRINITY_PLAYER.players[c].isTrinityEnabled&&window.TRINITY_PLAYER.api._internal.pause(e)})),Me.A.waitUntil({fn:function(){return f.every((function(e){return"play"!==window.TRINITY_PLAYER.players[e].state}))}}).finally((function(){Nu(e)}));break;case l.A.privateMessages.changeAudioType:null!=u&&u.audioType&&(window.TRINITY_PLAYER.players[c].audioTypePlaying=null==u?void 0:u.audioType);break;case l.A.privateMessages.subscribeToScrollData:n=n||document.documentElement.scrollTop,o=function(){Lu(e,n)},window.addEventListener("scroll",o);break;case l.A.privateMessages.unsubscribeToScrollData:window.removeEventListener("scroll",o);break;case l.A.privateMessages.updateState:window.TRINITY_PLAYER.players[c].state=u,document.querySelector(".".concat(s.A.wrapperClass,'[data-player-id="').concat(c,'"]')).setAttribute("data-state",u)}e.data===l.A.privateMessages.removePlayer&&window.TRINITY_PLAYER.api._internal.removePlayer()})),window.TRINITY_PLAYER.isLoaded=!0,window.TRINITY_PLAYER.constants={postMessageType:l.A.PUBLIC_MESSAGE_TYPE},window.TRINITY_PLAYER.message=l.A.publicMessages;case 2:return t.a(2)}}),t)})))(),_s.measureTime.getTimeTrackerCollector().addMeasurementData(Eu(Eu({},"".concat(_s.LOG_PREFIX,"#Execution"),Date.now()-Iu),"TrinityRequest#Execution",window.__TRINITY_TAG_TIME__))}()})();