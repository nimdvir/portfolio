(function(){OBR.clip=OBR.clip||function(){const a=k=>{k=k&&OBR.g.I(k);return k?(k=k.querySelectorAll(".ob-rec-video[ob-data-clip]"))&&k.length?Array.from(k):[]:[]},b=k=>{const l=k.element;l.addEventListener("click",q=>{l.paused?l.play():l.pause();q.stopPropagation();q.preventDefault();return!1})},c=k=>{k.element.addEventListener("ended",()=>{const l=k.element,q=k.kp;0<q-1&&(k.kp=q-1,l.play())})},d=k=>{const l=k.BD;k.element.addEventListener("ended",()=>{const q=k.element;if(0===k.kp-1){q.removeAttribute("controls");
k.dw=!0;l.style.display=null;const h=()=>{q.removeEventListener("play",h);k.dw=!1;l.style.display="none"};q.addEventListener("play",h)}})},e=k=>{const l=k.element;k.UJ.addEventListener("click",q=>{l.play();q.stopPropagation();q.preventDefault();return!1})},f=({element:k})=>{k.autoplay&&(new OBR.IntersectionObserver({callback:l=>0<l.intersectionRatio?k.play():k.pause(),element:k,threshold:0,intersectPercentage:-1,unobserve:!1})).observe()};let g=!0;try{(g=(()=>{const k=document.createElement("video");
k.playsInline=!0;return"webkitSupportsPresentationMode"in k&&!k.webkitSupportsPresentationMode("inline")?!1:!0})())||OBR.error({name:"obm-fullscreenClip",message:"Inline playback is not supported."})}catch(k){}return k=>{var l=k.A();l=a(l);const q=k.l("clipPauseOnClick",!1);l.forEach(h=>{var m={element:h,BD:h.parentElement.querySelector(".ob-clip-end"),dw:!1,kp:h.hasAttribute("ob-data-loops")?+h.getAttribute("ob-data-loops"):1,UJ:h.parentElement.querySelector(".ob-clip-replay")};q&&b(m);var p=m.element;
p=p.closest?p.closest("a"):void 0;p&&p.style&&"webkitTapHighlightColor"in p.style&&(p.style.webkitTapHighlightColor="transparent");c(m);d(m);e(m);if(g)f(m);else{h.autoplay=!1;h.pause();try{h.webkitExitFullscreen()}catch(r){}}})}}();OBR.s.U(OBR.s.v.ql);}).call(window);
